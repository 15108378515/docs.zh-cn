---
title: 日期和时间函数
ms.date: 03/30/2017
ms.assetid: 971762d0-663b-4b64-8c61-352a8e6d3949
ms.openlocfilehash: 56ef2f0b0a62f6b2cf6db5fe2c6713c58228ff6f
ms.sourcegitcommit: 3c1c3ba79895335ff3737934e39372555ca7d6d0
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/05/2018
ms.locfileid: "43749536"
---
# <a name="date-and-time-functions"></a><span data-ttu-id="c0df6-102">日期和时间函数</span><span class="sxs-lookup"><span data-stu-id="c0df6-102">Date and Time Functions</span></span>
<span data-ttu-id="c0df6-103">SQL Server .NET Framework 数据提供程序 (SqlClient) 提供了日期和时间函数，这些函数针对 `System.DateTime` 输入值执行运算并返回 `string`、数值或 `System.DateTime` 值结果。</span><span class="sxs-lookup"><span data-stu-id="c0df6-103">The .NET Framework Data Provider for SQL Server (SqlClient) provides date and time functions that perform operations on a `System.DateTime` input value and return a `string`, numeric, or `System.DateTime` value result.</span></span> <span data-ttu-id="c0df6-104">这些函数位于 SqlServer 命名空间中，该命名空间在您使用 SqlClient 时可用。</span><span class="sxs-lookup"><span data-stu-id="c0df6-104">These functions are in the SqlServer namespace, which is available when you use SqlClient.</span></span> <span data-ttu-id="c0df6-105">提供程序的命名空间属性使实体框架可以确定此提供程序对特定构造（如类型和函数）使用哪个前缀。下表显示 SqlClient 日期和时间函数。</span><span class="sxs-lookup"><span data-stu-id="c0df6-105">A provider's namespace property allows the Entity Framework to discover which prefix is used by this provider for specific constructs, such as types and functions.The following table shows the SqlClient date and time functions.</span></span>  
  
|<span data-ttu-id="c0df6-106">函数</span><span class="sxs-lookup"><span data-stu-id="c0df6-106">Function</span></span>|<span data-ttu-id="c0df6-107">描述</span><span class="sxs-lookup"><span data-stu-id="c0df6-107">Description</span></span>|  
|--------------|-----------------|  
|`DATEADD(datepart, number, date)`|<span data-ttu-id="c0df6-108">返回给指定日期加上一个间隔后的新 `DateTime` 值。</span><span class="sxs-lookup"><span data-stu-id="c0df6-108">Returns a new `DateTime` value that is based on adding an interval to the specified date.</span></span><br /><br /> <span data-ttu-id="c0df6-109">**参数**</span><span class="sxs-lookup"><span data-stu-id="c0df6-109">**Arguments**</span></span><br /><br /> <span data-ttu-id="c0df6-110">`datepart`：一个 `String`，表示用于返回新值的日期部分。</span><span class="sxs-lookup"><span data-stu-id="c0df6-110">`datepart`: A `String` that represents the part of the date on which to return a new value.</span></span><br /><br /> <span data-ttu-id="c0df6-111">`number`：用于增加 `Int32` 的 `Int64`、`Decimal`、`Double` 或 `datepart` 值。</span><span class="sxs-lookup"><span data-stu-id="c0df6-111">`number`: The `Int32`, `Int64`, `Decimal`, or `Double` value used to increment `datepart`.</span></span><br /><br /> <span data-ttu-id="c0df6-112">`date:` 一个表达式，返回`DateTime`，或`DateTimeOffset`，或`Time`精度为 [0-7]，或日期格式的字符串。</span><span class="sxs-lookup"><span data-stu-id="c0df6-112">`date:` An expression that returns a `DateTime`, or `DateTimeOffset`, or `Time` with precision = [0-7], or a character string in a date format.</span></span><br /><br /> <span data-ttu-id="c0df6-113">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-113">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-114">精度为 0 到 7 的新 `DateTime`、`DateTimeOffset` 或 `Time` 值。</span><span class="sxs-lookup"><span data-stu-id="c0df6-114">A new `DateTime`, or `DateTimeOffset`, or `Time` value with precision = [0-7].</span></span><br /><br /> <span data-ttu-id="c0df6-115">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-115">**Example**</span></span><br /><br /> `SqlServer.DATEADD('day', 22, cast('6/9/2006' as DateTime))`|  
|`DATEDIFF(datepart,startdate,enddate)`|<span data-ttu-id="c0df6-116">返回两个指定日期之间所跨的日期和时间边界的数目。</span><span class="sxs-lookup"><span data-stu-id="c0df6-116">Returns the number of date and time boundaries crossed between two specified dates.</span></span><br /><br /> <span data-ttu-id="c0df6-117">**参数**</span><span class="sxs-lookup"><span data-stu-id="c0df6-117">**Arguments**</span></span><br /><br /> <span data-ttu-id="c0df6-118">`datepart`：一个 `String`，表示用于计算差异的日期部分。</span><span class="sxs-lookup"><span data-stu-id="c0df6-118">`datepart`: A `String` that represents the part of the date to calculate the difference.</span></span><br /><br /> <span data-ttu-id="c0df6-119">`startdate`：计算的开始日期为一个表达式，该表达式返回精度为 0 到 7 的 `DateTime`、`DateTimeOffset` 或 `Time` 值或日期格式的字符串。</span><span class="sxs-lookup"><span data-stu-id="c0df6-119">`startdate`: A starting date for the calculation is an expression that returns a `DateTime`, or `DateTimeOffset`, or `Time` value with precision = [0-7], or a character string in a date format.</span></span><br /><br /> <span data-ttu-id="c0df6-120">`enddate:` 计算的结束日期是一个表达式，返回`DateTime`，或`DateTimeOffset`，或`Time`精度的值 = [0-7]，或日期格式的字符串。</span><span class="sxs-lookup"><span data-stu-id="c0df6-120">`enddate:` An ending date for the calculation is an expression that returns a `DateTime`, or `DateTimeOffset`, or `Time` value with precision = [0-7], or a character string in a date format.</span></span><br /><br /> <span data-ttu-id="c0df6-121">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-121">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-122">一个 `Int32`。</span><span class="sxs-lookup"><span data-stu-id="c0df6-122">An `Int32`.</span></span><br /><br /> <span data-ttu-id="c0df6-123">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-123">**Example**</span></span><br /><br /> `SqlServer.DATEDIFF('day', cast('6/9/2006' as DateTime),`<br /><br /> `cast('6/20/2006' as DateTime))`|  
|`DATENAME(datepart, date)`|<span data-ttu-id="c0df6-124">返回表示指定日期的指定日期部分的字符串。</span><span class="sxs-lookup"><span data-stu-id="c0df6-124">Returns a character string representing the specified datepart of the specified date.</span></span><br /><br /> <span data-ttu-id="c0df6-125">**参数**</span><span class="sxs-lookup"><span data-stu-id="c0df6-125">**Arguments**</span></span><br /><br /> <span data-ttu-id="c0df6-126">`datepart`：一个 `String`，表示用于返回新值的日期部分。</span><span class="sxs-lookup"><span data-stu-id="c0df6-126">`datepart`: A `String` that represents the part of the date on which to return a new value.</span></span><br /><br /> <span data-ttu-id="c0df6-127">`date`：一个表达式，返回精度为 0 到 7 的 `DateTime,`、`DateTimeOffset` 或 `Time` 值或日期格式的字符串。</span><span class="sxs-lookup"><span data-stu-id="c0df6-127">`date`: An expression that returns a `DateTime,` or `DateTimeOffset`, or `Time` value with precision = [0-7], or a character string in a date format.</span></span><br /><br /> <span data-ttu-id="c0df6-128">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-128">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-129">表示指定日期的指定日期部分的字符串。</span><span class="sxs-lookup"><span data-stu-id="c0df6-129">The character string representing the specified datepart of the specified date.</span></span><br /><br /> <span data-ttu-id="c0df6-130">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-130">**Example**</span></span><br /><br /> `SqlServer.DATENAME('year', cast('6/9/2006' as DateTime))`|  
|`DATEPART(datepart, date)`|<span data-ttu-id="c0df6-131">返回表示指定日期的指定日期部分的整数。</span><span class="sxs-lookup"><span data-stu-id="c0df6-131">Returns an integer that represents the specified datepart of the specified date.</span></span><br /><br /> <span data-ttu-id="c0df6-132">**参数**</span><span class="sxs-lookup"><span data-stu-id="c0df6-132">**Arguments**</span></span><br /><br /> <span data-ttu-id="c0df6-133">`datepart`：一个 `String`，表示用于返回新值的日期部分。</span><span class="sxs-lookup"><span data-stu-id="c0df6-133">`datepart`: A `String` that represents the part of the date on which to return a new value.</span></span><br /><br /> <span data-ttu-id="c0df6-134">`date`：一个表达式，返回精度为 0 到 7 的 `DateTime,`、`DateTimeOffset,` 或 `Time` 值或日期格式的字符串。</span><span class="sxs-lookup"><span data-stu-id="c0df6-134">`date`: An expression that returns a `DateTime,` or `DateTimeOffset,` or `Time` value with precision = [0-7], or a character string in a date format.</span></span><br /><br /> <span data-ttu-id="c0df6-135">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-135">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-136">指定日期的指定日期部分（以 `Int32` 表示）。</span><span class="sxs-lookup"><span data-stu-id="c0df6-136">The specified datepart of the specified date, as an `Int32`.</span></span><br /><br /> <span data-ttu-id="c0df6-137">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-137">**Example**</span></span><br /><br /> `SqlServer.DATEPART('year', cast('6/9/2006' as DateTime))`|  
|`DAY(date)`|<span data-ttu-id="c0df6-138">返回整数形式的指定日期的天。</span><span class="sxs-lookup"><span data-stu-id="c0df6-138">Returns the day of the specified date as an integer.</span></span><br /><br /> <span data-ttu-id="c0df6-139">**参数**</span><span class="sxs-lookup"><span data-stu-id="c0df6-139">**Arguments**</span></span><br /><br /> <span data-ttu-id="c0df6-140">`date`： 类型的表达式`DateTime`或`DateTimeOffset`精度为 0 到 7。</span><span class="sxs-lookup"><span data-stu-id="c0df6-140">`date`:An expression of type `DateTime` or `DateTimeOffset` with precision = 0-7.</span></span><br /><br /> <span data-ttu-id="c0df6-141">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-141">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-142">指定日期的“日”（以 `Int32` 表示）。</span><span class="sxs-lookup"><span data-stu-id="c0df6-142">The day of the specified date as an `Int32`.</span></span><br /><br /> <span data-ttu-id="c0df6-143">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-143">**Example**</span></span><br /><br /> `SqlServer.DAY(cast('6/9/2006' as DateTime))`|  
|`GETDATE()`|<span data-ttu-id="c0df6-144">为 datetime 值生成以 SQL Server 内部格式表示的当前日期和时间。</span><span class="sxs-lookup"><span data-stu-id="c0df6-144">Produces the current date and time in SQL Server internal format for datetime values.</span></span><br /><br /> <span data-ttu-id="c0df6-145">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-145">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-146">`DateTime` 类型的当前系统日期和时间（精度为 3）。</span><span class="sxs-lookup"><span data-stu-id="c0df6-146">The current system date and time as a `DateTime` with a precision of 3.</span></span><br /><br /> <span data-ttu-id="c0df6-147">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-147">**Example**</span></span><br /><br /> `SqlServer.GETDATE()`|  
|`GETUTCDATE()`|<span data-ttu-id="c0df6-148">以 UTC（协调世界时或格林威治标准时间）格式生成 datetime 值。</span><span class="sxs-lookup"><span data-stu-id="c0df6-148">Produces the datetime value in UTC (Coordinated Universal Time or Greenwich Mean Time) format.</span></span><br /><br /> <span data-ttu-id="c0df6-149">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-149">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-150">UTC 格式的 `DateTime` 值（精度为 3）。</span><span class="sxs-lookup"><span data-stu-id="c0df6-150">The `DateTime` value with a precision of 3 in UTC format.</span></span><br /><br /> <span data-ttu-id="c0df6-151">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-151">**Example**</span></span><br /><br /> `SqlServer.GETUTCDATE()`|  
|`MONTH(date)`|<span data-ttu-id="c0df6-152">以整数形式返回指定日期的月份。</span><span class="sxs-lookup"><span data-stu-id="c0df6-152">Returns the month of the specified date as an integer.</span></span><br /><br /> <span data-ttu-id="c0df6-153">**参数**</span><span class="sxs-lookup"><span data-stu-id="c0df6-153">**Arguments**</span></span><br /><br /> <span data-ttu-id="c0df6-154">`date`： 类型的表达式`DateTime`或`DateTimeOffset`精度为 0 到 7。</span><span class="sxs-lookup"><span data-stu-id="c0df6-154">`date`:An expression of type `DateTime` or `DateTimeOffset` with precision = 0-7.</span></span><br /><br /> <span data-ttu-id="c0df6-155">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-155">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-156">指定日期的月份（以 `Int32` 表示）。</span><span class="sxs-lookup"><span data-stu-id="c0df6-156">The month of the specified date as an `Int32`.</span></span><br /><br /> <span data-ttu-id="c0df6-157">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-157">**Example**</span></span><br /><br /> `SqlServer.MONTH(cast('6/9/2006' as DateTime))`|  
|`YEAR(date)`|<span data-ttu-id="c0df6-158">以整数形式返回指定日期的年度。</span><span class="sxs-lookup"><span data-stu-id="c0df6-158">Returns the year of the specified date as an integer.</span></span><br /><br /> <span data-ttu-id="c0df6-159">**参数**</span><span class="sxs-lookup"><span data-stu-id="c0df6-159">**Arguments**</span></span><br /><br /> <span data-ttu-id="c0df6-160">`date`： 类型的表达式`DateTime`或`DateTimeOffset`精度为 0 到 7。</span><span class="sxs-lookup"><span data-stu-id="c0df6-160">`date`:An expression of type `DateTime` or `DateTimeOffset` with precision = 0-7.</span></span><br /><br /> <span data-ttu-id="c0df6-161">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-161">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-162">指定日期的年度（以 `Int32` 表示）。</span><span class="sxs-lookup"><span data-stu-id="c0df6-162">The year of the specified date as an `Int32`.</span></span><br /><br /> <span data-ttu-id="c0df6-163">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-163">**Example**</span></span><br /><br /> `SqlServer.YEAR(cast('6/9/2006' as DateTime))`|  
|`SYSDATETIME()`|<span data-ttu-id="c0df6-164">返回精度为 7 的 `DateTime` 值。</span><span class="sxs-lookup"><span data-stu-id="c0df6-164">Returns a `DateTime` value with a precision of 7.</span></span><br /><br /> <span data-ttu-id="c0df6-165">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-165">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-166">精度为 7 的 `DateTime` 值。</span><span class="sxs-lookup"><span data-stu-id="c0df6-166">A `DateTime` value with a precision of 7.</span></span><br /><br /> <span data-ttu-id="c0df6-167">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-167">**Example**</span></span><br /><br /> `SqlServer.SYSDATETIME()`|  
|`SYSUTCDATE()`|<span data-ttu-id="c0df6-168">以 UTC（协调世界时或格林威治标准时间）格式生成 datetime 值。</span><span class="sxs-lookup"><span data-stu-id="c0df6-168">Produces the datetime value in UTC (Coordinated Universal Time or Greenwich Mean Time) format.</span></span><br /><br /> <span data-ttu-id="c0df6-169">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-169">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-170">UTC 格式的 `DateTime` 值（精度为 7）。</span><span class="sxs-lookup"><span data-stu-id="c0df6-170">The `DateTime` value with precision = 7 in UTC format.</span></span><br /><br /> <span data-ttu-id="c0df6-171">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-171">**Example**</span></span><br /><br /> `SqlServer.SYSUTCDATE()`|  
|`SYSDATETIMEOFFSET()`|<span data-ttu-id="c0df6-172">返回精度为 7 的 `DateTimeOffset` 值。</span><span class="sxs-lookup"><span data-stu-id="c0df6-172">Returns a `DateTimeOffset` with a precision of 7.</span></span><br /><br /> <span data-ttu-id="c0df6-173">**返回值**</span><span class="sxs-lookup"><span data-stu-id="c0df6-173">**Return Value**</span></span><br /><br /> <span data-ttu-id="c0df6-174">UTC 格式的 `DateTimeOffset` 值（精度为 7）。</span><span class="sxs-lookup"><span data-stu-id="c0df6-174">A `DateTimeOffset` value with precision of 7 in UTC format.</span></span><br /><br /> <span data-ttu-id="c0df6-175">**示例**</span><span class="sxs-lookup"><span data-stu-id="c0df6-175">**Example**</span></span><br /><br /> `SqlServer.SYSDATETIMEOFFSET()`|  
  
 <span data-ttu-id="c0df6-176">有关 SqlClient 支持的日期和时间函数的更多信息，请参见 SqlClient 提供程序清单中所指定的 SQL Server 版本的相应文档：</span><span class="sxs-lookup"><span data-stu-id="c0df6-176">For more information about the date and time functions that SqlClient supports, see the documentation for the SQL Server version that you specified in the SqlClient provider manifest:</span></span>  
  
|<span data-ttu-id="c0df6-177">SQL Server 2000</span><span class="sxs-lookup"><span data-stu-id="c0df6-177">SQL Server 2000</span></span>|<span data-ttu-id="c0df6-178">SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="c0df6-178">SQL Server 2005</span></span>|<span data-ttu-id="c0df6-179">SQL Server 2008</span><span class="sxs-lookup"><span data-stu-id="c0df6-179">SQL Server 2008</span></span>|  
|---------------------|---------------------|---------------------|  
|[<span data-ttu-id="c0df6-180">日期和时间函数 (Transact SQL)</span><span class="sxs-lookup"><span data-stu-id="c0df6-180">Date and Time Functions (Transact-SQL)</span></span>](https://go.microsoft.com/fwlink/?LinkId=115908)|[<span data-ttu-id="c0df6-181">日期和时间函数 (Transact SQL)</span><span class="sxs-lookup"><span data-stu-id="c0df6-181">Date and Time Functions (Transact-SQL)</span></span>](https://go.microsoft.com/fwlink/?LinkId=115909)|[<span data-ttu-id="c0df6-182">日期和时间函数 (Transact SQL)</span><span class="sxs-lookup"><span data-stu-id="c0df6-182">Date and Time Functions (Transact-SQL)</span></span>](https://go.microsoft.com/fwlink/?LinkId=98360)|  
  
## <a name="see-also"></a><span data-ttu-id="c0df6-183">请参阅</span><span class="sxs-lookup"><span data-stu-id="c0df6-183">See Also</span></span>  
 [<span data-ttu-id="c0df6-184">用于实体框架函数的 SqlClient</span><span class="sxs-lookup"><span data-stu-id="c0df6-184">SqlClient for Entity Framework Functions</span></span>](../../../../../docs/framework/data/adonet/ef/sqlclient-for-ef-functions.md)
