---
title: "开发和部署 WCF 数据服务"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- WCF Data Services, developing
- WCF Data Services, deploying
- deploying [WCF Data Services
- developing applications [WCF Data Services]
ms.assetid: 6557c0e3-5aea-4f6e-bc14-77ad317a168b
caps.latest.revision: "6"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 34fd9bc3bf16446505caf12c6cfa4192ffb391c0
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/22/2017
---
# <a name="developing-and-deploying-wcf-data-services"></a><span data-ttu-id="6f773-102">开发和部署 WCF 数据服务</span><span class="sxs-lookup"><span data-stu-id="6f773-102">Developing and Deploying WCF Data Services</span></span>
<span data-ttu-id="6f773-103">本主题提供有关开发和部署 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]的信息。</span><span class="sxs-lookup"><span data-stu-id="6f773-103">This topic provides information about developing and deploying [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)].</span></span> <span data-ttu-id="6f773-104">有关更多基本信息[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]，请参阅[入门](../../../../docs/framework/data/wcf/getting-started-with-wcf-data-services.md)和[概述](../../../../docs/framework/data/wcf/wcf-data-services-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="6f773-104">For more basic information about [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], see [Getting Started](../../../../docs/framework/data/wcf/getting-started-with-wcf-data-services.md) and [Overview](../../../../docs/framework/data/wcf/wcf-data-services-overview.md).</span></span>  
  
## <a name="developing-wcf-data-services"></a><span data-ttu-id="6f773-105">开发 WCF 数据服务</span><span class="sxs-lookup"><span data-stu-id="6f773-105">Developing WCF Data Services</span></span>  
 <span data-ttu-id="6f773-106">使用 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 创建支持 [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)]的数据服务时，必须在开发过程中执行以下基本任务：</span><span class="sxs-lookup"><span data-stu-id="6f773-106">When you use [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] to create a data service that supports the [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)], you must perform the following basic tasks during development:</span></span>  
  
1.  <span data-ttu-id="6f773-107">**定义数据模型**</span><span class="sxs-lookup"><span data-stu-id="6f773-107">**Define the data model**</span></span>  
  
     [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="6f773-108"> 支持各种数据服务提供程序，可基于来自各种数据源（从关系数据库到后期绑定数据类型）的数据定义数据模型。</span><span class="sxs-lookup"><span data-stu-id="6f773-108"> supports a variety of data service providers that enable you to define a data model based on data from a variety of data sources, from relational databases to late-bound data types.</span></span> <span data-ttu-id="6f773-109">有关详细信息，请参阅[数据服务提供程序](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="6f773-109">For more information, see [Data Services Providers](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md).</span></span>  
  
2.  <span data-ttu-id="6f773-110">**创建数据服务**</span><span class="sxs-lookup"><span data-stu-id="6f773-110">**Create the data service**</span></span>  
  
     <span data-ttu-id="6f773-111">大多数基本数据服务公开一个从 <xref:System.Data.Services.DataService%601> 类继承的类和一个作为实体容器的命名空间限定名称的 `T` 类型。</span><span class="sxs-lookup"><span data-stu-id="6f773-111">The most basic data service exposes a class that inherits from the <xref:System.Data.Services.DataService%601> class, with a type `T` that is the namespace-qualified name of the entity container.</span></span> <span data-ttu-id="6f773-112">有关详细信息，请参阅 [Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)的信息。</span><span class="sxs-lookup"><span data-stu-id="6f773-112">For more information, see [Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md).</span></span>  
  
3.  <span data-ttu-id="6f773-113">**配置数据服务**</span><span class="sxs-lookup"><span data-stu-id="6f773-113">**Configure the data service**</span></span>  
  
     <span data-ttu-id="6f773-114">默认情况下， [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 会禁用对实体容器所公开的资源的访问。</span><span class="sxs-lookup"><span data-stu-id="6f773-114">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] disables access to resources that are exposed by an entity container.</span></span> <span data-ttu-id="6f773-115">通过 <xref:System.Data.Services.DataServiceConfiguration> 接口可以配置对资源和服务操作的访问，指定支持的 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]版本并定义其他服务范围的行为，例如批处理行为或可在单个响应源中返回的最大实体数。</span><span class="sxs-lookup"><span data-stu-id="6f773-115">The <xref:System.Data.Services.DataServiceConfiguration> interface enables you to configure access to resources and service operations, specify the supported version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)], and to define other service-wide behaviors, such as batching behaviors or the maximum number of entities that can be returned in a single response feed.</span></span> <span data-ttu-id="6f773-116">有关详细信息，请参阅[配置数据服务](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="6f773-116">For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="6f773-117">本主题主要介绍如何使用 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)]开发和部署数据服务。</span><span class="sxs-lookup"><span data-stu-id="6f773-117">This topic covers primarily the development and deployment of data services by using [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)].</span></span> <span data-ttu-id="6f773-118">有关 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 将数据公开为 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 源的灵活性方面的详细信息，请参阅 [Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)的信息。</span><span class="sxs-lookup"><span data-stu-id="6f773-118">For information about the flexibility provided by [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] for exposing your data as [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feeds, see [Defining WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md).</span></span>  
  
### <a name="choosing-a-development-web-server"></a><span data-ttu-id="6f773-119">选择开发 Web 服务器</span><span class="sxs-lookup"><span data-stu-id="6f773-119">Choosing a Development Web Server</span></span>  
 <span data-ttu-id="6f773-120">使用 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 将 WCF 数据服务开发为 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 应用程序或 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)]网站时，可以选择在开发期间运行该数据服务的 Web 服务器。</span><span class="sxs-lookup"><span data-stu-id="6f773-120">When you develop a WCF Data Service as an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] application or [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web site by using [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], you have a choice of Web servers on which to run the data service during development.</span></span> <span data-ttu-id="6f773-121">以下 Web 服务器与 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] 集成在一起，从而可以更轻松地在本地计算机上测试和调试数据服务。</span><span class="sxs-lookup"><span data-stu-id="6f773-121">The following Web servers integrate with [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] to make it easier to test and debug your data services on the local computer.</span></span>  
  
1.  <span data-ttu-id="6f773-122">**本地 IIS 服务器**</span><span class="sxs-lookup"><span data-stu-id="6f773-122">**Local IIS Server**</span></span>  
  
     <span data-ttu-id="6f773-123">创建作为在 Internet Information Services (IIS) 上运行的 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 应用程序或 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 网站的数据服务时，建议使用 IIS 在本地计算机上开发和测试数据服务。</span><span class="sxs-lookup"><span data-stu-id="6f773-123">When you create a data service that is an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] application or [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web site that runs on Internet Information Services (IIS), we recommend that you develop and test your data service by using IIS on the local computer.</span></span> <span data-ttu-id="6f773-124">在 IIS 上运行数据服务更便于在调试过程中跟踪 HTTP 请求。</span><span class="sxs-lookup"><span data-stu-id="6f773-124">Running the data service on IIS makes it easier to trace HTTP requests during debugging.</span></span> <span data-ttu-id="6f773-125">这还允许预先确定 IIS 访问数据服务所需的文件、数据库和其他资源所必须具备的权限。</span><span class="sxs-lookup"><span data-stu-id="6f773-125">This also enables you to pre-determine the necessary rights required by IIS to access files, databases, and other resources required by the data service.</span></span> <span data-ttu-id="6f773-126">要在 IIS 上运行数据服务，必须确保正确安装和配置了 IIS 和 [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] ，并且在文件系统和数据库中授予了 IIS 帐户的访问权限。</span><span class="sxs-lookup"><span data-stu-id="6f773-126">To run your data service on IIS, you must makes sure that both IIS and [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] are installed and configured correctly and grant access to IIS accounts in the file system and databases.</span></span> <span data-ttu-id="6f773-127">有关详细信息，请参阅 [How to: Develop a WCF Data Service Running on IIS](../../../../docs/framework/data/wcf/how-to-develop-a-wcf-data-service-running-on-iis.md)。</span><span class="sxs-lookup"><span data-stu-id="6f773-127">For more information, see [How to: Develop a WCF Data Service Running on IIS](../../../../docs/framework/data/wcf/how-to-develop-a-wcf-data-service-running-on-iis.md).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="6f773-128">必须使用管理员权限运行 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] 才能启用开发环境以配置本地 IIS 服务器。</span><span class="sxs-lookup"><span data-stu-id="6f773-128">You must run [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] with administrator rights to enable the develop environment to configure the local IIS server.</span></span>  
  
2.  <span data-ttu-id="6f773-129">**Visual Studio 开发服务器**</span><span class="sxs-lookup"><span data-stu-id="6f773-129">**Visual Studio Development Server**</span></span>  
  
     [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)]<span data-ttu-id="6f773-130"> 包含一个内置 Web 服务器，即 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] 开发服务器；这是 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 项目的默认 Web 服务器。</span><span class="sxs-lookup"><span data-stu-id="6f773-130"> includes a built-in Web server, the [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] Development Server, which is the default Web server for [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] projects.</span></span> <span data-ttu-id="6f773-131">该 Web 服务器设计为在开发过程中在本地计算机上运行 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 项目。</span><span class="sxs-lookup"><span data-stu-id="6f773-131">This Web server is designed to run [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] projects on the local computer during development.</span></span> <span data-ttu-id="6f773-132">[WCF 数据服务快速启动](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md) 揭示了如何创建在 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] 开发服务器上运行的数据服务。</span><span class="sxs-lookup"><span data-stu-id="6f773-132">The [WCF Data Services quickstart](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md) shows how to create a data service that runs in the [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] Development Server.</span></span>  
  
     <span data-ttu-id="6f773-133">在使用 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] 开发服务器开发数据服务时，应注意以下限制条件：</span><span class="sxs-lookup"><span data-stu-id="6f773-133">You should be aware of the following limitations when you use the [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] Development Server to develop the data service:</span></span>  
  
    -   <span data-ttu-id="6f773-134">该服务器只能在本地计算机上访问。</span><span class="sxs-lookup"><span data-stu-id="6f773-134">This server can only be accessed on the local computer.</span></span>  
  
    -   <span data-ttu-id="6f773-135">该服务器侦听 `localhost` 和特定端口，而非端口 80，后者是 HTTP 消息的默认端口。</span><span class="sxs-lookup"><span data-stu-id="6f773-135">This server listens on `localhost` and on a specific port, not on port 80, which is the default port for HTTP messages.</span></span> <span data-ttu-id="6f773-136">有关详细信息，请参阅 [Visual Studio 中用于 ASP.NET Web 项目的 Web 服务器](http://msdn.microsoft.com/en-us/31d4f588-df59-4b7e-b9ea-e1f2dd204328)。</span><span class="sxs-lookup"><span data-stu-id="6f773-136">For more information, see [Web Servers in Visual Studio for ASP.NET Web Projects](http://msdn.microsoft.com/en-us/31d4f588-df59-4b7e-b9ea-e1f2dd204328).</span></span>  
  
    -   <span data-ttu-id="6f773-137">该服务器在当前用户帐户的上下文中运行数据服务。</span><span class="sxs-lookup"><span data-stu-id="6f773-137">This server runs the data service in the context of your current user account.</span></span> <span data-ttu-id="6f773-138">例如，如果作为管理员级别的用户运行，则在 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] 开发服务器中运行的数据服务将具有管理员级别特权。</span><span class="sxs-lookup"><span data-stu-id="6f773-138">For example, if you are running as an administrator-level user, a data service running in the [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] Development Server will have administrator-level privileges.</span></span> <span data-ttu-id="6f773-139">这会导致数据服务能够访问在部署到 IIS 服务器时无权访问的资源。</span><span class="sxs-lookup"><span data-stu-id="6f773-139">This can cause the data service to be able to access resources that it does not have the rights to access when deployed to an IIS server.</span></span>  
  
    -   <span data-ttu-id="6f773-140">该服务器不包含 IIS 的额外功能，如身份验证。</span><span class="sxs-lookup"><span data-stu-id="6f773-140">This server does not include the extra facilities of IIS, such as authentication.</span></span>  
  
    -   <span data-ttu-id="6f773-141">该服务器无法处理成块的 HTTP 流，在从数据服务访问大型二进制数据时， [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 客户端会默认发送这种流。</span><span class="sxs-lookup"><span data-stu-id="6f773-141">This server cannot handle chunked HTTP streams, which are sent be default by the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client when accessing large binary data from the data service.</span></span> <span data-ttu-id="6f773-142">有关详细信息，请参阅[流提供程序](../../../../docs/framework/data/wcf/streaming-provider-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="6f773-142">For more information, see [Streaming Provider](../../../../docs/framework/data/wcf/streaming-provider-wcf-data-services.md).</span></span>  
  
    -   <span data-ttu-id="6f773-143">该服务器在处理 URL 中的句点 (`.`) 字符时会遇到问题，即使 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 支持在键值中使用该字符。</span><span class="sxs-lookup"><span data-stu-id="6f773-143">This server has issues with processing the period (`.`) character in a URL, even though this character is supported by [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] in key values.</span></span>  
  
    > [!TIP]
    >  <span data-ttu-id="6f773-144">即使可以使用 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] 开发服务器在开发过程中测试数据服务，也应当在将其部署到运行 IIS 的 Web 服务器之后再次对其进行测试。</span><span class="sxs-lookup"><span data-stu-id="6f773-144">Even though you can use the [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] Development Server to test your data services during development, you should test them again after deploying to a Web server that is running IIS.</span></span>  
  
3.  <span data-ttu-id="6f773-145">**Microsoft Azure 开发环境**</span><span class="sxs-lookup"><span data-stu-id="6f773-145">**Windows Azure Development Environment**</span></span>  
  
     <span data-ttu-id="6f773-146">Microsoft Azure Tools for [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] 包含一组集成工具，可用于在 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)]中开发 Microsoft Azure 服务。</span><span class="sxs-lookup"><span data-stu-id="6f773-146">Windows Azure Tools for [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] includes an integrated set of tools for developing Windows Azure services in [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)].</span></span> <span data-ttu-id="6f773-147">使用这些工具，可以开发可部署到 Microsoft Azure 的数据服务，并且可以在部署之前在本地计算机上测试数据服务。</span><span class="sxs-lookup"><span data-stu-id="6f773-147">With these tools, you can develop a data service that can be deployed to Windows Azure, and you can test the data service on the local computer before deployment.</span></span> <span data-ttu-id="6f773-148">使用 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] 开发在 Microsoft Azure 平台上运行的数据服务时可以使用这些工具。</span><span class="sxs-lookup"><span data-stu-id="6f773-148">Use these tools when using [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] to develop a data service that runs on the Windows Azure platform.</span></span> <span data-ttu-id="6f773-149">你可以从 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] Microsoft 下载中心 [下载 Microsoft Azure Tools for](http://go.microsoft.com/fwlink/?LinkID=201848)。</span><span class="sxs-lookup"><span data-stu-id="6f773-149">You can download the Windows Azure Tools for [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkID=201848).</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="6f773-150"> 有关开发在 Microsoft Azure 上运行的数据服务，请参阅博文 [在 Microsoft Azure 中部署 OData 服务](http://go.microsoft.com/fwlink/?LinkId=201847)。</span><span class="sxs-lookup"><span data-stu-id="6f773-150"> developing a data service that runs on Windows Azure, see the post [Deploying an OData Service in Windows Azure](http://go.microsoft.com/fwlink/?LinkId=201847).</span></span>  
  
### <a name="development-tips"></a><span data-ttu-id="6f773-151">开发提示</span><span class="sxs-lookup"><span data-stu-id="6f773-151">Development Tips</span></span>  
 <span data-ttu-id="6f773-152">开发数据服务时，应注意以下事项：</span><span class="sxs-lookup"><span data-stu-id="6f773-152">You should consider the following when you develop a data service:</span></span>  
  
-   <span data-ttu-id="6f773-153">如果计划对用户进行身份验证或将访问权限限定给特定用户，请确定数据服务的安全要求。</span><span class="sxs-lookup"><span data-stu-id="6f773-153">Determine the security requirements of your data service, if you plan authenticate users or restrict access for specific users.</span></span> <span data-ttu-id="6f773-154">有关更多信息，请参见 [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="6f773-154">For more information, see [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md).</span></span>  
  
-   <span data-ttu-id="6f773-155">HTTP 检查程序在调试数据服务时会非常有帮助，通过它可以检查请求和响应消息的内容。</span><span class="sxs-lookup"><span data-stu-id="6f773-155">An HTTP inspection program can be very helpful when debugging a data service by enabling you to inspect the contents of request and response messages.</span></span> <span data-ttu-id="6f773-156">可以使用任何可显示原始数据包的网络数据包分析器检查发向数据服务的 HTTP 请求和来自数据服务的响应。</span><span class="sxs-lookup"><span data-stu-id="6f773-156">Any network packet analyzer that can display raw packets can be used to inspect HTTP requests to and responses from the data service.</span></span>  
  
-   <span data-ttu-id="6f773-157">与在常规操作过程中相比，在调试数据服务时可能希望获得更多有关来自数据服务的错误的信息。</span><span class="sxs-lookup"><span data-stu-id="6f773-157">When debugging a data service, you may may want to get more information about an error from the data service than during regular operation.</span></span> <span data-ttu-id="6f773-158">通过将 <xref:System.Data.Services.DataServiceConfiguration.UseVerboseErrors%2A> 中的 <xref:System.Data.Services.DataServiceConfiguration> 属性设置为 `true` 并将数据服务类的 <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A> 特性的 <xref:System.ServiceModel.Description.ServiceDebugBehavior> 属性设置为 `true`，可以从数据服务获取其他错误信息。</span><span class="sxs-lookup"><span data-stu-id="6f773-158">You can get additional error information from the data service by setting the <xref:System.Data.Services.DataServiceConfiguration.UseVerboseErrors%2A> property in the <xref:System.Data.Services.DataServiceConfiguration> to `true` and by setting the <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A> property of the <xref:System.ServiceModel.Description.ServiceDebugBehavior> attribute on the data service class to `true`.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="6f773-159"> 博文 [调试 WCF 数据服务](http://go.microsoft.com/fwlink/?LinkId=201868)。</span><span class="sxs-lookup"><span data-stu-id="6f773-159"> the post [Debugging WCF Data Services](http://go.microsoft.com/fwlink/?LinkId=201868).</span></span> <span data-ttu-id="6f773-160">还可以在 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 中启用跟踪以查看 HTTP 消息层中出现的异常。</span><span class="sxs-lookup"><span data-stu-id="6f773-160">You can also enable tracing in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] to view exceptions raised in the HTTP messaging layer.</span></span> <span data-ttu-id="6f773-161">有关更多信息，请参见 [Configuring Tracing](../../../../docs/framework/wcf/diagnostics/tracing/configuring-tracing.md)。</span><span class="sxs-lookup"><span data-stu-id="6f773-161">For more information, see [Configuring Tracing](../../../../docs/framework/wcf/diagnostics/tracing/configuring-tracing.md).</span></span>  
  
-   <span data-ttu-id="6f773-162">数据服务通常开发为 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 应用程序项目，但也可以在 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 中将数据服务创建为 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)]网站项目。</span><span class="sxs-lookup"><span data-stu-id="6f773-162">A data service is usually developed as an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] application project, but you can also create you data service as an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web site project in [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)].</span></span> <span data-ttu-id="6f773-163">有关这两种项目类型之间差异的信息，请参阅 [NIB：Web 应用程序项目与 Visual Studio 中的网站项目](http://msdn.microsoft.com/en-us/2861815e-f5a2-4378-a2f8-b8a86dc012f5)。</span><span class="sxs-lookup"><span data-stu-id="6f773-163">For information about the differences between the two types of projects, see [NIB: Web Application Projects versus Web Site Projects in Visual Studio](http://msdn.microsoft.com/en-us/2861815e-f5a2-4378-a2f8-b8a86dc012f5).</span></span>  
  
-   <span data-ttu-id="6f773-164">使用 **中的“添加新项”对话框创建数据服务时，数据服务由** 托管于 IIS 中。 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)][!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6f773-164">When you create a data service by using the **Add New Item** dialog box in [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], the data service is hosted by [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] in IIS.</span></span> <span data-ttu-id="6f773-165">虽然 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 和 IIS 是数据服务的默认宿主，但也支持其他宿主选项。</span><span class="sxs-lookup"><span data-stu-id="6f773-165">While [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] and IIS is the default host for a data service, other hosting options are supported.</span></span> <span data-ttu-id="6f773-166">有关详细信息，请参阅[承载数据服务](../../../../docs/framework/data/wcf/hosting-the-data-service-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="6f773-166">For more information, see [Hosting the Data Service](../../../../docs/framework/data/wcf/hosting-the-data-service-wcf-data-services.md).</span></span>  
  
## <a name="deploying-wcf-data-services"></a><span data-ttu-id="6f773-167">部署 WCF 数据服务</span><span class="sxs-lookup"><span data-stu-id="6f773-167">Deploying WCF Data Services</span></span>  
 <span data-ttu-id="6f773-168">WCF 数据服务在选择承载数据服务的过程方面很灵活。</span><span class="sxs-lookup"><span data-stu-id="6f773-168">WCF Data Service provides flexibility in choosing the process that hosts the data service.</span></span> <span data-ttu-id="6f773-169">可以使用 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] 将数据服务部署到以下平台上：</span><span class="sxs-lookup"><span data-stu-id="6f773-169">You can use [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] to deploy a data service to the following platforms:</span></span>  
  
-   <span data-ttu-id="6f773-170">**承载有 IIS 的 Web 服务器**</span><span class="sxs-lookup"><span data-stu-id="6f773-170">**IIS-Hosted Web Server**</span></span>  
  
     <span data-ttu-id="6f773-171">将数据服务作为 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 项目开发时，可以使用标准 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 部署过程将其部署到 IIS Web 服务器。</span><span class="sxs-lookup"><span data-stu-id="6f773-171">When a data service is developed as an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] project, it can be deployed to an IIS Web server by using the standard [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] deployment processes.</span></span>  [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)]<span data-ttu-id="6f773-172"> 提供了以下用于 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]的部署技术，具体取决于承载要部署的数据服务的 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 项目种类。</span><span class="sxs-lookup"><span data-stu-id="6f773-172"> provides the following deployment technologies for [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], depending on the kind of [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] project that hosts the data service that you are deploying.</span></span>  
  
    -   <span data-ttu-id="6f773-173">**ASP.NET Web 应用程序的部署技术**</span><span class="sxs-lookup"><span data-stu-id="6f773-173">**Deployment Technologies for ASP.NET Web Applications**</span></span>  
  
        -   [<span data-ttu-id="6f773-174">Web 部署包</span><span class="sxs-lookup"><span data-stu-id="6f773-174">Web Deployment Package</span></span>](http://msdn.microsoft.com/en-us/1f9713c8-9540-494c-b80d-9893b970ad6f)  
  
        -   [<span data-ttu-id="6f773-175">One-Click Publishing — 一键式发布</span><span class="sxs-lookup"><span data-stu-id="6f773-175">One-Click Publishing</span></span>](http://msdn.microsoft.com/en-us/59226246-99ad-4aec-975d-7c61e8a8911c)  
  
    -   <span data-ttu-id="6f773-176">**ASP.NET 网站的部署技术**</span><span class="sxs-lookup"><span data-stu-id="6f773-176">**Deployment Technologies for ASP.NET Web Sites**</span></span>  
  
        -   [<span data-ttu-id="6f773-177">“复制网站”工具</span><span class="sxs-lookup"><span data-stu-id="6f773-177">Copy Web Site Tool</span></span>](http://msdn.microsoft.com/library/b819aed4-014b-427e-be80-02317b1bb003)  
  
        -   [<span data-ttu-id="6f773-178">“发布网站”工具</span><span class="sxs-lookup"><span data-stu-id="6f773-178">Publish Web Site Tool</span></span>](http://msdn.microsoft.com/library/d0a1a20f-15be-4940-9485-cb8e4aa8181b)  
  
        -   [<span data-ttu-id="6f773-179">XCopy</span><span class="sxs-lookup"><span data-stu-id="6f773-179">XCopy</span></span>](http://msdn.microsoft.com/library/4312c651-2119-49be-bbeb-ee28bdbfe71e)  
  
     [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="6f773-180"> [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 应用程序部署选项，请参阅 [Web Deployment Overview for Visual Studio and ASP.NET](http://msdn.microsoft.com/en-us/99bd1927-b59f-4e02-87b4-55c6ba2adbc3)（Visual Studio 和 ASP.NET 的 Web 部署概述）。</span><span class="sxs-lookup"><span data-stu-id="6f773-180"> the deployment options for an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] application, see [Web Deployment Overview for Visual Studio and ASP.NET](http://msdn.microsoft.com/en-us/99bd1927-b59f-4e02-87b4-55c6ba2adbc3).</span></span>  
  
    > [!TIP]
    >  <span data-ttu-id="6f773-181">在尝试将数据服务部署到 IIS 之前，请确保已测试了向运行 IIS 的 Web 服务器的部署。</span><span class="sxs-lookup"><span data-stu-id="6f773-181">Before you attempt to deploy the data service to IIS, make sure that you have tested the deployment to a Web server that is running IIS.</span></span> <span data-ttu-id="6f773-182">有关详细信息，请参阅 [How to: Develop a WCF Data Service Running on IIS](../../../../docs/framework/data/wcf/how-to-develop-a-wcf-data-service-running-on-iis.md)。</span><span class="sxs-lookup"><span data-stu-id="6f773-182">For more information, see [How to: Develop a WCF Data Service Running on IIS](../../../../docs/framework/data/wcf/how-to-develop-a-wcf-data-service-running-on-iis.md).</span></span>  
  
-   <span data-ttu-id="6f773-183">**Microsoft Azure**</span><span class="sxs-lookup"><span data-stu-id="6f773-183">**Windows Azure**</span></span>  
  
     <span data-ttu-id="6f773-184">可以使用 Microsoft Azure Tools for [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)]将数据服务部署到 Microsoft Azure。</span><span class="sxs-lookup"><span data-stu-id="6f773-184">You can deploy a data service to Windows Azure by using Windows Azure Tools for [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)].</span></span> <span data-ttu-id="6f773-185">你可以从 [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] Microsoft 下载中心 [下载 Microsoft Azure Tools for](http://go.microsoft.com/fwlink/?LinkID=201848)。</span><span class="sxs-lookup"><span data-stu-id="6f773-185">You can download the Windows Azure Tools for [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)] from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkID=201848).</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="6f773-186"> 有关将数据服务部署到 Microsoft Azure，请参阅博文 [在 Microsoft Azure 中部署 OData 服务](http://go.microsoft.com/fwlink/?LinkId=201847)。</span><span class="sxs-lookup"><span data-stu-id="6f773-186"> deploying a data service to Windows Azure, see the post [Deploying an OData Service in Windows Azure](http://go.microsoft.com/fwlink/?LinkId=201847).</span></span>  
  
### <a name="deployment-considerations"></a><span data-ttu-id="6f773-187">部署注意事项</span><span class="sxs-lookup"><span data-stu-id="6f773-187">Deployment Considerations</span></span>  
 <span data-ttu-id="6f773-188">部署数据服务时，应注意以下事项：</span><span class="sxs-lookup"><span data-stu-id="6f773-188">You should consider the following when deploying a data service:</span></span>  
  
-   <span data-ttu-id="6f773-189">当您部署使用 [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] 提供程序访问 SQL Server 数据库的数据服务时，还可能需要通过数据服务部署传播数据结构和/或数据。</span><span class="sxs-lookup"><span data-stu-id="6f773-189">When you deploy a data service that uses the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] provider to access a SQL Server database, you might also have to propagate data structures, data, or both with your data service deployment.</span></span> [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)]<span data-ttu-id="6f773-190"> 可以自动创建脚本 (.sql files) 来在目标数据库中执行此操作，并且这些脚本可以包含在 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 应用程序的 Web 部署包中。</span><span class="sxs-lookup"><span data-stu-id="6f773-190"> can automatically create scripts (.sql files) to do this in the destination database, and these scripts can be included in the Web deployment package of an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] application.</span></span> <span data-ttu-id="6f773-191">有关详细信息，请参阅 [NIB: How to: Deploy a Database With a Web Application Project](http://msdn.microsoft.com/en-us/683b33f1-8a3d-45cf-af6e-61ab50fc518b)（NIB：如何部署包含 Web 应用程序项目的数据库）。</span><span class="sxs-lookup"><span data-stu-id="6f773-191">For more information, see [NIB: How to: Deploy a Database With a Web Application Project](http://msdn.microsoft.com/en-us/683b33f1-8a3d-45cf-af6e-61ab50fc518b).</span></span> <span data-ttu-id="6f773-192">对于 [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] 网站，可以使用 **中的“数据库发布向导”完成此任务。**[!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6f773-192">For an [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web site, you can do this by using the **Database Publishing Wizard** in [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)].</span></span> <span data-ttu-id="6f773-193">有关详细信息，请参阅 [Deploying a Database by Using the Database Publishing Wizard](http://msdn.microsoft.com/library/1e3682e7-8b57-4da6-a393-af9640ccf8b7)。</span><span class="sxs-lookup"><span data-stu-id="6f773-193">For more information, see [Deploying a Database by Using the Database Publishing Wizard](http://msdn.microsoft.com/library/1e3682e7-8b57-4da6-a393-af9640ccf8b7).</span></span>  
  
-   <span data-ttu-id="6f773-194">因为 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 包括基本 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 实现，您可以使用 Windows Server AppFabric 来监视数据服务（它部署到在 Windows Server 上运行的 IIS）。</span><span class="sxs-lookup"><span data-stu-id="6f773-194">Because [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] includes a basic [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] implementation, you can use Windows Server AppFabric to monitor a data service deployed to IIS running on Windows Server.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="6f773-195"> 有关使用 Windows Server AppFabric 监视数据服务，请参阅博文 [Tracking WCF Data Services with Windows Server AppFabric](http://go.microsoft.com/fwlink/?LinkID=202005)（使用 Windows Server AppFabric 跟踪 WCF 数据服务）。</span><span class="sxs-lookup"><span data-stu-id="6f773-195"> using Windows Server AppFabric to monitor a data service, see the post [Tracking WCF Data Services with Windows Server AppFabric](http://go.microsoft.com/fwlink/?LinkID=202005).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6f773-196">请参阅</span><span class="sxs-lookup"><span data-stu-id="6f773-196">See Also</span></span>  
 [<span data-ttu-id="6f773-197">承载数据服务</span><span class="sxs-lookup"><span data-stu-id="6f773-197">Hosting the Data Service</span></span>](../../../../docs/framework/data/wcf/hosting-the-data-service-wcf-data-services.md)  
 [<span data-ttu-id="6f773-198">确保 WCF Data Services 的安全</span><span class="sxs-lookup"><span data-stu-id="6f773-198">Securing WCF Data Services</span></span>](../../../../docs/framework/data/wcf/securing-wcf-data-services.md)  
 [<span data-ttu-id="6f773-199">定义 WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="6f773-199">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)
