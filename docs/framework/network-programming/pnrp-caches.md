---
title: "PNRP 缓存 | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
ms.assetid: 270068d9-1b6b-4eb9-9e14-e02326bb88df
caps.latest.revision: 4
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 4
---
# PNRP 缓存
对等类名称解析协议\(PNRP\)缓存是在对等类维护的算法选定的对等类终结点的本地集合。  
  
## PNRP缓存初始化  
 若要初始化PNRP缓存或同级名称记录集合，那么，当对等类节点开始时，节点可以使用下列方法:  
  
-   存在不可变的缓存项;如果该节点已关闭从硬盘存储加载。  
  
-   如果应用程序使用P2P协作基础结构，协作信息可在交际管理者软件为该节点。  
  
## 缩放具有多个缓存的对等类名称转换  
 若要使PNRP缓存的大小小，同级节点将一多个缓存，每个级别包含项的最大数目。  每个级别缓存中表示PNRP ID号空间\(2\)<sup>256</sup>的十分之一小部分。  数字上是请关闭它的最低级别缓存中包含局部注册的PNRP ID和其他PNRP ID。  当缓存的级别填充最多20项，新的底部创建。  级别的最大数在缓存大约记录10\(PNRP ID的总数。云\)。  例如，对于使用100个PNRP ID的一朵全局云，不能多于8 \(\=log10\(100,000,000\)\)在缓存和解决PNRP ID的跳跃的类似数字的级别。名称转换为时。  此结构允许任意PNRP ID可转发PNRP到最NeXT关闭对等的请求消息解决的分布式的哈希表，直至找到具有相应的CPA对等。  
  
 若要确保解决方案可以完成，，每次节点将项添加到最低级别其缓存，它涌向项的复制到缓存中的最后一层的所有节点。  
  
 在刷新缓存项。  已过时的缓存项从缓存中移除。  结果是PNRP ID分配的哈希表根据有效的终结点，不同的解决DNS记录和DNS协议不提供节点与该地址实际上是在网络上保证。  
  
## 其他PNRP缓存  
 另一个不可变数据存储区是本地缓存。  除了为PNRP事件所需的其他对象外，还可以包括记录与安全地进行发布和同步在这朵云之间的所有成员的PNRP云或协作会话。  此复制的存储组表示数据的视图，应是相同所有组成员。  技术上讲，是在其自身而言不记录，，而是应用程序、呈现和对象数据中进行的这些对象到本地缓存。  为PNRP云的用于确保传播对象对协作会话或PNRP云的所有节点。  在云成员之间的记录重复使用SSL提供加密和数据的完整性。  
  
 当对等类连接云时，它们不会自动从它们收到附加的宿主对等类的本地缓存数据;它们必须订阅宿主对等类接收到应用程序、呈现和对象数据的更新。  在初始同步后，对等类定期重新同步其复制的存储确保所有组成员始终会具有相同视图。  协作会话或应用程序在协作会话中也可以执行相同的功能。  
  
 在协作会话用于云后启动后，应用程序可以注册对等类可以访问并启动其使用安全的信息由云范围内定义的发布。  当对等类连接云时，将朵云的安全机制会应用于对等类，它参与的大小。  在这朵云的范围内，其记录可以安全地然后发布。  请注意云范围可以与协作应用程序范围。  
  
 对等类在接收对象上可以注册感兴趣访问其他对等类。  当对象更新时，协作应用程序得到通知，并且新的对象传递给应用程序的所有用户。  例如，一个对等类该组中接收应用程序信息中聊天应用程序可以注册感兴趣，将其发送给所有聊天记录为应用程序数据。  这使它监视聊天在这朵云中的事件。  
  
## 请参阅  
 <xref:System.Net.PeerToPeer>