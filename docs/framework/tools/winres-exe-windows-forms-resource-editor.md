---
title: Winres.exe（Windows 窗体资源编辑器）
ms.date: 05/21/2018
helpviewer_keywords:
- Winres.exe
- Windows Forms Resource Editor
- localization
- Windows Forms, localization
- forms, localizing
- resx files
- .resx files
ms.assetid: cb8bc835-9221-4888-af53-1a4f5fad6c48
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 14e90916261250452c1f07e66a46bee400da0428
ms.sourcegitcommit: 895c7602386a6dfe7ca4facce3d965b27e5c6e87
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/19/2018
---
# <a name="winresexe-windows-forms-resource-editor"></a><span data-ttu-id="80a54-102">Winres.exe（Windows 窗体资源编辑器）</span><span class="sxs-lookup"><span data-stu-id="80a54-102">Winres.exe (Windows Forms Resource Editor)</span></span>
<span data-ttu-id="80a54-103">Windows 窗体资源编辑器 Winres.exe 是一种可视布局工具，可以帮助本地化专家对窗体使用的 Windows 窗体用户界面 (UI) 资源进行本地化。</span><span class="sxs-lookup"><span data-stu-id="80a54-103">The Windows Forms Resource Editor, Winres.exe, is a visual layout tool that helps localization experts localize Windows Forms user interface (UI) resources used by forms.</span></span> <span data-ttu-id="80a54-104">利用可视设计环境（如 Microsoft Visual Studio），可以创建用作 Winres.exe 的输入的 .resx 或 .resources 文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-104">The .resx or .resources files that are used as input to Winres.exe can be created using a visual design environment such as Microsoft Visual Studio.</span></span> <span data-ttu-id="80a54-105">有关在 .NET Framework 应用程序中部署资源的信息，请参阅[桌面应用中的资源](../../../docs/framework/resources/index.md)。</span><span class="sxs-lookup"><span data-stu-id="80a54-105">For information on deploying resources in .NET Framework applications, see [Resources in Desktop Apps](../../../docs/framework/resources/index.md).</span></span>  
  
 <span data-ttu-id="80a54-106">此工具会自动随 Visual Studio 一起安装。</span><span class="sxs-lookup"><span data-stu-id="80a54-106">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="80a54-107">若要运行此工具，请使用开发人员命令提示（或 Windows 7 中的 Visual Studio 命令提示）。</span><span class="sxs-lookup"><span data-stu-id="80a54-107">To run the tool, use the Developer Command Prompt (or the Visual Studio Command Prompt in Windows 7).</span></span> <span data-ttu-id="80a54-108">有关详细信息，请参阅[命令提示](../../../docs/framework/tools/developer-command-prompt-for-vs.md)。</span><span class="sxs-lookup"><span data-stu-id="80a54-108">For more information, see [Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="80a54-109">仅应加载和使用来自信任的源的 .resx 文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-109">You should only load and use .resx files from trusted sources.</span></span> <span data-ttu-id="80a54-110">ResX 文件可包含可执行代码，从安全角度来看，应将其视为可执行文件 (.exe)。</span><span class="sxs-lookup"><span data-stu-id="80a54-110">ResX files can contain executable code and should be treated as an executable file (.exe) from the viewpoint of security.</span></span>

 <span data-ttu-id="80a54-111">在命令提示符处，键入以下内容：</span><span class="sxs-lookup"><span data-stu-id="80a54-111">At the command prompt, type the following:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="80a54-112">语法</span><span class="sxs-lookup"><span data-stu-id="80a54-112">Syntax</span></span>  
  
```  
winres resourceFile   
winres /?   
```  
  
## <a name="remarks"></a><span data-ttu-id="80a54-113">备注</span><span class="sxs-lookup"><span data-stu-id="80a54-113">Remarks</span></span>  
  
|<span data-ttu-id="80a54-114">参数</span><span class="sxs-lookup"><span data-stu-id="80a54-114">Argument</span></span>|<span data-ttu-id="80a54-115">描述</span><span class="sxs-lookup"><span data-stu-id="80a54-115">Description</span></span>|  
|--------------|-----------------|  
|`resourceFile`|<span data-ttu-id="80a54-116">要本地化的资源文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-116">The resource file to localize.</span></span> <span data-ttu-id="80a54-117">此文件必须是由 Visual Studio 设计器生成的 Windows 窗体 .resx 或 .resources 文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-117">This file must be a Windows Forms form .resx or .resources file generated by the Visual Studio designer.</span></span> <span data-ttu-id="80a54-118">Winres.exe 无法打开一般的 .resx 或 .resources 文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-118">Winres.exe cannot open generic .resx or .resources files.</span></span>|  
  
|<span data-ttu-id="80a54-119">选项</span><span class="sxs-lookup"><span data-stu-id="80a54-119">Option</span></span>|<span data-ttu-id="80a54-120">描述</span><span class="sxs-lookup"><span data-stu-id="80a54-120">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="80a54-121">**/?**</span><span class="sxs-lookup"><span data-stu-id="80a54-121">**/?**</span></span>|<span data-ttu-id="80a54-122">显示该工具的命令语法和选项。</span><span class="sxs-lookup"><span data-stu-id="80a54-122">Displays command syntax and options for the tool.</span></span>|  
  
 <span data-ttu-id="80a54-123">在 Windows 窗体项目的某个窗体中，UI 元素的状态通常存储在资源文件内。这些资源文件是扩展名为 .resx 的基于 XML 的文件，或者是扩展名为 .resources 的已编译的相应二进制版本文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-123">The state of UI elements from a form in a Windows Forms project are typically stored in resource files, which are either XML-based files with the extension .resx or the corresponding compiled, binary versions with the extension .resources.</span></span> <span data-ttu-id="80a54-124">Winres.exe 是一种工具，可用于在 Visual Studio 设计环境之外对上述任何一种类型的文件进行有限编辑。</span><span class="sxs-lookup"><span data-stu-id="80a54-124">Winres.exe is a tool that enables limited editing of either type of file outside of the Visual Studio design environment.</span></span> <span data-ttu-id="80a54-125">具体地说，使用这种工具可以执行下面几种编辑操作：</span><span class="sxs-lookup"><span data-stu-id="80a54-125">Specifically, it allows the following types of editing operations:</span></span>  
  
-   <span data-ttu-id="80a54-126">可以编辑非区域性特定或区域性特定资源文件，从而更改窗体或其控件的 UI 属性，如文本、大小或位置。</span><span class="sxs-lookup"><span data-stu-id="80a54-126">A neutral or specific culture resource file can be edited to change the UI properties of the form or its controls, such as their text, size, or position.</span></span>  
  
-   <span data-ttu-id="80a54-127">可以从默认的资源文件生成非区域性特定或区域性特定资源文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-127">Neutral or specific culture resource files can be generated from the default resource file.</span></span>  
  
-   <span data-ttu-id="80a54-128">区域性资源文件可以另存为其他区域性资源文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-128">A culture resource file can be saved as another culture resource file.</span></span> <span data-ttu-id="80a54-129">例如，英语（美国）资源文件可以另存为波兰语资源文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-129">For example, an English (U.S.) resource file could be saved as a Polish resource file.</span></span> <span data-ttu-id="80a54-130">通常，可以稍后对新文件进行编辑，以使其与新区域性兼容。</span><span class="sxs-lookup"><span data-stu-id="80a54-130">Typically the new file would subsequently be edited to be compatible with the new culture.</span></span>  
  
 <span data-ttu-id="80a54-131">另请参阅[用于本地化的资源的分层组织](http://msdn.microsoft.com/library/756hydy4\(v=vs.110\))或[用于本地化的资源的分层组织](http://msdn.microsoft.com/library/756hydy4\(v=vs.120\))。</span><span class="sxs-lookup"><span data-stu-id="80a54-131">Also see [Hierarchical Organization of Resources for Localization](http://msdn.microsoft.com/library/756hydy4\(v=vs.110\)) or [Hierarchical Organization of Resources for Localization](http://msdn.microsoft.com/library/756hydy4\(v=vs.120\)).</span></span>  
  
 <span data-ttu-id="80a54-132">Winres.exe 不能将 .resx 文件转换成相应的 .resources 文件；请改用 Resgen.exe 工具。</span><span class="sxs-lookup"><span data-stu-id="80a54-132">Winres.exe cannot convert a .resx file into its corresponding .resources file; use the Resgen.exe tool instead.</span></span> <span data-ttu-id="80a54-133">有关 Resgen.exe 的详细信息，请参阅 [Resgen.exe（资源文件生成器）](../../../docs/framework/tools/resgen-exe-resource-file-generator.md)。</span><span class="sxs-lookup"><span data-stu-id="80a54-133">For more information about Resgen.exe, see [Resgen.exe (Resource File Generator)](../../../docs/framework/tools/resgen-exe-resource-file-generator.md).</span></span>  
  
 <span data-ttu-id="80a54-134">Winres.exe 是一种图形应用程序，它只需使用资源文件即可重新创建 Windows 窗体的设计时版本，而不必访问源代码。</span><span class="sxs-lookup"><span data-stu-id="80a54-134">Winres.exe is a graphical application that recreates a design-time version of a Windows Forms form from just the resource file, without having access to the source code.</span></span> <span data-ttu-id="80a54-135">Winres.exe 可承载 Visual Studio 的 Windows 窗体设计器和“属性”窗口。</span><span class="sxs-lookup"><span data-stu-id="80a54-135">Winres.exe hosts Visual Studio's Windows Forms Form Designer and Properties window.</span></span> <span data-ttu-id="80a54-136">使用这些功能，可以对包含 Windows 窗体的 .resources 或 .resx 文件进行可视编辑。</span><span class="sxs-lookup"><span data-stu-id="80a54-136">These features enable visual editing of a .resources or .resx file containing a Windows Forms form.</span></span> <span data-ttu-id="80a54-137">通常，本地化人员使用 Winres.exe 编辑控件标签并调整控件的位置和大小，以适应目标区域性的标签。</span><span class="sxs-lookup"><span data-stu-id="80a54-137">Typically localizers use Winres.exe to edit control labels and adjust the location and size of controls to accommodate the labels for the target culture.</span></span>  
  
 <span data-ttu-id="80a54-138">如果 Winres.exe 无法解析某个控件的类型，它会在本地化的 .resx 或 .resources 文件中创建一个占位符控件。</span><span class="sxs-lookup"><span data-stu-id="80a54-138">If Winres.exe cannot resolve the type of a control, it creates a placeholder control in the localized .resx or .resources file.</span></span> <span data-ttu-id="80a54-139">占位符控件将作为一个阴影窗口显示在 Windows 窗体上。</span><span class="sxs-lookup"><span data-stu-id="80a54-139">The placeholder control appears on the Windows Forms form as a hatched window.</span></span> <span data-ttu-id="80a54-140">阴影窗口的大小和位置与实际控件的大小和位置一致。</span><span class="sxs-lookup"><span data-stu-id="80a54-140">The size and position of the hatched window matches that of the actual control.</span></span> <span data-ttu-id="80a54-141">占位符控件的所有可用的可本地化属性都显示在“属性”窗口中。</span><span class="sxs-lookup"><span data-stu-id="80a54-141">All the available localizable properties for the placeholder control appear in the Properties window.</span></span> <span data-ttu-id="80a54-142">对占位符控件所做的任何更改均会为实际控件保存下来。</span><span class="sxs-lookup"><span data-stu-id="80a54-142">Any changes that you make to the placeholder control are saved for the actual control.</span></span>  
  
## <a name="winresexe-versus-visual-studio"></a><span data-ttu-id="80a54-143">Winres.exe 对比 Visual Studio</span><span class="sxs-lookup"><span data-stu-id="80a54-143">Winres.exe versus Visual Studio</span></span>  
 <span data-ttu-id="80a54-144">一般而言，在开始对应用程序的 Windows 窗体进行本地化之前，应先确定是使用 Visual Studio 还是使用 Winres.exe 作为本地化工具。</span><span class="sxs-lookup"><span data-stu-id="80a54-144">In general, before you begin to localize an application's Windows Forms forms, you should decide whether you want to use Visual Studio or Winres.exe as the localization tool.</span></span> <span data-ttu-id="80a54-145">稍后介绍的版本兼容性可能会阻止从一个工具切换到另外一个工具。</span><span class="sxs-lookup"><span data-stu-id="80a54-145">Version compatibility, as described later, may prevent you from switching from one tool to the other.</span></span>  
  
 <span data-ttu-id="80a54-146">Visual Studio 的优点在于，它既可以用来开发应用程序，也可以用来本地化应用程序。</span><span class="sxs-lookup"><span data-stu-id="80a54-146">The advantage of Visual Studio is that you can use it to both develop and localize an application.</span></span> <span data-ttu-id="80a54-147">若要对某个窗体进行本地化，在完成开发之后，可以将该窗体的 <xref:System.ComponentModel.LocalizableAttribute>（属性编辑器中的 Localizable 属性）设置为 `true`，并将其 Language 属性改为所需的目标区域性。</span><span class="sxs-lookup"><span data-stu-id="80a54-147">To localize a form, after development is complete, set the form's <xref:System.ComponentModel.LocalizableAttribute> (the **Localizable** property in the Properties Editor) to `true` and change its **Language** property to the desired target culture.</span></span> <span data-ttu-id="80a54-148">然后，编辑字符串并调整控件的位置和大小，以适应目标区域性的字符串。</span><span class="sxs-lookup"><span data-stu-id="80a54-148">Then, edit strings and adjust the location and size of controls to accommodate the strings for the target culture.</span></span> <span data-ttu-id="80a54-149">保存本地化后的 .resx 文件时，Visual Studio 只将可本地化的属性（已在目标区域性中更改的属性）写入该文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-149">When you save the localized .resx file, Visual Studio writes only the localizable properties (properties that changed in the target culture) to the file.</span></span> <span data-ttu-id="80a54-150">Visual Studio 将在正确的目录位置为本地化的 .resx 文件自动创建附属程序集。</span><span class="sxs-lookup"><span data-stu-id="80a54-150">Visual Studio automatically creates a satellite assembly for the localized .resx file in the correct directory location.</span></span>  <span data-ttu-id="80a54-151">另请参阅[演练：本地化 Windows 窗体](http://msdn.microsoft.com/library/y99d1cd3\(v=vs.110\))。</span><span class="sxs-lookup"><span data-stu-id="80a54-151">Also see [Walkthrough: Localizing Windows Forms](http://msdn.microsoft.com/library/y99d1cd3\(v=vs.110\)).</span></span>  
  
 <span data-ttu-id="80a54-152">虽然 Visual Studio 提供了一个集成的开发和本地化环境，但是，如果本地化工作将由第三方本地化人员完成，则建议使用 Winres.exe 作为工具。</span><span class="sxs-lookup"><span data-stu-id="80a54-152">Although Visual Studio provides an integrated development and localization environment, Winres.exe is the recommended tool to use if localization will be done by third-party localizers.</span></span> <span data-ttu-id="80a54-153">因为 Winres.exe 只是一个本地化工具，所以使用它可以将应用程序的代码与要本地化的窗体更加彻底地分离开来，这对于管理大型项目更为实用。</span><span class="sxs-lookup"><span data-stu-id="80a54-153">Because Winres.exe is a localization tool only, it allows for a cleaner separation of an application's code from the forms to be localized, which is more practical for managing large projects.</span></span>  
  
## <a name="using-winresexe"></a><span data-ttu-id="80a54-154">使用 Winres.exe</span><span class="sxs-lookup"><span data-stu-id="80a54-154">Using Winres.exe</span></span>  
 <span data-ttu-id="80a54-155">若要使用 Winres.exe 进行本地化，必须首先使用 Visual Studio 中的窗体设计器这样的可视化设计器开发应用程序。</span><span class="sxs-lookup"><span data-stu-id="80a54-155">To localize using Winres.exe, you must first develop an application using a visual designer like the Forms Designer in Visual Studio.</span></span> <span data-ttu-id="80a54-156">开发完成后，将窗体的 <xref:System.ComponentModel.LocalizableAttribute>（属性编辑器中的 Localizable属性）设置为 `true`，然后将默认区域性的 .resx 文件交给第三方本地化人员。</span><span class="sxs-lookup"><span data-stu-id="80a54-156">When development is complete, set the form's <xref:System.ComponentModel.LocalizableAttribute> (the **Localizable** property in the Properties Editor) to `true`, and then hand off the .resx file for the default culture to a third-party localizer.</span></span> <span data-ttu-id="80a54-157">此 .resx 文件包含 Winres.exe 用于重新创建原始窗体的设计时版本的其他信息。</span><span class="sxs-lookup"><span data-stu-id="80a54-157">This .resx file contains extra information that Winres.exe uses to recreate a design-time version of the original form.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="80a54-158">Winres.exe 不能用于编辑默认的资源文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-158">Winres.exe cannot be used to edit the default resource file.</span></span> <span data-ttu-id="80a54-159">Winres.exe 将所有更改后的属性都阐释为本地化属性，并将其保存到目标区域性资源文件中。</span><span class="sxs-lookup"><span data-stu-id="80a54-159">Winres.exe interprets all changed properties as localized properties and saves them to the target culture resource file.</span></span>  
  
 <span data-ttu-id="80a54-160">最后，可以使用这些区域性资源文件的最终版本创建应用程序的本地化版本。</span><span class="sxs-lookup"><span data-stu-id="80a54-160">The final versions of the culture resource files can finally be used to create localized versions of the application.</span></span> <span data-ttu-id="80a54-161">有关详细信息，请参阅[桌面应用中的资源](../../../docs/framework/resources/index.md)。</span><span class="sxs-lookup"><span data-stu-id="80a54-161">For more information, see [Resources in Desktop Apps](../../../docs/framework/resources/index.md).</span></span>  
  
 <span data-ttu-id="80a54-162">Winres.exe 的 2.0 版具有下列特性和功能：</span><span class="sxs-lookup"><span data-stu-id="80a54-162">Version 2.0 of Winres.exe has the following features and capabilities:</span></span>  
  
-   <span data-ttu-id="80a54-163">Winres 可以在单文件模式 (SFM) 或 Visual Studio 文件模式 (VSFM) 下操作。</span><span class="sxs-lookup"><span data-stu-id="80a54-163">Winres can operate in Single File Mode (SFM) or Visual Studio File Mode (VSFM).</span></span> <span data-ttu-id="80a54-164">SFM 是一种传统模式。在这种模式下，有关窗体及其内容的完整信息存储在资源文件中。</span><span class="sxs-lookup"><span data-stu-id="80a54-164">SFM is the legacy mode where complete information about the form and its contents is stored to the resource file.</span></span> <span data-ttu-id="80a54-165">在 VSFM 模式下，在资源文件中只存储区域性更改。</span><span class="sxs-lookup"><span data-stu-id="80a54-165">VSFM only stores only the cultural changes in the resource file.</span></span>  
  
-   <span data-ttu-id="80a54-166">界面中添加了一个错误报告窗口，该窗口停靠在主窗口的左下方。</span><span class="sxs-lookup"><span data-stu-id="80a54-166">An error-reporting window, docked to the bottom-left of the main window, has been added to the interface.</span></span>  
  
-   <span data-ttu-id="80a54-167">可以通过以下方法检查热键是否重复：在“格式”菜单上单击“检查热键”命令。</span><span class="sxs-lookup"><span data-stu-id="80a54-167">Hotkeys can be checked for duplicates: from the Format menu, click the **Check HotKeys** command.</span></span>  
  
## <a name="version-compatibility"></a><span data-ttu-id="80a54-168">版本兼容性</span><span class="sxs-lookup"><span data-stu-id="80a54-168">Version Compatibility</span></span>  
 <span data-ttu-id="80a54-169">因为与 Visual Studio .NET 2002 相比，Visual Studio 2005 的资源文件格式已经有了更改，所以 Winres.exe 也发生了类似的更改以保证兼容性。</span><span class="sxs-lookup"><span data-stu-id="80a54-169">Because the format of resource files changed between Visual Studio .NET 2002 and Visual Studio 2005, Winres.exe was likewise changed to be compatible.</span></span> <span data-ttu-id="80a54-170">因此，一般而言，应使用随你用于创建应用程序的 .NET Framework 一起发布的 Winres.exe 版本。</span><span class="sxs-lookup"><span data-stu-id="80a54-170">Therefore, as a general rule, you should use the version of Winres.exe that was released with the .NET Framework you are using to create the application.</span></span> <span data-ttu-id="80a54-171">下表列出了可兼容的版本。</span><span class="sxs-lookup"><span data-stu-id="80a54-171">The following table lists the compatible versions.</span></span>  
  
|<span data-ttu-id="80a54-172">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="80a54-172">Visual Studio</span></span>|<span data-ttu-id="80a54-173">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="80a54-173">.NET Framework</span></span>|<span data-ttu-id="80a54-174">Winres.exe</span><span class="sxs-lookup"><span data-stu-id="80a54-174">Winres.exe</span></span>|  
|-------------------|--------------------|----------------|  
|<span data-ttu-id="80a54-175">Visual Studio .NET 2002</span><span class="sxs-lookup"><span data-stu-id="80a54-175">Visual Studio .NET 2002</span></span>|<span data-ttu-id="80a54-176">1.0</span><span class="sxs-lookup"><span data-stu-id="80a54-176">1.0</span></span>|<span data-ttu-id="80a54-177">1.0</span><span class="sxs-lookup"><span data-stu-id="80a54-177">1.0</span></span>|  
|<span data-ttu-id="80a54-178">Visual Studio .NET 2003</span><span class="sxs-lookup"><span data-stu-id="80a54-178">Visual Studio .NET 2003</span></span>|<span data-ttu-id="80a54-179">1.1</span><span class="sxs-lookup"><span data-stu-id="80a54-179">1.1</span></span>|<span data-ttu-id="80a54-180">1.1</span><span class="sxs-lookup"><span data-stu-id="80a54-180">1.1</span></span>|  
|<span data-ttu-id="80a54-181">Visual Studio 2005</span><span class="sxs-lookup"><span data-stu-id="80a54-181">Visual Studio 2005</span></span>|<span data-ttu-id="80a54-182">2.0</span><span class="sxs-lookup"><span data-stu-id="80a54-182">2.0</span></span>|<span data-ttu-id="80a54-183">2.0</span><span class="sxs-lookup"><span data-stu-id="80a54-183">2.0</span></span>|  
|<span data-ttu-id="80a54-184">Visual Studio 2008</span><span class="sxs-lookup"><span data-stu-id="80a54-184">Visual Studio 2008</span></span>|<span data-ttu-id="80a54-185">3.0 和 3.5</span><span class="sxs-lookup"><span data-stu-id="80a54-185">3.0 and 3.5</span></span>|<span data-ttu-id="80a54-186">3.0 和 3.5</span><span class="sxs-lookup"><span data-stu-id="80a54-186">3.0 and 3.5</span></span>|  
|<span data-ttu-id="80a54-187">Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="80a54-187">Visual Studio 2010</span></span>|<span data-ttu-id="80a54-188">4.0</span><span class="sxs-lookup"><span data-stu-id="80a54-188">4.0</span></span>|<span data-ttu-id="80a54-189">4.0</span><span class="sxs-lookup"><span data-stu-id="80a54-189">4.0</span></span>|  
  
 <span data-ttu-id="80a54-190">如果尝试使用 2.0 版的 Winres.exe 打开旧版本的资源文件，系统将会提示你升级该文件的格式，以使其与 2.0 版的 .NET Framework 兼容。</span><span class="sxs-lookup"><span data-stu-id="80a54-190">If you attempt to open an older resource file with version 2.0 of Winres.exe, you will be prompted to upgrade the format of the file to be compatible with version 2.0 of the .NET Framework.</span></span>  
  
 <span data-ttu-id="80a54-191">在 .NET Framework 2.0 版之前的版本中，Winres.exe 和 Visual Studio 的窗体设计器创建了不兼容的非区域性特定和区域性特定资源文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-191">In versions of the .NET Framework prior to version 2.0, Winres.exe and the Forms Designer of Visual Studio created incompatible culture-neutral and culture-specific resource files.</span></span> <span data-ttu-id="80a54-192">因此，一旦开始执行本地化过程，就只能继续使用同一个工具。</span><span class="sxs-lookup"><span data-stu-id="80a54-192">Therefore, once the localization process began, you had to continue using only the same tool.</span></span> <span data-ttu-id="80a54-193">但是，对于 2.0 版的 Winres.exe，已经添加了 Visual Studio 文件模式 (VSFM)。</span><span class="sxs-lookup"><span data-stu-id="80a54-193">However, with version 2.0 of Winres.exe, the Visual Studio File Mode (VSFM) was added.</span></span> <span data-ttu-id="80a54-194">顾名思义，在此兼容模式下保存的资源文件可以使用任何一种工具进行编辑。</span><span class="sxs-lookup"><span data-stu-id="80a54-194">As the name implies, a resource file saved in this compatibility mode can be edited with either tool.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="80a54-195">虽然 VSFM 的优点在于兼容 Visual Studio，但是，因为这种模式只在资源文件中存储更改后的值，所以 Winres.exe 要求当前资源文件的父级位于同一个目录中。</span><span class="sxs-lookup"><span data-stu-id="80a54-195">Although VSFM has the advantage of being compatible with Visual Studio, since it stores only changed values in the resource file, Winres.exe requires that the parents of the current resource file be located in the same directory.</span></span> <span data-ttu-id="80a54-196">例如，在编辑德语（德国）资源文件 `TestApp.de-DE.resources` 时，需要有默认的资源文件 `TestApp.resx` 以及可能的非区域性特定资源文件 `TestApp.de.resources`。</span><span class="sxs-lookup"><span data-stu-id="80a54-196">For example, editing `TestApp.de-DE.resources`, a German in Germany resource file, requires the presence of the default resource file, `TestApp.resx`, and possibly the culture-neutral resource file, `TestApp.de.resources`.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="80a54-197">示例</span><span class="sxs-lookup"><span data-stu-id="80a54-197">Examples</span></span>  
  
#### <a name="to-localize-a-resx-or-resources-file-associated-with-a-form"></a><span data-ttu-id="80a54-198">本地化与窗体关联的 .resx 或 .resources 文件</span><span class="sxs-lookup"><span data-stu-id="80a54-198">To localize a .resx or .resources file associated with a form</span></span>  
  
1.  <span data-ttu-id="80a54-199">在开发人员命令提示符处键入 `winres` 以运行 Winres.exe。</span><span class="sxs-lookup"><span data-stu-id="80a54-199">Type `winres` in the developer command prompt to run Winres.exe.</span></span>  
  
2.  <span data-ttu-id="80a54-200">若要打开要本地化的窗体的默认资源，请单击“文件”菜单中的“打开”命令，然后导航到该文件打开它。</span><span class="sxs-lookup"><span data-stu-id="80a54-200">To open the default resources for a form to localize, click the **Open** command on the **File** menu and navigate to the file to open it.</span></span>  
  
     <span data-ttu-id="80a54-201">或</span><span class="sxs-lookup"><span data-stu-id="80a54-201">-or-</span></span>  
  
     <span data-ttu-id="80a54-202">指定启动 Winres.exe 时在命令行提示符处要打开的文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-202">Specify the file to open at the command line when you start Winres.exe.</span></span>  
  
     <span data-ttu-id="80a54-203">下面的命令启动 Winres.exe 并在窗体设计器中加载与 `TestApp.resx` 关联的窗体。</span><span class="sxs-lookup"><span data-stu-id="80a54-203">The following command starts Winres.exe and loads the form associated with `TestApp.resx` in the Form Designer.</span></span>  
  
    ```  
    winres TestApp.resx  
    ```  
  
     <span data-ttu-id="80a54-204">下面的命令启动 Winres.exe 并在窗体设计器中加载与 `TestApp.resources` 关联的窗体。</span><span class="sxs-lookup"><span data-stu-id="80a54-204">The following command starts Winres.exe and loads the form associated with `TestApp.resources` in the Form Designer.</span></span>  
  
    ```  
    winres TestApp.resources  
    ```  
  
    > [!NOTE]
    >  <span data-ttu-id="80a54-205">如果正在对其资源进行编辑的窗体是一个被继承的窗体，则包含被继承的窗体的程序集和包含继承（派生的）窗体的程序集都必须在全局程序集缓存 (GAC) 中进行注册，或者必须与 WinRes.exe 位于同一个目录中。</span><span class="sxs-lookup"><span data-stu-id="80a54-205">If the form whose resources you are editing is an inherited form, both the assembly contained the inherited form and the assembly containing the inheriting (derived) form must either be registered in the Global Assembly Cache (GAC), or must reside in the same directory as WinRes.exe.</span></span> <span data-ttu-id="80a54-206">有关将 .NET Framework 组件安装到 GAC 中的详细信息，请参阅[全局程序集缓存](../../../docs/framework/app-domains/gac.md)。</span><span class="sxs-lookup"><span data-stu-id="80a54-206">For more information about installing .NET Framework components into the GAC, see [Global Assembly Cache](../../../docs/framework/app-domains/gac.md).</span></span>  
  
3.  <span data-ttu-id="80a54-207">选择窗体中的控件，然后更改其 <xref:System.Windows.Forms.Control.Text%2A> 和其他属性，以便反映本地化的区域性及其语言。</span><span class="sxs-lookup"><span data-stu-id="80a54-207">Select controls on the form and change their <xref:System.Windows.Forms.Control.Text%2A> and other properties to reflect the localized culture and its language.</span></span> <span data-ttu-id="80a54-208">根据需要移动控件或调整其大小，以适应本地化后的文本。</span><span class="sxs-lookup"><span data-stu-id="80a54-208">Move or resize controls as necessary to accommodate the localized text.</span></span>  
  
4.  <span data-ttu-id="80a54-209">若要保存 .resx 或 .resources 文件的本地化版本，请单击“保存”图标或“文件”菜单中的相同命令。</span><span class="sxs-lookup"><span data-stu-id="80a54-209">To save the localized version of the .resx or .resources file, click the **Save** icon or the same command on the **File** menu.</span></span> <span data-ttu-id="80a54-210">该工具会显示“选择区域性”窗口。</span><span class="sxs-lookup"><span data-stu-id="80a54-210">The tool displays the **Select Culture** window.</span></span>  
  
5.  <span data-ttu-id="80a54-211">选择相应的区域性和文件模式，然后单击“确定”。</span><span class="sxs-lookup"><span data-stu-id="80a54-211">Select the appropriate culture and file mode then click **OK**.</span></span> <span data-ttu-id="80a54-212">该工具会使用运行时希望用于本地化资源文件的命名约定来保存文件。</span><span class="sxs-lookup"><span data-stu-id="80a54-212">The tool saves the file, using the naming convention that the run time expects for localized resource files.</span></span> <span data-ttu-id="80a54-213">例如，如果将 `TestApp.resources` 本地化为德语（德国），则该工具将该文件保存为 `TestApp.de-DE.resources`。</span><span class="sxs-lookup"><span data-stu-id="80a54-213">For example, if you localize `TestApp.resources` for German in Germany, the tool saves the file as `TestApp.de-DE.resources`.</span></span> <span data-ttu-id="80a54-214">如果将 `TestApp.resx` 本地化为德语（德国），则该工具将该文件保存为 `TestApp.de-DE.resx`。</span><span class="sxs-lookup"><span data-stu-id="80a54-214">If you localize `TestApp.resx` for German in Germany, the tool saves the file as `TestApp.de-DE.resx`.</span></span> <span data-ttu-id="80a54-215">有关资源命名约定的详细信息，请参阅[打包和部署资源](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)。</span><span class="sxs-lookup"><span data-stu-id="80a54-215">For more information about resource naming conventions, see [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span> <span data-ttu-id="80a54-216">有关运行时使用的预定义区域性名称的列表，请参阅 <xref:System.Globalization.CultureInfo> 类。</span><span class="sxs-lookup"><span data-stu-id="80a54-216">For a list of the predefined culture names used by the run time, see the <xref:System.Globalization.CultureInfo> class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="80a54-217">请参阅</span><span class="sxs-lookup"><span data-stu-id="80a54-217">See Also</span></span>  
 <xref:System.ComponentModel.LocalizableAttribute>  
 <xref:System.Globalization.CultureInfo>  
 <xref:System.Resources.ResourceManager>  
 <xref:System.Resources.ResourceReader>  
 <xref:System.Resources.ResourceWriter>  
 [<span data-ttu-id="80a54-218">工具</span><span class="sxs-lookup"><span data-stu-id="80a54-218">Tools</span></span>](../../../docs/framework/tools/index.md)  
 [<span data-ttu-id="80a54-219">桌面应用中的资源</span><span class="sxs-lookup"><span data-stu-id="80a54-219">Resources in Desktop Apps</span></span>](../../../docs/framework/resources/index.md)  
 [<span data-ttu-id="80a54-220">全球化和本地化</span><span class="sxs-lookup"><span data-stu-id="80a54-220">Globalization and Localization</span></span>](../../../docs/standard/globalization-localization/index.md)
