---
title: Windows Communication Foundation 绑定概述
ms.date: 03/30/2017
helpviewer_keywords:
- bindings [WCF], overview
ms.assetid: cfb5842f-e0f9-4c56-a015-f2b33f258232
ms.openlocfilehash: f171a6380840fe2cb828ee06985317f002b353de
ms.sourcegitcommit: fb78d8abbdb87144a3872cf154930157090dd933
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/27/2018
ms.locfileid: "47397249"
---
# <a name="windows-communication-foundation-bindings-overview"></a><span data-ttu-id="00266-102">Windows Communication Foundation 绑定概述</span><span class="sxs-lookup"><span data-stu-id="00266-102">Windows Communication Foundation Bindings Overview</span></span>
<span data-ttu-id="00266-103">绑定是用来指定所需连接到 Windows Communication Foundation (WCF) 服务的终结点的通信详细信息的对象。</span><span class="sxs-lookup"><span data-stu-id="00266-103">Bindings are objects that are used to specify the communication details that are required to connect to the endpoint of a Windows Communication Foundation (WCF) service.</span></span> <span data-ttu-id="00266-104">WCF 服务中的每个终结点需要具体指定的绑定。</span><span class="sxs-lookup"><span data-stu-id="00266-104">Each endpoint in a WCF service requires a binding to be well-specified.</span></span> <span data-ttu-id="00266-105">本主题概述了通信详细信息的绑定所定义的一个绑定，在 WCF 中，包含哪些绑定和如何为终结点指定一个绑定元素的类型。</span><span class="sxs-lookup"><span data-stu-id="00266-105">This topic outlines the types of communication details that the bindings define, the elements of a binding, what bindings are included in WCF, and how a binding can be specified for an endpoint.</span></span>  
  
## <a name="what-a-binding-defines"></a><span data-ttu-id="00266-106">绑定所定义的内容</span><span class="sxs-lookup"><span data-stu-id="00266-106">What a Binding Defines</span></span>  
 <span data-ttu-id="00266-107">绑定中的信息可能非常基本，也可能非常复杂。</span><span class="sxs-lookup"><span data-stu-id="00266-107">The information in a binding can be very basic, or very complex.</span></span> <span data-ttu-id="00266-108">最基本的绑定仅指定连接终结点所必需的传输协议（如 HTTP）。</span><span class="sxs-lookup"><span data-stu-id="00266-108">The most basic binding specifies only the transport protocol (such as HTTP) that must be used to connect to the endpoint.</span></span> <span data-ttu-id="00266-109">一般来说，绑定包含的有关如何连接到终结点的信息属于以下类别中的一种。</span><span class="sxs-lookup"><span data-stu-id="00266-109">More generally, the information a binding contains about how to connect to an endpoint falls into one of the following categories.</span></span>  
  
 <span data-ttu-id="00266-110">协议</span><span class="sxs-lookup"><span data-stu-id="00266-110">Protocols</span></span>  
 <span data-ttu-id="00266-111">确定要使用的安全机制：可靠消息传递功能或事务上下文流设置。</span><span class="sxs-lookup"><span data-stu-id="00266-111">Determines the security mechanism being used: either reliable messaging capability or transaction context flow settings.</span></span>  
  
 <span data-ttu-id="00266-112">编码</span><span class="sxs-lookup"><span data-stu-id="00266-112">Encoding</span></span>  
 <span data-ttu-id="00266-113">确定消息编码（例如，文本或二进制）。</span><span class="sxs-lookup"><span data-stu-id="00266-113">Determines the message encoding (for example, text or binary).</span></span>  
  
 <span data-ttu-id="00266-114">传输</span><span class="sxs-lookup"><span data-stu-id="00266-114">Transport</span></span>  
 <span data-ttu-id="00266-115">确定要使用的基础传输协议（例如，TCP 或 HTTP）。</span><span class="sxs-lookup"><span data-stu-id="00266-115">Determines the underlying transport protocol to use (for example, TCP or HTTP).</span></span>  
  
## <a name="the-elements-of-a-binding"></a><span data-ttu-id="00266-116">绑定的元素</span><span class="sxs-lookup"><span data-stu-id="00266-116">The Elements of a Binding</span></span>  
 <span data-ttu-id="00266-117">绑定基本上由绑定元素的有序堆栈组成，其中每个元素都指定了连接到服务终结点所必需的通信信息的一部分。</span><span class="sxs-lookup"><span data-stu-id="00266-117">A binding basically consists of an ordered stack of binding elements, each of which specifies part of the communication information required to connect to a service endpoint.</span></span> <span data-ttu-id="00266-118">该堆栈中最底下的两层都是必需的。</span><span class="sxs-lookup"><span data-stu-id="00266-118">The two lowest layers in the stack are both required.</span></span> <span data-ttu-id="00266-119">该堆栈的最底层为传输绑定元素，而紧挨着它的上面一层为包含消息编码规范的元素。</span><span class="sxs-lookup"><span data-stu-id="00266-119">At the base of the stack is the transport binding element and just above this is the element that contains the message encoding specifications.</span></span> <span data-ttu-id="00266-120">用于指定其他通信协议的可选绑定元素位于这两个必需元素的上面。</span><span class="sxs-lookup"><span data-stu-id="00266-120">The optional binding elements that specify the other communication protocols are layered above these two required elements.</span></span> <span data-ttu-id="00266-121">有关这些绑定元素和及其正确排序的详细信息，请参阅[自定义绑定](../../../docs/framework/wcf/extending/custom-bindings.md)。</span><span class="sxs-lookup"><span data-stu-id="00266-121">For more information about these binding elements and their correct ordering, see [Custom Bindings](../../../docs/framework/wcf/extending/custom-bindings.md).</span></span>  
  
## <a name="system-provided-bindings"></a><span data-ttu-id="00266-122">系统提供的绑定</span><span class="sxs-lookup"><span data-stu-id="00266-122">System-Provided Bindings</span></span>  
 <span data-ttu-id="00266-123">绑定中的信息可能十分复杂，而且某些设置可能与其他设置不兼容。</span><span class="sxs-lookup"><span data-stu-id="00266-123">The information in a binding can be complex, and some settings may not be compatible with others.</span></span> <span data-ttu-id="00266-124">出于此原因，WCF 包含一组系统提供的绑定。</span><span class="sxs-lookup"><span data-stu-id="00266-124">For this reason, WCF includes a set of system-provided bindings.</span></span> <span data-ttu-id="00266-125">这些绑定旨在满足大多数应用程序需求。</span><span class="sxs-lookup"><span data-stu-id="00266-125">These bindings are designed to cover most application requirements.</span></span> <span data-ttu-id="00266-126">下面的类表示系统提供的绑定的一些示例：</span><span class="sxs-lookup"><span data-stu-id="00266-126">The following classes represent some examples of system-provided bindings:</span></span>  
  
-   <span data-ttu-id="00266-127"><xref:System.ServiceModel.BasicHttpBinding>：一个 HTTP 协议绑定，适用于连接到符合 WS-I 基本配置文件规范的 Web 服务（例如，基于 ASP.NET Web 服务的服务）。</span><span class="sxs-lookup"><span data-stu-id="00266-127"><xref:System.ServiceModel.BasicHttpBinding>: An HTTP protocol binding suitable for connecting to Web services that conforms to the WS-I Basic Profile specification (for example, ASP.NET Web services-based services).</span></span>  
  
-   <span data-ttu-id="00266-128"><xref:System.ServiceModel.WSHttpBinding>：一个可互操作的绑定，适用于连接到符合 WS-\* 协议的终结点。</span><span class="sxs-lookup"><span data-stu-id="00266-128"><xref:System.ServiceModel.WSHttpBinding>: An interoperable binding suitable for connecting to endpoints that conform to the WS-\* protocols.</span></span>  
  
-   <span data-ttu-id="00266-129"><xref:System.ServiceModel.NetNamedPipeBinding>： 使用[!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)]连接到同一台计算机上其他 WCF 终结点。</span><span class="sxs-lookup"><span data-stu-id="00266-129"><xref:System.ServiceModel.NetNamedPipeBinding>: Uses the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] to connect to other WCF endpoints on the same machine.</span></span>  
  
-   <span data-ttu-id="00266-130"><xref:System.ServiceModel.NetMsmqBinding>： 使用[!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)]来创建与其他 WCF 终结点的已排队的消息连接。</span><span class="sxs-lookup"><span data-stu-id="00266-130"><xref:System.ServiceModel.NetMsmqBinding>: Uses the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] to create queued message connections with other WCF endpoints.</span></span>  

- <span data-ttu-id="00266-131"><xref:System.ServiceModel.NetTcpBinding>： 此绑定提供了更高的性能比 HTTP 绑定，特别适用于本地网络。</span><span class="sxs-lookup"><span data-stu-id="00266-131"><xref:System.ServiceModel.NetTcpBinding>: This binding offers higher performance than HTTP bindings and is ideal for use in a local network.</span></span>
  
 <span data-ttu-id="00266-132">有关完整列表，包含的所有提供 WCF 绑定的描述，请参阅[System-Provided Bindings](../../../docs/framework/wcf/system-provided-bindings.md)。</span><span class="sxs-lookup"><span data-stu-id="00266-132">For a complete list, with descriptions, of all the WCF-provided bindings, see [System-Provided Bindings](../../../docs/framework/wcf/system-provided-bindings.md).</span></span>  
  
## <a name="using-your-own-bindings"></a><span data-ttu-id="00266-133">使用自己的绑定</span><span class="sxs-lookup"><span data-stu-id="00266-133">Using Your Own Bindings</span></span>  
 <span data-ttu-id="00266-134">如果系统提供的绑定都不具有服务应用程序所需的正确功能组合，则可以创建自己的绑定。</span><span class="sxs-lookup"><span data-stu-id="00266-134">If none of the system-provided bindings included has the right combination of features that a service application requires, you can create your own binding.</span></span> <span data-ttu-id="00266-135">有两种方法可以实现此目的。</span><span class="sxs-lookup"><span data-stu-id="00266-135">There are two ways to do this.</span></span> <span data-ttu-id="00266-136">您可以使用 <xref:System.ServiceModel.Channels.CustomBinding> 对象从预先存在的绑定元素创建新的绑定，也可以通过从 <xref:System.ServiceModel.Channels.Binding> 绑定派生来创建完全由用户定义的绑定。</span><span class="sxs-lookup"><span data-stu-id="00266-136">You can either create a new binding from pre-existing binding elements using a <xref:System.ServiceModel.Channels.CustomBinding> object or you can create a completely user-defined binding by deriving from the <xref:System.ServiceModel.Channels.Binding> binding.</span></span> <span data-ttu-id="00266-137">有关创建自己的绑定使用这两种方法的详细信息，请参阅[自定义绑定](../../../docs/framework/wcf/extending/custom-bindings.md)并[创建用户定义绑定](../../../docs/framework/wcf/extending/creating-user-defined-bindings.md)。</span><span class="sxs-lookup"><span data-stu-id="00266-137">For more information about creating your own binding using these two approaches, see [Custom Bindings](../../../docs/framework/wcf/extending/custom-bindings.md) and [Creating User-Defined Bindings](../../../docs/framework/wcf/extending/creating-user-defined-bindings.md).</span></span>  
  
## <a name="using-bindings"></a><span data-ttu-id="00266-138">使用绑定</span><span class="sxs-lookup"><span data-stu-id="00266-138">Using Bindings</span></span>  
 <span data-ttu-id="00266-139">使用绑定需要执行两个基本步骤：</span><span class="sxs-lookup"><span data-stu-id="00266-139">Using bindings entails two basic steps:</span></span>  
  
1.  <span data-ttu-id="00266-140">选择或定义绑定。</span><span class="sxs-lookup"><span data-stu-id="00266-140">Select or define a binding.</span></span> <span data-ttu-id="00266-141">最简单方法是选择 WCF 中包含的系统提供绑定之一并将其用于其默认设置。</span><span class="sxs-lookup"><span data-stu-id="00266-141">The easiest method is to choose one of the system-provided bindings included with WCF and use it with its default settings.</span></span> <span data-ttu-id="00266-142">您还可以选择一个系统提供的绑定，然后根据您的需求重新设置它的属性值。</span><span class="sxs-lookup"><span data-stu-id="00266-142">You can also choose a system-provided binding and reset its property values to suit your requirements.</span></span> <span data-ttu-id="00266-143">或者，您可以创建一个自定义绑定或用户定义的绑定，以实现更高程度的控制和自定义。</span><span class="sxs-lookup"><span data-stu-id="00266-143">Alternatively, you can create a custom binding or a user-defined binding to have higher degrees of control and customization.</span></span>  
  
2.  <span data-ttu-id="00266-144">创建一个使用所选择或定义的绑定的终结点。</span><span class="sxs-lookup"><span data-stu-id="00266-144">Create an endpoint that uses the binding selected or defined.</span></span>  
  
## <a name="code-and-configuration"></a><span data-ttu-id="00266-145">代码和配置</span><span class="sxs-lookup"><span data-stu-id="00266-145">Code and Configuration</span></span>  
 <span data-ttu-id="00266-146">可以通过两种方式来定义绑定：通过代码或通过配置。</span><span class="sxs-lookup"><span data-stu-id="00266-146">You can define bindings in two ways: through code or through configuration.</span></span> <span data-ttu-id="00266-147">这两种方法与您使用的是系统提供的绑定还是自定义绑定无关。</span><span class="sxs-lookup"><span data-stu-id="00266-147">These two approaches do not depend on whether you are using a system-provided binding or a custom binding.</span></span> <span data-ttu-id="00266-148">通常，使用代码可以使你在设计时对绑定的定义拥有完全的控制。</span><span class="sxs-lookup"><span data-stu-id="00266-148">In general, using code gives you complete control over the definition of a binding at design time.</span></span> <span data-ttu-id="00266-149">但是，使用配置，允许系统管理员或 WCF 服务或客户端能够更改绑定的参数，而无需重新编译服务应用程序的用户。</span><span class="sxs-lookup"><span data-stu-id="00266-149">Using configuration, on the other hand, allows a system administrator or the user of a WCF service or client to change the parameters of a binding without having to recompile the service application.</span></span> <span data-ttu-id="00266-150">这种灵活性通常是可取的因为没有方法来预测在其部署 WCF 应用程序的特定计算机需求。</span><span class="sxs-lookup"><span data-stu-id="00266-150">This flexibility is often desirable because there is no way to predict specific machine requirements on which a WCF application is to be deployed.</span></span> <span data-ttu-id="00266-151">通过将绑定（和寻址）信息保持在代码外部，人们可以更改这些信息，而不必重新编译或重新部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="00266-151">Keeping the binding (and the addressing) information out of the code allows them to change without requiring recompilation or redeployment of the application.</span></span> <span data-ttu-id="00266-152">请注意，代码中定义的绑定是在配置中指定的绑定之后创建的，这使得代码定义的绑定可以覆盖配置中定义的任何绑定。</span><span class="sxs-lookup"><span data-stu-id="00266-152">Note that bindings defined in code are created after bindings specified in configuration, allowing the code-defined bindings to overwrite any configuration-defined bindings.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="00266-153">请参阅</span><span class="sxs-lookup"><span data-stu-id="00266-153">See Also</span></span>  
 [<span data-ttu-id="00266-154">使用绑定配置服务和客户端</span><span class="sxs-lookup"><span data-stu-id="00266-154">Using Bindings to Configure Services and Clients</span></span>](../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)
