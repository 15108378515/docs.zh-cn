---
title: "计时行为概述"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- timing behaviors [WPF]
- behaviors [WPF], timing
ms.assetid: 5b714d46-bd46-48b8-b467-b4be89ba3091
caps.latest.revision: "20"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: ac6671033a439051b062ddae70649a63bacd4979
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/21/2017
---
# <a name="timing-behaviors-overview"></a><span data-ttu-id="73387-102">计时行为概述</span><span class="sxs-lookup"><span data-stu-id="73387-102">Timing Behaviors Overview</span></span>
<span data-ttu-id="73387-103">本主题介绍动画和其他的计时行为<xref:System.Windows.Media.Animation.Timeline>对象。</span><span class="sxs-lookup"><span data-stu-id="73387-103">This topic describes the timing behaviors of animations and other <xref:System.Windows.Media.Animation.Timeline> objects.</span></span>  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="73387-104">先决条件</span><span class="sxs-lookup"><span data-stu-id="73387-104">Prerequisites</span></span>  
 <span data-ttu-id="73387-105">若要了解本主题，应熟悉基本动画功能。</span><span class="sxs-lookup"><span data-stu-id="73387-105">To understand this topic, you should be familiar with basic animation features.</span></span> <span data-ttu-id="73387-106">有关详细信息，请参阅[动画概述](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="73387-106">For more information, see the [Animation Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md).</span></span>  
  
<a name="timelinetypes"></a>   
## <a name="timeline-types"></a><span data-ttu-id="73387-107">时间线类型</span><span class="sxs-lookup"><span data-stu-id="73387-107">Timeline Types</span></span>  
 <span data-ttu-id="73387-108">A<xref:System.Windows.Media.Animation.Timeline>表示的时间段。</span><span class="sxs-lookup"><span data-stu-id="73387-108">A <xref:System.Windows.Media.Animation.Timeline> represents a segment of time.</span></span> <span data-ttu-id="73387-109">它提供的属性让你可以指定该时间段的长度、开始时间、重复次数、该时间段内时间进度的快慢等。</span><span class="sxs-lookup"><span data-stu-id="73387-109">It provides properties that enable you to specify the length of that segment, when it should start, how many times it will repeat, how fast time progresses in that segment, and more.</span></span>  
  
 <span data-ttu-id="73387-110">从时间线类继承的类可提供附加功能，例如动画和媒体播放。</span><span class="sxs-lookup"><span data-stu-id="73387-110">Classes that inherit from the timeline class provide additional functionality, such as animation and media playback.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="73387-111">提供了以下<xref:System.Windows.Media.Animation.Timeline>类型。</span><span class="sxs-lookup"><span data-stu-id="73387-111"> provides the following <xref:System.Windows.Media.Animation.Timeline> types.</span></span>  
  
|<span data-ttu-id="73387-112">时间线类型</span><span class="sxs-lookup"><span data-stu-id="73387-112">Timeline type</span></span>|<span data-ttu-id="73387-113">描述</span><span class="sxs-lookup"><span data-stu-id="73387-113">Description</span></span>|  
|-------------------|-----------------|  
|<xref:System.Windows.Media.Animation.AnimationTimeline>|<span data-ttu-id="73387-114">抽象基类<xref:System.Windows.Media.Animation.Timeline>生成属性进行动画处理的输出值的对象。</span><span class="sxs-lookup"><span data-stu-id="73387-114">Abstract base class for <xref:System.Windows.Media.Animation.Timeline> objects that generate output values for animating properties.</span></span>|  
|<xref:System.Windows.Media.MediaTimeline>|<span data-ttu-id="73387-115">从媒体文件生成输出。</span><span class="sxs-lookup"><span data-stu-id="73387-115">Generates output from a media file.</span></span>|  
|<xref:System.Windows.Media.Animation.ParallelTimeline>|<span data-ttu-id="73387-116">一种<xref:System.Windows.Media.Animation.TimelineGroup>该组和控件的子级<xref:System.Windows.Media.Animation.Timeline>对象。</span><span class="sxs-lookup"><span data-stu-id="73387-116">A type of <xref:System.Windows.Media.Animation.TimelineGroup> that groups and controls child <xref:System.Windows.Media.Animation.Timeline> objects.</span></span>|  
|<xref:System.Windows.Media.Animation.Storyboard>|<span data-ttu-id="73387-117">一种<xref:System.Windows.Media.Animation.ParallelTimeline>，它提供有关包含的时间线对象的目标信息。</span><span class="sxs-lookup"><span data-stu-id="73387-117">A type of <xref:System.Windows.Media.Animation.ParallelTimeline> that provides targeting information for the Timeline objects it contains.</span></span>|  
|<xref:System.Windows.Media.Animation.Timeline>|<span data-ttu-id="73387-118">定义计时行为的抽象基类。</span><span class="sxs-lookup"><span data-stu-id="73387-118">Abstract base class that defines timing behaviors.</span></span>|  
|<xref:System.Windows.Media.Animation.TimelineGroup>|<span data-ttu-id="73387-119">抽象类<xref:System.Windows.Media.Animation.Timeline>可以包含其他对象<xref:System.Windows.Media.Animation.Timeline>对象。</span><span class="sxs-lookup"><span data-stu-id="73387-119">Abstract class for <xref:System.Windows.Media.Animation.Timeline> objects that can contain other <xref:System.Windows.Media.Animation.Timeline> objects.</span></span>|  
  
<a name="propertiesthatcontroltimelinelength"></a>   
## <a name="properties-that-control-the-length-of-a-timeline"></a><span data-ttu-id="73387-120">用于控制时间线长度的属性</span><span class="sxs-lookup"><span data-stu-id="73387-120">Properties that Control the Length of a Timeline</span></span>  
 <span data-ttu-id="73387-121">A<xref:System.Windows.Media.Animation.Timeline>表示的时间段和时间线的长度可以描述不同的方式。</span><span class="sxs-lookup"><span data-stu-id="73387-121">A <xref:System.Windows.Media.Animation.Timeline> represents a segment of time, and the length of a timeline can be described in different ways.</span></span> <span data-ttu-id="73387-122">下表定义了几个用于描述时间线长度的术语。</span><span class="sxs-lookup"><span data-stu-id="73387-122">The following table defines several terms for describing the length of a timeline.</span></span>  
  
|<span data-ttu-id="73387-123">术语</span><span class="sxs-lookup"><span data-stu-id="73387-123">Term</span></span>|<span data-ttu-id="73387-124">描述</span><span class="sxs-lookup"><span data-stu-id="73387-124">Description</span></span>|<span data-ttu-id="73387-125">属性</span><span class="sxs-lookup"><span data-stu-id="73387-125">Properties</span></span>||||  
|----------|-----------------|----------------|-|-|-|  
|<span data-ttu-id="73387-126">简单持续时间</span><span class="sxs-lookup"><span data-stu-id="73387-126">Simple duration</span></span>|<span data-ttu-id="73387-127">时间线向前迭代一次所需的时间长度。</span><span class="sxs-lookup"><span data-stu-id="73387-127">The length of time a timeline takes to make a single forward iteration.</span></span>|<xref:System.Windows.Media.Animation.Timeline.Duration%2A>||||  
|<span data-ttu-id="73387-128">一次重复</span><span class="sxs-lookup"><span data-stu-id="73387-128">One repetition</span></span>|<span data-ttu-id="73387-129">时间线向前播放一次，如果它采用的时间长度<xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A>属性为 true 时，倒退一次。</span><span class="sxs-lookup"><span data-stu-id="73387-129">The length of time it takes for a timeline to play forward once and, if the <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A> property is true, play backwards once.</span></span>|<span data-ttu-id="73387-130"><xref:System.Windows.Media.Animation.Timeline.Duration%2A>, <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A></span><span class="sxs-lookup"><span data-stu-id="73387-130"><xref:System.Windows.Media.Animation.Timeline.Duration%2A>, <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A></span></span>||||  
|<span data-ttu-id="73387-131">活动期</span><span class="sxs-lookup"><span data-stu-id="73387-131">Active period</span></span>|<span data-ttu-id="73387-132">总时间所需时间线，以完成由指定的所有重复其<xref:System.Windows.Media.Animation.RepeatBehavior>属性。</span><span class="sxs-lookup"><span data-stu-id="73387-132">The length of time it takes for a timeline to complete all the repetitions specified by its <xref:System.Windows.Media.Animation.RepeatBehavior> property.</span></span>|<span data-ttu-id="73387-133"><xref:System.Windows.Media.Animation.Timeline.Duration%2A>, <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A>, <xref:System.Windows.Media.Animation.RepeatBehavior></span><span class="sxs-lookup"><span data-stu-id="73387-133"><xref:System.Windows.Media.Animation.Timeline.Duration%2A>, <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A>, <xref:System.Windows.Media.Animation.RepeatBehavior></span></span>||||  
  
<a name="duration"></a>   
### <a name="the-duration-property"></a><span data-ttu-id="73387-134">Duration 属性</span><span class="sxs-lookup"><span data-stu-id="73387-134">The Duration Property</span></span>  
 <span data-ttu-id="73387-135">如前文所述，时间线表示时间段。</span><span class="sxs-lookup"><span data-stu-id="73387-135">As previously mentioned, a timeline represents a segment of time.</span></span> <span data-ttu-id="73387-136">段的长度由时间线的<xref:System.Windows.Media.Animation.Timeline.Duration%2A>。</span><span class="sxs-lookup"><span data-stu-id="73387-136">The length of that segment is determined by the timeline's <xref:System.Windows.Media.Animation.Timeline.Duration%2A>.</span></span> <span data-ttu-id="73387-137">当时间线到达其持续时间的终点时，就会停止播放。</span><span class="sxs-lookup"><span data-stu-id="73387-137">When a timeline reaches the end of its duration, it stops playing.</span></span> <span data-ttu-id="73387-138">如果时间线具有子时间线，这些子时间线也会停止播放。</span><span class="sxs-lookup"><span data-stu-id="73387-138">If the timeline has child timelines, they stop playing as well.</span></span> <span data-ttu-id="73387-139">对于动画，<xref:System.Windows.Media.Animation.Timeline.Duration%2A>指定动画的时间转换从其起始值为其结束的值。</span><span class="sxs-lookup"><span data-stu-id="73387-139">In the case of an animation, the <xref:System.Windows.Media.Animation.Timeline.Duration%2A> specifies how long the animation takes to transition from its starting value to its ending value.</span></span> <span data-ttu-id="73387-140">时间线的持续时间有时称为其*简单持续时间*、 来区分一次迭代的持续时间和动画播放包括重复的时间的总长度。</span><span class="sxs-lookup"><span data-stu-id="73387-140">A timeline's duration is sometimes called its *simple duration*, to distinguish between the duration of a single iteration and the total length of time the animation plays including repetitions.</span></span> <span data-ttu-id="73387-141">你可以指定一个持续时间，使用有限的时间值或特殊值<xref:System.Windows.Duration.Automatic%2A>或<xref:System.Windows.Duration.Forever%2A>。</span><span class="sxs-lookup"><span data-stu-id="73387-141">You can specify a duration using a finite time value or the special values <xref:System.Windows.Duration.Automatic%2A> or <xref:System.Windows.Duration.Forever%2A>.</span></span> <span data-ttu-id="73387-142">动画的持续时间应解析为<xref:System.Windows.Duration.TimeSpan%2A>值，因此它可以转换值之间。</span><span class="sxs-lookup"><span data-stu-id="73387-142">An animation's duration should resolve to a <xref:System.Windows.Duration.TimeSpan%2A> value, so it can transition between values.</span></span>  
  
 <span data-ttu-id="73387-143">下面的示例演示<xref:System.Windows.Media.Animation.DoubleAnimation>与<xref:System.Windows.Media.Animation.Timeline.Duration%2A>5 秒。</span><span class="sxs-lookup"><span data-stu-id="73387-143">The following example shows a <xref:System.Windows.Media.Animation.DoubleAnimation> with a <xref:System.Windows.Media.Animation.Timeline.Duration%2A> of five seconds.</span></span>  
  
 [!code-xaml[animation_ovws_snippet#AnimationWith5SecondDurationInline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snippet/CS/TimingBehaviorsExample1.xaml#animationwith5seconddurationinline)]  
  
 <span data-ttu-id="73387-144">容器时间线，如<xref:System.Windows.Media.Animation.Storyboard>和<xref:System.Windows.Media.Animation.ParallelTimeline>，默认持续时间为<xref:System.Windows.Duration.Automatic%2A>，这意味着它们将自动结束时其最后一个子级停止播放。</span><span class="sxs-lookup"><span data-stu-id="73387-144">Container timelines, such as <xref:System.Windows.Media.Animation.Storyboard> and <xref:System.Windows.Media.Animation.ParallelTimeline>, have a default duration of <xref:System.Windows.Duration.Automatic%2A>, which means they automatically end when their last child stops playing.</span></span> <span data-ttu-id="73387-145">下面的示例演示<xref:System.Windows.Media.Animation.Storyboard>其<xref:System.Windows.Media.Animation.Timeline.Duration%2A>可解析为五秒，所有子所都用的时间长度<xref:System.Windows.Media.Animation.DoubleAnimation>对象完成。</span><span class="sxs-lookup"><span data-stu-id="73387-145">The following example shows a <xref:System.Windows.Media.Animation.Storyboard> whose <xref:System.Windows.Media.Animation.Timeline.Duration%2A> resolves to five seconds, the length of time it takes all its child <xref:System.Windows.Media.Animation.DoubleAnimation> objects to complete.</span></span>  
  
 [!code-xaml[animation_ovws_snippet#ContainerTimelineExampleInline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snippet/CS/TimingBehaviorsExample1.xaml#containertimelineexampleinline)]  
  
 <span data-ttu-id="73387-146">通过设置<xref:System.Windows.Media.Animation.Timeline.Duration%2A>到容器时间线<xref:System.Windows.Duration.TimeSpan%2A>值，你可以强制播放长于或短于其子<xref:System.Windows.Media.Animation.Timeline>对象播放。</span><span class="sxs-lookup"><span data-stu-id="73387-146">By setting the <xref:System.Windows.Media.Animation.Timeline.Duration%2A> of a container timeline to a <xref:System.Windows.Duration.TimeSpan%2A> value, you can force to play longer or shorter than its child <xref:System.Windows.Media.Animation.Timeline> objects would play.</span></span> <span data-ttu-id="73387-147">如果你设置<xref:System.Windows.Media.Animation.Timeline.Duration%2A>为小于容器时间线的子的长度值<xref:System.Windows.Media.Animation.Timeline>对象、 子<xref:System.Windows.Media.Animation.Timeline>对象也会停止播放时容器时间线。</span><span class="sxs-lookup"><span data-stu-id="73387-147">If you set the <xref:System.Windows.Media.Animation.Timeline.Duration%2A> to a value that's smaller than the length of the container timeline's child <xref:System.Windows.Media.Animation.Timeline> objects, the child <xref:System.Windows.Media.Animation.Timeline> objects stop playing when the container timeline does.</span></span> <span data-ttu-id="73387-148">下面的示例设置<xref:System.Windows.Media.Animation.Timeline.Duration%2A>的<xref:System.Windows.Media.Animation.Storyboard>从前面的示例中为 3 秒。</span><span class="sxs-lookup"><span data-stu-id="73387-148">The following example sets the <xref:System.Windows.Media.Animation.Timeline.Duration%2A> of the <xref:System.Windows.Media.Animation.Storyboard> from the preceding examples to three seconds.</span></span> <span data-ttu-id="73387-149">因此，第一个<xref:System.Windows.Media.Animation.DoubleAnimation>停止后三秒，当它具有经过动画处理到 60 目标矩形的宽度的进展情况。</span><span class="sxs-lookup"><span data-stu-id="73387-149">As a result, the first <xref:System.Windows.Media.Animation.DoubleAnimation> stops progressing after three seconds, when it has animated the target rectangle's width to 60.</span></span>  
  
 [!code-xaml[animation_ovws_snippet#ContainerTimelineWithShorterDurationExampleInline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snippet/CS/TimingBehaviorsExample1.xaml#containertimelinewithshorterdurationexampleinline)]  
  
<a name="repeatinganimations"></a>   
### <a name="the-repeatbehavior-property"></a><span data-ttu-id="73387-150">RepeatBehavior 属性</span><span class="sxs-lookup"><span data-stu-id="73387-150">The RepeatBehavior Property</span></span>  
 <span data-ttu-id="73387-151"><xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>属性<xref:System.Windows.Media.Animation.Timeline>控制重复其简单持续时间的次数。</span><span class="sxs-lookup"><span data-stu-id="73387-151">The <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A> property of a <xref:System.Windows.Media.Animation.Timeline> controls how many times it repeats its simple duration.</span></span> <span data-ttu-id="73387-152">使用<xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>属性，你可以指定在时间线播放的次数 (迭代<xref:System.Windows.Media.Animation.RepeatBehavior.Count%2A>) 或它应播放的时间的总长度 (重复<xref:System.Windows.Media.Animation.RepeatBehavior.Duration%2A>)。</span><span class="sxs-lookup"><span data-stu-id="73387-152">Using the <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A> property, you can specify how many times the timeline plays (an iteration <xref:System.Windows.Media.Animation.RepeatBehavior.Count%2A>) or the total length of time it should play (a repeat <xref:System.Windows.Media.Animation.RepeatBehavior.Duration%2A>).</span></span> <span data-ttu-id="73387-153">无论是哪一种情况，动画都将从头到尾运行很多次，直到完成要求的次数或经历完所需的一段时间。</span><span class="sxs-lookup"><span data-stu-id="73387-153">In either case, the animation goes through as many beginning-to-end runs as necessary to fill the requested count or duration.</span></span> <span data-ttu-id="73387-154">默认情况下，时间线具有的迭代次数为`1.0`，这意味着它们播放一次，根本不进行重复。</span><span class="sxs-lookup"><span data-stu-id="73387-154">By default, timelines have an iteration count of `1.0`, which means they play once and do not repeat at all.</span></span>  
  
 <span data-ttu-id="73387-155">下面的示例使用<xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>属性以使<xref:System.Windows.Media.Animation.DoubleAnimation>播放两次其简单持续时间内通过指定的迭代次数。</span><span class="sxs-lookup"><span data-stu-id="73387-155">The following example uses the <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A> property to make a <xref:System.Windows.Media.Animation.DoubleAnimation> play for twice its simple duration by specifying an iteration count.</span></span>  
  
 [!code-xaml[animation_ovws_snippet#TBRepeatBehavior2xExampleInline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snippet/CS/TimingBehaviorsExample1.xaml#tbrepeatbehavior2xexampleinline)]  
  
 <span data-ttu-id="73387-156">下一个示例使用<xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>属性以使<xref:System.Windows.Media.Animation.DoubleAnimation>播放半其简单持续时间。</span><span class="sxs-lookup"><span data-stu-id="73387-156">The next example uses the <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A> property to make the <xref:System.Windows.Media.Animation.DoubleAnimation> play for half its simple duration.</span></span>  
  
 [!code-xaml[animation_ovws_snippet#TBRepeatBehavior05xExampleInline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snippet/CS/TimingBehaviorsExample1.xaml#tbrepeatbehavior05xexampleinline)]  
  
 <span data-ttu-id="73387-157">如果你设置<xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>属性<xref:System.Windows.Media.Animation.Timeline>到<xref:System.Windows.Media.Animation.RepeatBehavior.Forever%2A>、<xref:System.Windows.Media.Animation.Timeline>重复，直到停止以交互方式或计时系统。</span><span class="sxs-lookup"><span data-stu-id="73387-157">If you set the <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A> property of a <xref:System.Windows.Media.Animation.Timeline> to <xref:System.Windows.Media.Animation.RepeatBehavior.Forever%2A>, the <xref:System.Windows.Media.Animation.Timeline> repeats until stopped interactively or by the timing system.</span></span> <span data-ttu-id="73387-158">下面的示例使用<xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>属性以使<xref:System.Windows.Media.Animation.DoubleAnimation>无限期地播放。</span><span class="sxs-lookup"><span data-stu-id="73387-158">The following example uses the <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A> property to make the <xref:System.Windows.Media.Animation.DoubleAnimation> play indefinitely.</span></span>  
  
 [!code-xaml[animation_ovws_snippet#TBRepeatBehaviorForeverExampleInline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snippet/CS/TimingBehaviorsExample1.xaml#tbrepeatbehaviorforeverexampleinline)]  
  
 <span data-ttu-id="73387-159">有关其他示例，请参阅[重复动画](../../../../docs/framework/wpf/graphics-multimedia/how-to-repeat-an-animation.md)。</span><span class="sxs-lookup"><span data-stu-id="73387-159">For an additional example, see [Repeat an Animation](../../../../docs/framework/wpf/graphics-multimedia/how-to-repeat-an-animation.md).</span></span>  
  
<a name="autoreverseproperty"></a>   
### <a name="the-autoreverse-property"></a><span data-ttu-id="73387-160">AutoReverse 属性</span><span class="sxs-lookup"><span data-stu-id="73387-160">The AutoReverse Property</span></span>  
 <span data-ttu-id="73387-161"><xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A>属性指定是否<xref:System.Windows.Media.Animation.Timeline>末尾的每个向前迭代倒退。</span><span class="sxs-lookup"><span data-stu-id="73387-161">The <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A> property specifies whether a <xref:System.Windows.Media.Animation.Timeline> will play backwards at the end of each forward iteration.</span></span> <span data-ttu-id="73387-162">下面的示例将设置为<xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A>属性<xref:System.Windows.Media.Animation.DoubleAnimation>到`true`; 因此，它进行动画处理，从 0 到 100，，然后从 100 到零。</span><span class="sxs-lookup"><span data-stu-id="73387-162">The following example sets to the <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A> property of a <xref:System.Windows.Media.Animation.DoubleAnimation> to `true`; as a result, it animates from zero to 100, and then from 100 to zero.</span></span> <span data-ttu-id="73387-163">它的总播放时长为 10 秒。</span><span class="sxs-lookup"><span data-stu-id="73387-163">It plays for a total of 10 seconds.</span></span>  
  
 [!code-xaml[animation_ovws_snippet#TBAutoReverseExampleInline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snippet/CS/TimingBehaviorsExample1.xaml#tbautoreverseexampleinline)]  
  
 <span data-ttu-id="73387-164">当你使用<xref:System.Windows.Media.Animation.RepeatBehavior.Count%2A>要指定的值<xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>的<xref:System.Windows.Media.Animation.Timeline>和<xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A>属性，<xref:System.Windows.Media.Animation.Timeline>是`true`，一次重复由一个向前迭代后跟一个向后迭代。</span><span class="sxs-lookup"><span data-stu-id="73387-164">When you use a <xref:System.Windows.Media.Animation.RepeatBehavior.Count%2A> value to specify the <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A> of a <xref:System.Windows.Media.Animation.Timeline> and the <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A> property of that <xref:System.Windows.Media.Animation.Timeline> is `true`, a single repetition consists of one forward iteration followed by one backwards iteration.</span></span>  <span data-ttu-id="73387-165">下面的示例设置<xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>的<xref:System.Windows.Media.Animation.DoubleAnimation>到前面的示例从<xref:System.Windows.Media.Animation.RepeatBehavior.Count%2A>两个。</span><span class="sxs-lookup"><span data-stu-id="73387-165">The following example sets the <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A> of the <xref:System.Windows.Media.Animation.DoubleAnimation> from the preceding example to a <xref:System.Windows.Media.Animation.RepeatBehavior.Count%2A> of two.</span></span> <span data-ttu-id="73387-166">因此，<xref:System.Windows.Media.Animation.DoubleAnimation>播放了 20 秒： 转发为五秒，向后的 5 秒向前 5 秒试，然后再向后的五秒。</span><span class="sxs-lookup"><span data-stu-id="73387-166">As a result, the <xref:System.Windows.Media.Animation.DoubleAnimation> plays for 20 seconds: forward for five seconds, backwards for five seconds, forward for 5 seconds again, and then backwards for five seconds.</span></span>  
  
 [!code-xaml[animation_ovws_snippet#TBAutoReverseRepeatExampleInline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snippet/CS/TimingBehaviorsExample1.xaml#tbautoreverserepeatexampleinline)]  
  
 <span data-ttu-id="73387-167">如果容器时间线具有子<xref:System.Windows.Media.Animation.Timeline>对象，它们反向时容器时间线。</span><span class="sxs-lookup"><span data-stu-id="73387-167">If a container timeline has child <xref:System.Windows.Media.Animation.Timeline> objects, they reverse when the container timeline does.</span></span> <span data-ttu-id="73387-168">有关其他示例，请参阅[指定是否时间线会自动颠倒](../../../../docs/framework/wpf/graphics-multimedia/how-to-specify-whether-a-timeline-automatically-reverses.md)。</span><span class="sxs-lookup"><span data-stu-id="73387-168">For additional examples, see [Specify Whether a Timeline Automatically Reverses](../../../../docs/framework/wpf/graphics-multimedia/how-to-specify-whether-a-timeline-automatically-reverses.md).</span></span>  
  
<a name="timelinebegin"></a>   
## <a name="the-begintime-property"></a><span data-ttu-id="73387-169">BeginTime 属性</span><span class="sxs-lookup"><span data-stu-id="73387-169">The BeginTime Property</span></span>  
 <span data-ttu-id="73387-170"><xref:System.Windows.Media.Animation.Timeline.BeginTime%2A>属性使您能够指定时间线的启动时。</span><span class="sxs-lookup"><span data-stu-id="73387-170">The <xref:System.Windows.Media.Animation.Timeline.BeginTime%2A> property enables you to specify when a timeline starts.</span></span>  <span data-ttu-id="73387-171">时间线的开始时间相对于其父时间线。</span><span class="sxs-lookup"><span data-stu-id="73387-171">A timeline's begin time is relative to its parent timeline.</span></span> <span data-ttu-id="73387-172">如果开始时间为零秒，则表示其父时间线开始后，该时间线立即开始；如果开始时间为其他值，会在父时间线和子时间线的开始播放时间之间产生时间偏差。</span><span class="sxs-lookup"><span data-stu-id="73387-172">A begin time of zero seconds means the timeline starts as soon as it parent starts; any other value creates an offset between when the parent timeline starts playing and when the child timeline plays.</span></span> <span data-ttu-id="73387-173">例如，如果开始时间为两秒，则表示在其父时间线到达两秒后，该时间线才开始播放。</span><span class="sxs-lookup"><span data-stu-id="73387-173">For example, a begin time of two seconds means the timeline starts playing when its parent has reached a time of two seconds.</span></span> <span data-ttu-id="73387-174">默认情况下，所有时间线的开始时间都为零秒。</span><span class="sxs-lookup"><span data-stu-id="73387-174">By default, all timelines have a begin time of zero seconds.</span></span> <span data-ttu-id="73387-175">您还可以设置时间线的开始时间`null`，这样将无法启动时间线。</span><span class="sxs-lookup"><span data-stu-id="73387-175">You may also set a timeline's begin time to `null`, which prevents the timeline from starting.</span></span> <span data-ttu-id="73387-176">在[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]，指定 null 使用[X:null 标记扩展](../../../../docs/framework/xaml-services/x-null-markup-extension.md)。</span><span class="sxs-lookup"><span data-stu-id="73387-176">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], you specify null using the [x:Null Markup Extension](../../../../docs/framework/xaml-services/x-null-markup-extension.md).</span></span>  
  
 <span data-ttu-id="73387-177">请注意，开始时间不应用时间线重复时由于每次其<xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>设置。</span><span class="sxs-lookup"><span data-stu-id="73387-177">Note that the begin time is not applied each time a timeline repeats because of its <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A> setting.</span></span> <span data-ttu-id="73387-178">如果你打算创建动画的<xref:System.Windows.Media.Animation.Timeline.BeginTime%2A>为 10 秒和<xref:System.Windows.Media.Animation.RepeatBehavior>的<xref:System.Windows.Media.Animation.RepeatBehavior.Forever%2A>，将有 10 秒延迟之前动画播放第一次，但不是能为每个连续的重复。</span><span class="sxs-lookup"><span data-stu-id="73387-178">If you were to create an animation with a <xref:System.Windows.Media.Animation.Timeline.BeginTime%2A> of 10 seconds and a <xref:System.Windows.Media.Animation.RepeatBehavior> of <xref:System.Windows.Media.Animation.RepeatBehavior.Forever%2A>, there would be a 10-second delay before the animation played for the first time, but not for each successive repetition.</span></span> <span data-ttu-id="73387-179">但是，如果动画的父时间线重新开始或重复，则会延迟 10 秒。</span><span class="sxs-lookup"><span data-stu-id="73387-179">However, if the animation's parent timeline were to restart or repeat, the 10-second delay would occur.</span></span>  
  
 <span data-ttu-id="73387-180"><xref:System.Windows.Media.Animation.Timeline.BeginTime%2A>属性是用于错开时间线。</span><span class="sxs-lookup"><span data-stu-id="73387-180">The <xref:System.Windows.Media.Animation.Timeline.BeginTime%2A> property is useful for staggering timelines.</span></span> <span data-ttu-id="73387-181">下面的示例创建<xref:System.Windows.Media.Animation.Storyboard>包含两个子<xref:System.Windows.Media.Animation.DoubleAnimation>对象。</span><span class="sxs-lookup"><span data-stu-id="73387-181">The following example creates a <xref:System.Windows.Media.Animation.Storyboard> that has two child <xref:System.Windows.Media.Animation.DoubleAnimation> objects.</span></span> <span data-ttu-id="73387-182">第一个动画<xref:System.Windows.Media.Animation.Timeline.Duration%2A>5 秒，第二个<xref:System.Windows.Media.Animation.Timeline.Duration%2A>3 秒。</span><span class="sxs-lookup"><span data-stu-id="73387-182">The first animation has a <xref:System.Windows.Media.Animation.Timeline.Duration%2A> of five seconds, and the second has a <xref:System.Windows.Media.Animation.Timeline.Duration%2A> of 3 seconds.</span></span> <span data-ttu-id="73387-183">该示例设置<xref:System.Windows.Media.Animation.Timeline.BeginTime%2A>第二个<xref:System.Windows.Media.Animation.DoubleAnimation>为 5 秒，因此它开始播放后第一个<xref:System.Windows.Media.Animation.DoubleAnimation>结束。</span><span class="sxs-lookup"><span data-stu-id="73387-183">The example sets the <xref:System.Windows.Media.Animation.Timeline.BeginTime%2A> of the second <xref:System.Windows.Media.Animation.DoubleAnimation> to 5 seconds, so that it begins playing after the first <xref:System.Windows.Media.Animation.DoubleAnimation> ends.</span></span>  
  
 [!code-xaml[animation_ovws_snippet#TBBeginTimeExampleInline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snippet/CS/TimingBehaviorsExample1.xaml#tbbegintimeexampleinline)]  
  
<a name="fillbehaviorproperty"></a>   
## <a name="the-fillbehavior-property"></a><span data-ttu-id="73387-184">FillBehavior 属性</span><span class="sxs-lookup"><span data-stu-id="73387-184">The FillBehavior Property</span></span>  
 <span data-ttu-id="73387-185">当<xref:System.Windows.Media.Animation.Timeline>到达其总的活动持续时间，末尾<xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A>属性指定它是停止还是持有其最后一个值。</span><span class="sxs-lookup"><span data-stu-id="73387-185">When a <xref:System.Windows.Media.Animation.Timeline> reaches the end of its total active duration, the <xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A> property specifies whether it stops or holds its last value.</span></span> <span data-ttu-id="73387-186">动画的<xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A>的<xref:System.Windows.Media.Animation.FillBehavior.HoldEnd>"保存"其输出值： 正在进行动画处理的属性将保留动画的最后一个值。</span><span class="sxs-lookup"><span data-stu-id="73387-186">An animation with a <xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A> of <xref:System.Windows.Media.Animation.FillBehavior.HoldEnd> "holds" its output value: the property being animated retains the last value of the animation.</span></span> <span data-ttu-id="73387-187">值为<xref:System.Windows.Media.Animation.FillBehavior.Stop>使动画停止结束之后影响其目标属性。</span><span class="sxs-lookup"><span data-stu-id="73387-187">A value of <xref:System.Windows.Media.Animation.FillBehavior.Stop> causes that the animation stop affecting its target property after it ends.</span></span>  
  
 <span data-ttu-id="73387-188">下面的示例创建<xref:System.Windows.Media.Animation.Storyboard>包含两个子<xref:System.Windows.Media.Animation.DoubleAnimation>对象。</span><span class="sxs-lookup"><span data-stu-id="73387-188">The following example creates a <xref:System.Windows.Media.Animation.Storyboard> that has two child <xref:System.Windows.Media.Animation.DoubleAnimation> objects.</span></span> <span data-ttu-id="73387-189">同时<xref:System.Windows.Media.Animation.DoubleAnimation>对象进行动画处理<xref:System.Windows.FrameworkElement.Width%2A>的<xref:System.Windows.Shapes.Rectangle>从 0 到 100。</span><span class="sxs-lookup"><span data-stu-id="73387-189">Both <xref:System.Windows.Media.Animation.DoubleAnimation> objects animate the <xref:System.Windows.FrameworkElement.Width%2A> of a <xref:System.Windows.Shapes.Rectangle> from 0 to 100.</span></span> <span data-ttu-id="73387-190"><xref:System.Windows.Shapes.Rectangle>元素具有非动画<xref:System.Windows.FrameworkElement.Width%2A>500 [设备无关的像素] 的值。</span><span class="sxs-lookup"><span data-stu-id="73387-190">The <xref:System.Windows.Shapes.Rectangle> elements have non-animated <xref:System.Windows.FrameworkElement.Width%2A> values of 500 [device independent pixels].</span></span>  
  
-   <span data-ttu-id="73387-191"><xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A>属性的第一个<xref:System.Windows.Media.Animation.DoubleAnimation>设置为<xref:System.Windows.Media.Animation.FillBehavior.HoldEnd>，默认值。</span><span class="sxs-lookup"><span data-stu-id="73387-191">The <xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A> property of the first <xref:System.Windows.Media.Animation.DoubleAnimation> is set to <xref:System.Windows.Media.Animation.FillBehavior.HoldEnd>, the default value.</span></span> <span data-ttu-id="73387-192">因此，矩形的宽度后保持为 100<xref:System.Windows.Media.Animation.DoubleAnimation>结束。</span><span class="sxs-lookup"><span data-stu-id="73387-192">As a result, the Width of the Rectangle stays at 100 after the <xref:System.Windows.Media.Animation.DoubleAnimation> ends.</span></span>  
  
-   <span data-ttu-id="73387-193"><xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A>第二个属性<xref:System.Windows.Media.Animation.DoubleAnimation>设置为<xref:System.Windows.Media.Animation.FillBehavior.Stop>。</span><span class="sxs-lookup"><span data-stu-id="73387-193">The <xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A> property of the second <xref:System.Windows.Media.Animation.DoubleAnimation> is set to <xref:System.Windows.Media.Animation.FillBehavior.Stop>.</span></span> <span data-ttu-id="73387-194">因此，<xref:System.Windows.FrameworkElement.Width%2A>第二个<xref:System.Windows.Shapes.Rectangle>后还原为 500<xref:System.Windows.Media.Animation.DoubleAnimation>结束。</span><span class="sxs-lookup"><span data-stu-id="73387-194">As a result, the <xref:System.Windows.FrameworkElement.Width%2A> of the second <xref:System.Windows.Shapes.Rectangle> reverts to 500 after the <xref:System.Windows.Media.Animation.DoubleAnimation> ends.</span></span>  
  
 [!code-xaml[animation_ovws_snippet#TBFillBehaviorExample](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animation_ovws_snippet/CS/TimingBehaviorsExample1.xaml#tbfillbehaviorexample)]  
  
<a name="speedproperties"></a>   
## <a name="properties-that-control-the-speed-of-a-timeline"></a><span data-ttu-id="73387-195">用于控制时间线速度的属性</span><span class="sxs-lookup"><span data-stu-id="73387-195">Properties that Control the Speed of a Timeline</span></span>  
 <span data-ttu-id="73387-196"><xref:System.Windows.Media.Animation.Timeline>类提供三个属性用于指定其速度：</span><span class="sxs-lookup"><span data-stu-id="73387-196">The <xref:System.Windows.Media.Animation.Timeline> class provides three properties for specifying its speed:</span></span>  
  
-   <span data-ttu-id="73387-197"><xref:System.Windows.Media.Animation.Timeline.SpeedRatio%2A>-指定该速率，相对于其父级，在该时间转换为<xref:System.Windows.Media.Animation.Timeline>。</span><span class="sxs-lookup"><span data-stu-id="73387-197"><xref:System.Windows.Media.Animation.Timeline.SpeedRatio%2A> – Specifies that rate, relative to its parent, at which time progresses for a <xref:System.Windows.Media.Animation.Timeline>.</span></span> <span data-ttu-id="73387-198">大于 1 的值增加的速度<xref:System.Windows.Media.Animation.Timeline>及其子<xref:System.Windows.Media.Animation.Timeline>对象; 0 和 1 之间的值速度下降。</span><span class="sxs-lookup"><span data-stu-id="73387-198">Values greater than one increase the speed of the <xref:System.Windows.Media.Animation.Timeline> and its child <xref:System.Windows.Media.Animation.Timeline> objects; values between zero and one slow it down.</span></span> <span data-ttu-id="73387-199">一个值，该值指示<xref:System.Windows.Media.Animation.Timeline>时为其父级的相同速率进行。</span><span class="sxs-lookup"><span data-stu-id="73387-199">A value of one indicates that <xref:System.Windows.Media.Animation.Timeline> progresses at the same rate as its parent.</span></span> <span data-ttu-id="73387-200"><xref:System.Windows.Media.Animation.Timeline.SpeedRatio%2A>容器时间线的设置会影响其所有子<xref:System.Windows.Media.Animation.Timeline>以及对象。</span><span class="sxs-lookup"><span data-stu-id="73387-200">The <xref:System.Windows.Media.Animation.Timeline.SpeedRatio%2A> setting  of a container timeline affects all of its child <xref:System.Windows.Media.Animation.Timeline> objects as well.</span></span>  
  
-   <span data-ttu-id="73387-201"><xref:System.Windows.Media.Animation.Timeline.AccelerationRatio%2A>– 指定的百分比<xref:System.Windows.Media.Animation.Timeline.Duration%2A>以时间线所用的加速。</span><span class="sxs-lookup"><span data-stu-id="73387-201"><xref:System.Windows.Media.Animation.Timeline.AccelerationRatio%2A> – Specifies the percentage of the <xref:System.Windows.Media.Animation.Timeline.Duration%2A> of a Timeline spent accelerating.</span></span> <span data-ttu-id="73387-202">有关示例，请参阅[如何： 加速或减速动画](../../../../docs/framework/wpf/graphics-multimedia/how-to-accelerate-or-decelerate-an-animation.md)。</span><span class="sxs-lookup"><span data-stu-id="73387-202">For an example, see [How to: Accelerate or Decelerate an Animation](../../../../docs/framework/wpf/graphics-multimedia/how-to-accelerate-or-decelerate-an-animation.md).</span></span> 
  
-   <span data-ttu-id="73387-203"><xref:System.Windows.Media.Animation.Timeline.DecelerationRatio%2A>-指定的百分比<xref:System.Windows.Media.Animation.Timeline.Duration%2A>以时间线所用的减速。</span><span class="sxs-lookup"><span data-stu-id="73387-203"><xref:System.Windows.Media.Animation.Timeline.DecelerationRatio%2A> - Specifies the percentage of the <xref:System.Windows.Media.Animation.Timeline.Duration%2A> of a Timeline spent decelerating.</span></span> <span data-ttu-id="73387-204">有关示例，请参阅[如何： 加速或减速动画](../../../../docs/framework/wpf/graphics-multimedia/how-to-accelerate-or-decelerate-an-animation.md)。</span><span class="sxs-lookup"><span data-stu-id="73387-204">For an example, see [How to: Accelerate or Decelerate an Animation](../../../../docs/framework/wpf/graphics-multimedia/how-to-accelerate-or-decelerate-an-animation.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="73387-205">另请参阅</span><span class="sxs-lookup"><span data-stu-id="73387-205">See Also</span></span>  
 [<span data-ttu-id="73387-206">动画概述</span><span class="sxs-lookup"><span data-stu-id="73387-206">Animation Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)  
 [<span data-ttu-id="73387-207">动画和计时系统概述</span><span class="sxs-lookup"><span data-stu-id="73387-207">Animation and Timing System Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-and-timing-system-overview.md)  
 [<span data-ttu-id="73387-208">计时事件概述</span><span class="sxs-lookup"><span data-stu-id="73387-208">Timing Events Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/timing-events-overview.md)  
 [<span data-ttu-id="73387-209">操作说明主题</span><span class="sxs-lookup"><span data-stu-id="73387-209">How-to Topics</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-and-timing-how-to-topics.md)  
 [<span data-ttu-id="73387-210">动画计时行为示例</span><span class="sxs-lookup"><span data-stu-id="73387-210">Animation Timing Behavior Sample</span></span>](http://go.microsoft.com/fwlink/?LinkID=159970)
