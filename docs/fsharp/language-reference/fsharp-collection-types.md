---
title: F# 集合类型
description: '了解有关 F # 集合类型以及它们如何与.NET Framework 中集合类型的区别。'
ms.date: 05/16/2016
ms.openlocfilehash: a94dc300d984ca31baf1eb7d1073e23b51ebd030
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/04/2018
ms.locfileid: "33566842"
---
# <a name="f-collection-types"></a>F# 集合类型

通过查看本主题，你可以确定哪些 F # 集合类型最适合特定的需要。 在.NET Framework 中，例如中的集合类型与不同，这些集合类型`System.Collections.Generic`命名空间，在于 F # 集合类型旨在从功能的编程角度看，而不是面向对象的透视。 更具体地说，仅该数组集合具有可变的元素。 因此，当修改集合时，你将创建修改后的集合，而不是更改原始集合的实例。

集合类型也是不同的对象存储的数据结构类型中。 如哈希表、 链接的列表和数组的数据结构具有不同的性能特征和一组不同的可用操作。


## <a name="f-collection-types"></a>F# 集合类型
下表显示 F # 集合类型。



|类型|描述|相关链接|
|----|-----------|-------------|
|[List](https://msdn.microsoft.com/library/c627b668-477b-4409-91ed-06d7f1b3e4a7)|相同类型的元素的有序的、 不可变序列。 作为链接列表实现。|[列表](lists.md)<br /><br />[List 模块](https://msdn.microsoft.com/library/a2264ba3-2d45-40dd-9040-4f7aa2ad9788)|
|[数组](https://msdn.microsoft.com/library/0cda8040-9396-40dd-8dcd-cf48542165a1)|具有相同类型的所有连续的数据元素的固定大小，从零开始的可变集合。|[数组](arrays.md)<br /><br />[Array 模块](https://msdn.microsoft.com/library/0cda8040-9396-40dd-8dcd-cf48542165a1)<br /><br />[Array2D 模块](https://msdn.microsoft.com/library/ae1a9746-7817-4430-bcdb-a79c2411bbd3)<br /><br />[Array3D 模块](https://msdn.microsoft.com/library/c8355e2d-add8-48a4-8aa6-1c57ae74c560)|
|[Seq](https://msdn.microsoft.com/library/2f0c87c6-8a0d-4d33-92a6-10d1d037ce75)|逻辑的一系列是一种类型的所有的元素。 当你具有大型，排序的数据集合，但不一定是希望使用的所有元素时，序列会特别有用。 各个序列元素计算仅为必需的因此序列可以执行性能优于列表，如果不是使用的所有元素。 序列由`seq<'T>`类型，这是一个别名为`IEnumerable<T>`。 因此，任何.NET Framework 类型实现`System.Collections.Generic.IEnumerable<'T>`可用作一个序列。|[序列](sequences.md)<br /><br />[Seq 模块](https://msdn.microsoft.com/library/54e8f059-ca52-4632-9ae9-49685ee9b684)|
|[映射](https://msdn.microsoft.com/library/975316ea-55e3-4987-9994-90897ad45664)|元素的不可变字典。 由参数访问元素。|[映射模块](https://msdn.microsoft.com/library/bfe61ead-f16c-416f-af98-56dbcbe23e4f)|
|[Set](https://msdn.microsoft.com/library/50cebdce-0cd7-4c5c-8ebc-f3a9e90b38d8)|基于二进制树，比较是 F # 结构化比较函数，它可能使用的实现的不可变集`System.IComparable`键值的接口。|[Set 模块](https://msdn.microsoft.com/library/61efa732-d55d-4c32-993f-628e2f98e6a0)|

### <a name="table-of-functions"></a>函数的表
本部分比较 F # 集合类型可用的功能。 给定函数的计算的复杂程度，其中 N 是第一个集合的大小，M 是第二个集合的大小，如果有的话。 短划线 （-） 指示，此函数不在集合上可用。 延迟计算序列，如 Seq.distinct 函数可能是 o （1） 由于它立即返回，虽然它仍会影响序列枚举时的性能。



|函数|数组|列表|序列|映射|Set|描述|
|--------|-----|----|--------|---|---|-----------|
|append|O(M)|O （N)|O （N)|-|-|返回一个包含第二个集合的元素后跟第一个集合中的元素的新集合。|
|添加|-|-|-|O (log N)|O (log N)|返回一个新集合添加元素。|
|平均值|O （N)|O （N)|O （N)|-|-|返回集合中的元素的平均值。|
|averageBy|O （N)|O （N)|O （N)|-|-|返回应用于每个元素的提供函数的结果的平均值。|
|blit|O （N)|-|-|-|-|将复制的数组的一部分。|
|缓存|-|-|O （N)|-|-|计算并存储一个序列的元素。|
|强制转换|-|-|O （N)|-|-|将元素转换为指定的类型。|
|选择|O （N)|O （N)|O （N)|-|-|将给定的函数应用`f`于每个元素`x`的列表。 返回包含每个元素的结果的列表，该函数将返回其中`Some(f(x))`。|
|收集|O （N)|O （N)|O （N)|-|-|将给定的函数应用于集合的每个元素、 连接所有结果，并返回组合的列表。|
|compareWith|-|-|O （N)|-|-|使用给定的比较函数，逐个元素比较两个序列。|
|concat|O （N)|O （N)|O （N)|-|-|将合并为单个串联的枚举给定-的枚举枚举。|
|包含|-|-|-|-|O (log N)|如果该集包含指定的元素，则返回 true。|
|containsKey|-|-|-|O (log N)|-|测试元素是否是域中的地图。|
|count|-|-|-|-|O （N)|返回集合中元素的数目。|
|countBy|-|-|O （N)|-|-|将键生成函数应用于每个元素的序列，并返回一个序列，生成唯一键以及它们的原始序列中的匹配项的数量。|
|copy|O （N)|-|O （N)|-|-|将集合复制。|
|创建|O （N)|-|-|-|-|创建所有最初都为给定的值的整个元素的数组。|
|延迟|-|-|O （1)|-|-|返回从给定的延迟规范的序列生成的序列。|
|差异|-|-|-|-|O (M &#42; log N)|返回从第一组中删除第二个集的元素的新集。|
|非重复|||O （1)&AMP;#42;|||返回一个序列，其中包含的项的泛型哈希和等同性比较根据没有重复项。 如果一个元素序列中出现多次，更高版本的匹配项将被丢弃。|
|distinctBy|||O （1)&AMP;#42;|||返回一个序列，其中包含根据给定的键生成函数返回的键泛型的哈希和等同性比较没有重复项。 如果一个元素序列中出现多次，更高版本的匹配项将被丢弃。|
|空|O （1)|O （1)|O （1)|O （1)|O （1)|创建一个空集合。|
|exists|O （N)|O （N)|O （N)|O (log N)|O (log N)|测试是否序列中的任何元素满足给定的谓词。|
|exists2|O(min(N,M))|-|O(min(N,M))|||测试是否任何对输入序列中的相应元素满足给定的谓词。|
|fill|O （N)|||||将某个范围的数组的元素设置为给定的值。|
|筛选器|O （N)|O （N)|O （N)|O （N)|O （N)|返回一个包含仅为其给定的谓词返回集合中的元素的新集合`true`。|
|find|O （N)|O （N)|O （N)|O (log N)|-|返回给定的函数为其返回的第一个元素`true`。 返回`System.Collections.Generic.KeyNotFoundException`如果此类元素不存在。|
|findIndex|O （N)|O （N)|O （N)|-|-|满足给定的谓词数组中返回的第一个元素的索引。 引发`System.Collections.Generic.KeyNotFoundException`如果没有元素满足该谓词。|
|findKey|-|-|-|O (log N)|-|计算该函数会在每个映射在集合中，并返回第一个映射中的密钥，该函数将返回其中`true`。 如果此类元素不存在，此函数将引发`System.Collections.Generic.KeyNotFoundException`。|
|折叠|O （N)|O （N)|O （N)|O （N)|O （N)|将函数应用于每个元素的集合，在计算一个累加器参数。 如果输入的函数是 f 且元素是 i0...中的，此函数将计算 f （...(f s i0)...)在中。|
|fold2|O （N)|O （N)|-|-|-|将函数应用于两个集合，在计算一个累加器参数的对应元素。 集合必须具有相同的大小。 如果输入的函数是 f 且元素是 i0...中的和 j0...jN，此函数将计算 f （...(f s i0 j0)...)在 jN.|
|foldBack|O （N)|O （N)|-|O （N)|O （N)|将函数应用于每个元素的集合，在计算一个累加器参数。 如果输入的函数是 f 且元素是 i0...中的，此函数计算 f i0 （...(f s 中))。|
|foldBack2|O （N)|O （N)|-|-|-|将函数应用于两个集合，在计算一个累加器参数的对应元素。 集合必须具有相同的大小。 如果输入的函数是 f 且元素是 i0...中的和 j0...jN，此函数计算 f i0 j0 （...(f jN s 中))。|
|forall|O （N)|O （N)|O （N)|O （N)|O （N)|测试是否将集合的所有元素都满足给定的谓词。|
|forall2|O （N)|O （N)|O （N)|-|-|测试是否将集合的所有相应元素成对满足给定的谓词。|
|获取 / 第 n 个|O （1)|O （N)|O （N)|-|-|返回从给定索引的集合的元素。|
|head|-|O （1)|O （1)|-|-|返回集合的第一个元素。|
|init|O （N)|O （N)|O （1)|-|-|创建给定维度和一个生成器函数以便计算元素的集合。|
|initInfinite|-|-|O （1)|-|-|生成的序列，当循环访问，通过调用给定的函数返回连续的元素。|
|相交|-|-|-|-|O (log N&#42;日志 M)|计算两个集的交集。|
|intersectMany|-|-|-|-|O (N1 &AMP;#42; N2...)|计算序列的集的交集。 序列不为空。|
|IsEmpty|O （1)|O （1)|O （1)|O （1)|-|返回`true`如果该集合为空。|
|isProperSubset|-|-|-|-|O (M &#42; log N)|返回`true`如果的第一个集的所有元素都均在第二组，并且至少一个元素的第二组不在第一组。|
|isProperSuperset|-|-|-|-|O (M &#42; log N)|返回`true`如果第二个集的所有元素都均在第一个组中，并且至少一个元素的第一组不在第二组。|
|isSubset|-|-|-|-|O (M &#42; log N)|返回`true`第一组的所有元素是否在第二组。|
|isSuperset|-|-|-|-|O (M &#42; log N)|返回`true`第二个集的所有元素是否采用第一个集。|
|Iter|O （N)|O （N)|O （N)|O （N)|O （N)|将给定的函数应用于集合的每个元素。|
|iteri|O （N)|O （N)|O （N)|-|-|将给定的函数应用于集合的每个元素。 传递给函数的整数指示元素的索引。|
|iteri2|O （N)|O （N)|-|-|-|将给定的函数应用到的绘制从匹配中两个数组的索引的元素对。 传递给函数的整数指示元素的索引。 两个数组必须具有相同长度。|
|iter2|O （N)|O （N)|O （N)|-|-|将给定的函数应用到的绘制从匹配中两个数组的索引的元素对。 两个数组必须具有相同长度。|
|length|O （1)|O （N)|O （N)|-|-|返回集合中的元素数。|
|map|O （N)|O （N)|O （1)|-|-|生成一个集合，其元素是将给定的函数应用于数组的每个元素的结果。|
|map2|O （N)|O （N)|O （1)|-|-|生成一个集合，其元素是成对将给定的函数应用于两个集合的相应元素的结果。 两个输入的数组必须具有相同长度。|
|map3|-|O （N)|-|-|-|生成一个集合，其元素是将给定的函数同时应用于三个集合的相应元素的结果。|
|mapi|O （N)|O （N)|O （N)|-|-|生成一个数组，其元素是应用于数组的每个元素的给定的函数的结果。 传递给函数的整数索引指示正在转换的元素的索引。|
|mapi2|O （N)|O （N)|-|-|-|生成一个集合，其元素是两个集合成对，还将传递的元素索引的相应元素应用给定的函数的结果。 两个输入的数组必须具有相同长度。|
|max|O （N)|O （N)|O （N)|-|-|在集合中，通过使用比较返回的最大元素[max](https://msdn.microsoft.com/library/9a988328-00e9-467b-8dfa-e7a6990f6cce)运算符。|
|maxBy|O （N)|O （N)|O （N)|-|-|在集合中，通过使用比较返回的最大元素[max](https://msdn.microsoft.com/library/9a988328-00e9-467b-8dfa-e7a6990f6cce)函数结果。|
|maxElement|-|-|-|-|O (log N)|返回用于组根据排序集中的最大元素。|
|min|O （N)|O （N)|O （N)|-|-|在集合中，通过使用比较返回的最小元素[min](https://msdn.microsoft.com/library/adea4fd7-bfad-4834-989c-7878aca81fed)运算符。|
|minBy|O （N)|O （N)|O （N)|-|-|在集合中，通过使用比较返回的最小元素[min](https://msdn.microsoft.com/library/adea4fd7-bfad-4834-989c-7878aca81fed)运算符函数结果。|
|minElement|-|-|-|-|O (log N)|返回用于组根据排序集中的最小元素。|
|ofArray|-|O （N)|O （1)|O （N)|O （N)|创建包含与给定的数组相同的元素的集合。|
|ofList|O （N)|-|O （1)|O （N)|O （N)|创建包含与给定的列表相同的元素的集合。|
|ofSeq|O （N)|O （N)|-|O （N)|O （N)|创建包含与给定序列相同的元素的集合。|
|成对|-|-|O （N)|-|-|在输入的序列和除第一个元素，它只能作为第二个元素的前身返回其前置任务中返回的每个元素的序列。|
|partition|O （N)|O （N)|-|O （N)|O （N)|将拆分成两个集合的集合。 第一个集合包含给定的谓词为其返回的元素`true`，第二个集合包含给定的谓词为其返回的元素和`false`。|
|permute|O （N)|O （N)|-|-|-|返回的排列根据指定的排列的所有元素的数组。|
|选取|O （N)|O （N)|O （N)|O (log N)|-|适用于连续的元素，返回的第一个结果，该函数将返回某些给定的函数。 如果该函数将永远不会返回一些，`System.Collections.Generic.KeyNotFoundException`引发。|
|readonly|-|-|O （N)|-|-|创建一个将委托给给定的序列对象的序列对象。 类型强制转换不能重新发现，发生变化的原始序列，可确保此操作。 例如，如果给定数组，返回的序列将返回数组的元素，但不能为数组将返回的序列对象强制转换。|
|reduce|O （N)|O （N)|O （N)|-|-|将函数应用于每个元素的集合，在计算一个累加器参数。 此函数通过将函数应用到的前两个元素来启动，将此结果传递到函数以及第三个元素，依此类推。 该函数返回的最终结果。|
|reduceBack|O （N)|O （N)|-|-|-|将函数应用于每个元素的集合，在计算一个累加器参数。 如果输入的函数是 f 且元素是 i0...中的，此函数计算 f i0 （...(f 中的 1 中))。|
|remove|-|-|-|O (log N)|O (log N)|从映射的域中移除的元素。 如果元素不存在，则不引发任何异常。|
|复制|-|O （N)|-|-|-|与每个元素设置为给定的值创建一个指定长度的列表。|
|修订|O （N)|O （N)|-|-|-|按相反顺序返回元素的新列表。|
|扫描|O （N)|O （N)|O （N)|-|-|将函数应用于每个元素的集合，在计算一个累加器参数。 此操作将函数应用到第二个参数和列表的第一个元素。 然后该操作，依此类推将此结果传递给第二个元素以及该函数。 最后，该操作返回的中间结果和最终结果的列表。|
|scanBack|O （N)|O （N)|-|-|-|类似于 foldBack 操作，但返回中间和最后一个结果。|
|单一实例|-|-|O （1)|-|O （1)|返回生成只有一个项的序列。|
|set|O （1)|-|-|-|-|将数组的元素设置为指定的值。|
|skip|-|-|O （N)|-|-|返回跳过的基础序列 N 个元素，然后生成该序列的剩余元素的序列。|
|skipWhile|-|-|O （N)|-|-|返回一个序列，循环时, 跳过序列元素的基础而给定谓词返回`true`然后生成该序列的剩余元素。|
|sort|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|O (N log N)|O (N log N)|-|-|对集合的元素值进行排序。 使用比较元素[比较](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortBy|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|O (N log N)|O (N log N)|-|-|使用给定的投影提供的密钥对给定的列表排序。 键进行比较使用[比较](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlace|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|-|-|-|-|变异就地和使用给定的比较函数数组的元素进行排序。 通过使用比较元素[比较](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlaceBy|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|-|-|-|-|对数组的元素排序变异就地和为各个键使用给定的投影。 通过使用比较元素[比较](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlaceWith|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|-|-|-|-|变异就地和给定的比较函数用作顺序数组的元素进行排序。|
|sortWith|O (N log N) 平均值<br /><br />O(N^2) 坏的情况下|O (N log N)|-|-|-|一个集合，使用给定的比较函数作为顺序，并返回一个新集合的元素进行排序。|
|sub|O （N)|-|-|-|-|生成包含指定的起始索引和长度的给定子范围的数组。|
|sum|O （N)|O （N)|O （N)|-|-|返回集合中元素的总和。|
|sumBy|O （N)|O （N)|O （N)|-|-|返回通过将函数应用于集合的每个元素生成的结果的总和。|
|结尾|-|O （1)|-|-|-|返回不带其第一个元素的列表。|
|take|-|-|O （N)|-|-|返回元素的顺序，直至指定的计数。|
|takeWhile|-|-|O （1)|-|-|返回一个序列，循环时, 生成序列元素的基础而给定谓词返回`true`，然后返回没有更多的元素。|
|ToArray|-|O （N)|O （N)|O （N)|O （N)|从给定的集合创建一个数组。|
|ToList|O （N)|-|O （N)|O （N)|O （N)|从给定的集合创建一个列表。|
|toSeq|O （1)|O （1)|-|O （1)|O （1)|从给定的集合创建一个序列。|
|截断|-|-|O （1)|-|-|返回的序列，当枚举时，返回字符不能超过 N 个元素。|
|tryFind|O （N)|O （N)|O （N)|O (log N)|-|搜索满足指定的谓词的元素。|
|tryFindIndex|O （N)|O （N)|O （N)|-|-|搜索满足给定的谓词和返回的匹配元素的索引的第一个元素或`None`如果此类元素不存在。|
|tryFindKey|-|-|-|O (log N)|-|返回满足给定的谓词中，或返回的集合中的第一个映射中的键`None`如果此类元素不存在。|
|tryPick|O （N)|O （N)|O （N)|O (log N)|-|将给定的函数应用于连续的元素，返回的第一个结果，该函数将返回其中`Some`的某些值。 如果此类元素不存在，该操作返回`None`。|
|展开|-|-|O （N)|-|-|返回包含给定的计算生成的元素的序列。|
|union|-|-|-|-|O (M &#42; log N)|计算两个集的并集。|
|unionMany|-|-|-|-|O (N1 &AMP;#42; N2...)|计算序列的集的并集。|
|unzip|O （N)|O （N)|O （N)|-|-|将对的列表拆分为两个列表。|
|unzip3|O （N)|O （N)|O （N)|-|-|将三元组的列表拆分为三个列表。|
|开窗|-|-|O （N)|-|-|返回生成的包含输入序列中绘制的元素的滑动窗口的序列。 每个窗口全新的数组的形式返回。|
|zip|O （N)|O （N)|O （N)|-|-|将合并到一个列表的对两个的集合。 两个列表必须具有相等长度。|
|zip3|O （N)|O （N)|O （N)|-|-|将合并到一个列表三元组的三个的集合。 这些列表必须具有相等长度。|

## <a name="see-also"></a>请参阅
[F# 类型](fsharp-types.md)

[F# 语言参考](index.md)

