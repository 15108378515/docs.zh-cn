---
title: "类型提供程序"
description: "了解如何提供类型、 属性和方法，在程序中的使用方法的组件的 F # 类型提供程序。"
keywords: "visual f#, f#, 函数编程"
author: cartermp
ms.author: phcart
ms.date: 05/16/2016
ms.topic: language-reference
ms.prod: .net
ms.technology: devlang-fsharp
ms.devlang: fsharp
ms.assetid: 25697ef6-465e-4248-9de5-1d199d4a8b59
ms.openlocfilehash: f721b5b378bf70fb594cad66bd90bd96a0320ee2
ms.sourcegitcommit: 655fd4f78741967f80c409cef98347fdcf77857d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/28/2018
---
# <a name="type-providers"></a><span data-ttu-id="291fa-104">类型提供程序</span><span class="sxs-lookup"><span data-stu-id="291fa-104">Type Providers</span></span>

> [!NOTE]
<span data-ttu-id="291fa-105">本指南根据 F# 3.0 编写，并将进行更新。</span><span class="sxs-lookup"><span data-stu-id="291fa-105">This guide was written from F# 3.0 and will be updated.</span></span>  <span data-ttu-id="291fa-106">请参阅 [FSharp.Data](https://fsharp.github.io/FSharp.Data/) 了解最新的跨平台类型提供程序。</span><span class="sxs-lookup"><span data-stu-id="291fa-106">See [FSharp.Data](https://fsharp.github.io/FSharp.Data/) for up-to-date, cross-platform type providers.</span></span>

<span data-ttu-id="291fa-107">F# 类型提供程序是提供在程序中使用的类型、属性和方法的组件。</span><span class="sxs-lookup"><span data-stu-id="291fa-107">An F# type provider is a component that provides types, properties, and methods for use in your program.</span></span> <span data-ttu-id="291fa-108">类型提供程序是面向富信息编程的 F# 3.0 支持的重要部分。</span><span class="sxs-lookup"><span data-stu-id="291fa-108">Type providers are a significant part of F# 3.0 support for information-rich programming.</span></span> <span data-ttu-id="291fa-109">富信息编程的关键在于消除障碍以使用在 Internet 上和现代企业环境中找到的各种信息源。</span><span class="sxs-lookup"><span data-stu-id="291fa-109">The key to information-rich programming is to eliminate barriers to working with diverse information sources found on the Internet and in modern enterprise environments.</span></span> <span data-ttu-id="291fa-110">将信息源包含在程序中时遇到的一项重大障碍是，需要将信息作为在编程语言环境中使用的类型、属性和方法呈现。</span><span class="sxs-lookup"><span data-stu-id="291fa-110">One significant barrier to including a source of information into a program is the need to represent that information as types, properties, and methods for use in a programming language environment.</span></span> <span data-ttu-id="291fa-111">手动写入这些类型不仅相当耗时，而且难以维护。</span><span class="sxs-lookup"><span data-stu-id="291fa-111">Writing these types manually is very time-consuming and difficult to maintain.</span></span> <span data-ttu-id="291fa-112">常见的替代方法是使用代码生成器，它可将文件添加到项目中；但是，代码生成的常规类型无法很好地集成到 F# 所支持的编程的探索模式中，这是因为每次调整服务引用时都必须替换生成的代码。</span><span class="sxs-lookup"><span data-stu-id="291fa-112">A common alternative is to use a code generator which adds files to your project; however, the conventional types of code generation do not integrate well into exploratory modes of programming supported by F# because the generated code must be replaced each time a service reference is adjusted.</span></span>

<span data-ttu-id="291fa-113">F# 类型提供程序提供的类型通常基于外部信息源。</span><span class="sxs-lookup"><span data-stu-id="291fa-113">The types provided by F# type providers are usually based on external information sources.</span></span> <span data-ttu-id="291fa-114">例如，适用于 SQL 的 F# 类型提供程序将提供直接使用你有权访问的任何 SQL 数据库的表所需的类型、属性和方法。</span><span class="sxs-lookup"><span data-stu-id="291fa-114">For example, an F# type provider for SQL will provide the types, properties, and methods you need to work directly with the tables of any SQL database you have access to.</span></span> <span data-ttu-id="291fa-115">同样地，WSDL Web 服务的类型提供程序将提供直接使用任何 WSDL Web 服务所需的类型、属性和方法。</span><span class="sxs-lookup"><span data-stu-id="291fa-115">Similarly, a type provider for WSDL web services will provide the types, properties, and methods you need to work directly with any WSDL web service.</span></span>

<span data-ttu-id="291fa-116">F# 类型提供程序提供的类型、属性和方法集可依赖程序代码中给定的参数。</span><span class="sxs-lookup"><span data-stu-id="291fa-116">The set of types, properties, and methods provided by an F# type provider can depend on parameters given in program code.</span></span> <span data-ttu-id="291fa-117">例如，类型提供程序可提供依赖连接字符串或服务 URL 的不同类型。</span><span class="sxs-lookup"><span data-stu-id="291fa-117">For example, a type provider can provide different types depending on a connection string or a service URL.</span></span> <span data-ttu-id="291fa-118">这样一来，通过连接字符串或 URL 提供的信息空间便能直接集成到你的程序中。</span><span class="sxs-lookup"><span data-stu-id="291fa-118">In this way, the information space available by means of a connection string or URL is directly integrated into your program.</span></span> <span data-ttu-id="291fa-119">类型提供程序还可确保仅按需展开类型组；也就是说，如果类型实际上是由你的程序引用的，则将其展开。</span><span class="sxs-lookup"><span data-stu-id="291fa-119">A type provider can also ensure that groups of types are only expanded on demand; that is, they are expanded if the types are actually referenced by your program.</span></span> <span data-ttu-id="291fa-120">这允许以强类型的方式直接按需集成大型信息空间（如联机数据市场）。</span><span class="sxs-lookup"><span data-stu-id="291fa-120">This allows for the direct, on-demand integration of large-scale information spaces such as online data markets in a strongly typed way.</span></span>

<span data-ttu-id="291fa-121">F# 包含多个面向常用的 Internet 和企业数据服务的内置类型提供程序。</span><span class="sxs-lookup"><span data-stu-id="291fa-121">F# contains several built-in type providers for commonly used Internet and enterprise data services.</span></span> <span data-ttu-id="291fa-122">这些类型提供程序提供了对 SQL 关系数据库和基于网络的 OData 和 WSDL 服务的简单和常规访问，并且支持对这些数据源使用 F# LINQ 查询。</span><span class="sxs-lookup"><span data-stu-id="291fa-122">These type providers give simple and regular access to SQL relational databases and network-based OData and WSDL services and support the use of F# LINQ queries against these data sources.</span></span>

<span data-ttu-id="291fa-123">根据需要，你可以创建自己的自定义类型提供程序，也可以引用其他人创建的类型提供程序。</span><span class="sxs-lookup"><span data-stu-id="291fa-123">Where necessary, you can create your own custom type providers, or reference type providers that have been created by others.</span></span> <span data-ttu-id="291fa-124">例如，假定你的组织具有一种数据服务，该服务提供了数量不断增长的命名数据集，每个数据集都有其自己的稳定数据架构。</span><span class="sxs-lookup"><span data-stu-id="291fa-124">For example, assume your organization has a data service providing a large and growing number of named data sets, each with its own stable data schema.</span></span> <span data-ttu-id="291fa-125">你可选择创建一种类型提供程序，该程序不仅读取架构，还以强类型方式将最新的可用数据集提供给程序员。</span><span class="sxs-lookup"><span data-stu-id="291fa-125">You may choose to create a type provider that reads the schemas and presents the latest available data sets to the programmer in a strongly typed way.</span></span>


## <a name="related-topics"></a><span data-ttu-id="291fa-126">相关主题</span><span class="sxs-lookup"><span data-stu-id="291fa-126">Related Topics</span></span>


|<span data-ttu-id="291fa-127">标题</span><span class="sxs-lookup"><span data-stu-id="291fa-127">Title</span></span>|<span data-ttu-id="291fa-128">描述</span><span class="sxs-lookup"><span data-stu-id="291fa-128">Description</span></span>|
|-----|-----------|
|[<span data-ttu-id="291fa-129">演练：使用类型提供程序访问 SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="291fa-129">Walkthrough: Accessing a SQL Database by Using Type Providers</span></span>](accessing-a-sql-database.md)|<span data-ttu-id="291fa-130">说明如何使用 SqlDataConnection 类型提供程序基于与数据库的直接连接的连接字符串来访问 SQL 数据库的表和存储过程。</span><span class="sxs-lookup"><span data-stu-id="291fa-130">Explains how to use the SqlDataConnection type provider to access the tables and stored procedures of a SQL database based on a connection string for a direct connection to a database.</span></span> <span data-ttu-id="291fa-131">此访问使用 LINQ to SQL 映射。</span><span class="sxs-lookup"><span data-stu-id="291fa-131">The access uses a LINQ to SQL mapping.</span></span>|
|[<span data-ttu-id="291fa-132">演练：使用类型提供程序和实体访问 SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="291fa-132">Walkthrough: Accessing a SQL Database by Using Type Providers and Entities</span></span>](accessing-a-sql-database-entities.md)|<span data-ttu-id="291fa-133">说明如何使用 SqlEntityConnection 类型提供程序基于与数据库的直接连接的连接字符串来访问 SQL 数据库的表和存储过程。</span><span class="sxs-lookup"><span data-stu-id="291fa-133">Explains how to use the SqlEntityConnection type provider to access the tables and stored procedures of a SQL database, based on a connection string for a direct connection to a database.</span></span> <span data-ttu-id="291fa-134">此访问使用 LINQ to Entities 映射。</span><span class="sxs-lookup"><span data-stu-id="291fa-134">The access uses a LINQ to Entities mapping.</span></span> <span data-ttu-id="291fa-135">此方法使用任何数据库，而演示的示例为 SQL Server。</span><span class="sxs-lookup"><span data-stu-id="291fa-135">This method works with any database but the example demonstrated is SQL Server.</span></span>|
|[<span data-ttu-id="291fa-136">演练：使用类型提供程序访问 OData 服务</span><span class="sxs-lookup"><span data-stu-id="291fa-136">Walkthrough: Accessing an OData Service by Using Type Providers</span></span>](accessing-an-odata-service.md)|<span data-ttu-id="291fa-137">说明如何使用 ODataService 类型提供程序基于服务 URL 以强类型方式访问 OData 服务。</span><span class="sxs-lookup"><span data-stu-id="291fa-137">Explains how to use the ODataService type provider to access an OData service in a strongly typed way based on a service URL.</span></span>|
|[<span data-ttu-id="291fa-138">演练：使用类型提供程序访问 Web 服务</span><span class="sxs-lookup"><span data-stu-id="291fa-138">Walkthrough: Accessing a Web Service by Using Type Providers</span></span>](accessing-a-web-service.md)|<span data-ttu-id="291fa-139">说明如何使用 WsdlService 类型提供程序基于服务 URL 以强类型方式访问 WSDL Web 服务。</span><span class="sxs-lookup"><span data-stu-id="291fa-139">Explains how to use the WsdlService type provider to access a WSDL web service in a strongly typed way based on a service URL.</span></span>|
|[<span data-ttu-id="291fa-140">演练：根据 DBML 文件生成 F# 类型 </span><span class="sxs-lookup"><span data-stu-id="291fa-140">Walkthrough: Generating F&#35; Types from a DBML File</span></span>](generating-fsharp-types-from-dbml.md)|<span data-ttu-id="291fa-141">说明如何使用 DbmlFile 类型提供程序基于提供 Linq to SQL 数据库架构规范的 DBML 文件来访问 SQL 数据库的表和存储过程。</span><span class="sxs-lookup"><span data-stu-id="291fa-141">Explains how to use the DbmlFile type provider to access the tables and stored procedures of a SQLdatabase, based on a DBML file giving a Linq to SQL database schema specification.</span></span>|
|[<span data-ttu-id="291fa-142">演练：根据 EDMX 架构文件生成 F# 类型</span><span class="sxs-lookup"><span data-stu-id="291fa-142">Walkthrough: Generating F&#35; Types from an EDMX Schema File</span></span>](generating-fsharp-types-from-edmx.md)|<span data-ttu-id="291fa-143">说明如何使用 EdmxFile 类型提供程序基于提供实体框架架构规范的 EDMX 文件来访问 SQL 数据库的表和存储过程。</span><span class="sxs-lookup"><span data-stu-id="291fa-143">Explains how to use the EdmxFile type provider to access the tables and stored procedures of a SQL database, based on an EDMX file giving an Entity Framework schema specification.</span></span>|
|[<span data-ttu-id="291fa-144">教程：创建类型提供程序</span><span class="sxs-lookup"><span data-stu-id="291fa-144">Tutorial: Creating a Type Provider</span></span>](creating-a-type-provider.md)|<span data-ttu-id="291fa-145">提供有关编写你自己的自定义类型提供程序的信息。</span><span class="sxs-lookup"><span data-stu-id="291fa-145">Provides information on writing your own custom type providers.</span></span>|
|[<span data-ttu-id="291fa-146">类型提供程序安全性</span><span class="sxs-lookup"><span data-stu-id="291fa-146">Type Provider Security</span></span>](type-provider-security.md)|<span data-ttu-id="291fa-147">提供有关开发类型提供程序时的安全注意事项的信息。</span><span class="sxs-lookup"><span data-stu-id="291fa-147">Provides information about security considerations when developing type providers.</span></span>|
|[<span data-ttu-id="291fa-148">类型提供程序疑难解答</span><span class="sxs-lookup"><span data-stu-id="291fa-148">Troubleshooting Type Providers</span></span>](troubleshooting-type-providers.md)|<span data-ttu-id="291fa-149">提供有关使用类型提供程序时会出现的常见问题的信息并包括解决方案的建议。</span><span class="sxs-lookup"><span data-stu-id="291fa-149">Provides information about common problems that can arise when working with type providers and includes suggestions for solutions.</span></span>|

## <a name="see-also"></a><span data-ttu-id="291fa-150">请参阅</span><span class="sxs-lookup"><span data-stu-id="291fa-150">See Also</span></span>
[<span data-ttu-id="291fa-151">F# 语言参考</span><span class="sxs-lookup"><span data-stu-id="291fa-151">F# Language Reference</span></span>](../../language-reference/index.md)

[<span data-ttu-id="291fa-152">Visual F#</span><span class="sxs-lookup"><span data-stu-id="291fa-152">Visual F#</span></span>](../../index.md)
