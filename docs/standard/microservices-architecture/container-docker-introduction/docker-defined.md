---
title: "什么是 Docker？"
description: "适用于容器化 .NET 应用程序的 .NET 微服务体系结构 | 什么是 Docker？"
keywords: "Docker, 微服务, ASP.NET, 容器"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: a079a3303d1e1fed9a8df2dca2c5627beb0c672d
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/23/2017
---
# <a name="what-is-docker"></a><span data-ttu-id="7a1ef-104">什么是 Docker？</span><span class="sxs-lookup"><span data-stu-id="7a1ef-104">What is Docker?</span></span>

<span data-ttu-id="7a1ef-105">[Docker](https://www.docker.com/) 是一种[开源项目](https://github.com/docker/docker)，用于将应用程序自动部署为可在云或本地运行的便携式独立容器。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-105">[Docker](https://www.docker.com/) is an [open-source project](https://github.com/docker/docker) for automating the deployment of applications as portable, self-sufficient containers that can run on the cloud or on-premises.</span></span> <span data-ttu-id="7a1ef-106">Docker 也是一家促进和发展这项技术的[公司](https://www.docker.com/)。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-106">Docker is also a [company](https://www.docker.com/) that promotes and evolves this technology.</span></span> <span data-ttu-id="7a1ef-107">Docker 与云，Linux 和 Windows 供应商（包括 Microsoft）协作。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-107">Docker works in collaboration with cloud, Linux, and Windows vendors, including Microsoft.</span></span>

![](./media/image2.png)

<span data-ttu-id="7a1ef-108">**图 2-2**。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-108">**Figure 2-2**.</span></span> <span data-ttu-id="7a1ef-109">Docker 在混合云的所有层部署容器</span><span class="sxs-lookup"><span data-stu-id="7a1ef-109">Docker deploys containers at all layers of the hybrid cloud</span></span>

<span data-ttu-id="7a1ef-110">Docker 映像容器在 Linux 和 Windows 上本机运行。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-110">Docker image containers run natively on Linux and Windows.</span></span> <span data-ttu-id="7a1ef-111">Windows 映像仅在 Windows 主机上运行，Linux 映像仅在 Linux 主机上运行。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-111">Windows images run only on Windows hosts and Linux images run only on Linux hosts.</span></span> <span data-ttu-id="7a1ef-112">主机指服务器或 VM。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-112">The host is a server or a VM.</span></span>

<span data-ttu-id="7a1ef-113">可以在 Windows、Linux 或 macOS 上进行开发。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-113">You can develop on Windows, Linux, or macOS.</span></span> <span data-ttu-id="7a1ef-114">开发计算机运行部署了 Docker 映像（包括应用及其依赖项）的 Docker 主机。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-114">The development computer runs a Docker host where Docker images are deployed, including the app and its dependencies.</span></span> <span data-ttu-id="7a1ef-115">在 Linux 或 macOS 上，使用基于 Linux 的 Docker 主机，并且只能为 Linux 容器创建映像。（在 macOS 上可以编辑代码或运行 Docker CLI，但在撰写本文时，容器不会直接在 macOS 上运行。）在 Windows 上，可以为 Linux 或 Windows 容器创建映像。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-115">On Linux or macOS, you use a Docker host that is Linux based and can create images only for Linux containers.(On macOS you can edit code or run the Docker CLI, but as of the time of this writing, containers do not run directly on macOS.) On Windows you can create images for either Linux or Windows Containers.</span></span>

<span data-ttu-id="7a1ef-116">在 Windows 或 macOS 上，[Docker 社区版 (CE)](https://www.docker.com/community-edition) 在开发环境中承载容器，并提供其他开发人员工具。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-116">On Windows or macOS, [Docker Community Edition (CE)](https://www.docker.com/community-edition) hosts containers in a development environment and provides additional developer tools.</span></span> <span data-ttu-id="7a1ef-117">[Docker 企业版 (EE)](https://www.docker.com/enterprise-edition) 由生成、交付和运行大型业务关键应用程序的 IT 团队使用。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-117">[Docker Enterprise Edition (EE)](https://www.docker.com/enterprise-edition) is used by IT teams who build, ship, and run large business-critical applications.</span></span> <span data-ttu-id="7a1ef-118">~这两种产品都安装了承载容器所需的 VM（Docker 主机）。~</span><span class="sxs-lookup"><span data-stu-id="7a1ef-118">~Both products install the necessary VM (the Docker host) to host the containers.~</span></span> 

<span data-ttu-id="7a1ef-119">[Windows 容器](https://msdn.microsoft.com/en-us/virtualization/windowscontainers/about/about_overview)适用于两种类型的运行时：</span><span class="sxs-lookup"><span data-stu-id="7a1ef-119">[Windows Containers](https://msdn.microsoft.com/en-us/virtualization/windowscontainers/about/about_overview) work with two types of runtimes:</span></span>

-   <span data-ttu-id="7a1ef-120">Windows Server 容器通过进程和命名空间隔离技术提供应用程序隔离。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-120">Windows Server Containers provide application isolation through process and namespace isolation technology.</span></span> <span data-ttu-id="7a1ef-121">Windows Server 容器与容器主机和主机上运行的所有容器共享内核。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-121">A Windows Server Container shares a kernel with the container host and with all containers running on the host.</span></span>

-   <span data-ttu-id="7a1ef-122">Hyper-V 容器通过在高度优化的虚拟机中运行各容器来扩展 Windows Server 容器提供的隔离。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-122">Hyper-V Containers expand on the isolation provided by Windows Server Containers by running each container in a highly optimized virtual machine.</span></span> <span data-ttu-id="7a1ef-123">在此配置中，容器主机的内核不与 Hyper-V 容器共享，以提供更好地隔离。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-123">In this configuration, the kernel of the container host is not shared with the Hyper-V Containers, providing better isolation.</span></span> <span data-ttu-id="7a1ef-124">Hyper-V 容器允许不受信任和恶意的多租户应用程序在同一主机上运行。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-124">Hyper-V Containers allow untrusted and *hostile multi-tenant* applications to run on the same host.</span></span> <span data-ttu-id="7a1ef-125">与 Windows Server 容器相比，Hyper-V 容器在启动时间和密度方面的效率要低一些。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-125">Hyper-V Containers have a bit less efficiency in startup times and density than Windows Server Containers.</span></span>

<span data-ttu-id="7a1ef-126">这些容器的映像的创建和运行方式均相同。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-126">The images for these containers are created and function the same way.</span></span> <span data-ttu-id="7a1ef-127">它们的区别在于创建容器的方式。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-127">They differ in how the container is created.</span></span> <span data-ttu-id="7a1ef-128">有关详细信息，请参阅 [Hyper-V 容器](https://msdn.microsoft.com/en-us/virtualization/windowscontainers/about/about_overview)。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-128">For details, see [Hyper-V Containers](https://msdn.microsoft.com/en-us/virtualization/windowscontainers/about/about_overview).</span></span>

## <a name="comparing-docker-containers-with-virtual-machines"></a><span data-ttu-id="7a1ef-129">比较 Docker 容器和虚拟机</span><span class="sxs-lookup"><span data-stu-id="7a1ef-129">Comparing Docker containers with virtual machines</span></span>

<span data-ttu-id="7a1ef-130">图 2-3 显示了 VM 和 Docker 容器之间的比较。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-130">Figure 2-3 shows a comparison between VMs and Docker containers.</span></span>

  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  <span data-ttu-id="7a1ef-131">**虚拟机**                                                                                                                                                                  **Docker 容器**</span><span class="sxs-lookup"><span data-stu-id="7a1ef-131">**Virtual Machines**                                                                                                                                                                  **Docker Containers**</span></span>
                                                                                                                                                                                        
  <span data-ttu-id="7a1ef-132">![](./media/image3.png)                                                                                                                                ![](./media/image4.png)</span><span class="sxs-lookup"><span data-stu-id="7a1ef-132">![](./media/image3.png)                                                                                                                                ![](./media/image4.png)</span></span>
                                                                                                                                                                                        
  <span data-ttu-id="7a1ef-133">虚拟机包括应用程序、必需的库或二进制文件以及完整的来宾操作系统。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-133">Virtual machines include the application, the required libraries or binaries, and a full guest operating system.</span></span> <span data-ttu-id="7a1ef-134">与比容器化相比，完全虚拟化需要更多资源。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-134">Full virtualization requires more resources than containerization.</span></span> <span data-ttu-id="7a1ef-135">容器包括应用程序及其所有依赖项。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-135">Containers include the application and all its dependencies.</span></span> <span data-ttu-id="7a1ef-136">但是，容器与其他容器共享 OS 内核。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-136">However, containers share the OS kernel with other containers.</span></span> <span data-ttu-id="7a1ef-137">容器作为主机操作系统上用户空间中的隔离进程运行。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-137">Containers run as isolated processes in user space on the host operating system.</span></span> <span data-ttu-id="7a1ef-138">Hyper-V 容器例外，其中的每个容器都在各容器特定虚拟机内部运行。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-138">Except in Hyper-V containers, where each container runs inside of a special virtual machine per container.</span></span>
  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

<span data-ttu-id="7a1ef-139">**图 2-3**。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-139">**Figure 2-3**.</span></span> <span data-ttu-id="7a1ef-140">比较传统虚拟机与 Docker 容器</span><span class="sxs-lookup"><span data-stu-id="7a1ef-140">Comparison of traditional virtual machines to Docker containers</span></span>

<span data-ttu-id="7a1ef-141">由于容器所需的资源要少得多（例如，它们不需要一个完整的 OS），所以它们启动速度快且易于部署。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-141">Because containers require far fewer resources (for example, they do not need a full OS), they start fast and are easy to deploy.</span></span> <span data-ttu-id="7a1ef-142">资源使用率较低，因此密度更高。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-142">Low resource usage allows higher density.</span></span> <span data-ttu-id="7a1ef-143">可以在同一硬件单元上运行更多服务并降低成本。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-143">You can run more services on the same hardware unit and reduce costs.</span></span>

<span data-ttu-id="7a1ef-144">与 VM 相比，在同一内核上运行所提供的隔离更少。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-144">Running on the same kernel results in less isolation than VMs provide.</span></span>

<span data-ttu-id="7a1ef-145">映像的主要目标是使环境（依赖项）在不同的部署中保持不变。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-145">The main goal of an image is that it makes the environment (dependencies) the same across different deployments.</span></span> <span data-ttu-id="7a1ef-146">也就是说，可以在计算机上调试它，然后将其部署到保证具有相同环境的另一台计算机上。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-146">This means that you can debug it on your machine and then deploy it to another machine with the same environment guaranteed.</span></span>

<span data-ttu-id="7a1ef-147">借助容器映像，可打包应用或服务并采用可靠且可重现的方式对其进行部署。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-147">A container image is a way to package an app or service and deploy it in a reliable and reproducible way.</span></span> <span data-ttu-id="7a1ef-148">可以说 Docker 不只是一种技术，还是一种原理和过程。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-148">You could say that Docker is not only a technology, but also a philosophy and a process.</span></span>

<span data-ttu-id="7a1ef-149">Docker 开发人员不会说：“为什么它能在我的计算机上运行却不能在生产中运行？”</span><span class="sxs-lookup"><span data-stu-id="7a1ef-149">Docker developers don't say, "It works on my machine, why not in production?"</span></span> <span data-ttu-id="7a1ef-150">而会说：“它在 Docker 上运行”。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-150">They say, "It runs on Docker".</span></span> <span data-ttu-id="7a1ef-151">Docker 打包的应用可以在任何支持的 Docker 环境上执行。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-151">Docker-packaged apps can be executed on any supported Docker environment.</span></span> <span data-ttu-id="7a1ef-152">Docker 打包的应用在所有部署目标（开发、质量保证、暂存、生产）上运行一致。</span><span class="sxs-lookup"><span data-stu-id="7a1ef-152">Docker packaged apps run consistently on all deployment targets (Dev, QA, staging, production).</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="7a1ef-153">[上一页] (index.md) [下一页] (docker-terminology.md)</span><span class="sxs-lookup"><span data-stu-id="7a1ef-153">[Previous] (index.md) [Next] (docker-terminology.md)</span></span>
