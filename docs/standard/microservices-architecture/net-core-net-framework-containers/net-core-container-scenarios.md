---
title: "何时选择 Docker 容器中的.NET 核心"
description: "为容器化的.NET 应用程序的.NET 微服务体系结构 |何时选择 Docker 容器中的.NET 核心"
keywords: "Docker, 微服务, ASP.NET, 容器"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 10/18/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.openlocfilehash: b7e2322bab7937c41d4659fefef11c8937d5eae7
ms.sourcegitcommit: c2e216692ef7576a213ae16af2377cd98d1a67fa
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/22/2017
---
# <a name="when-to-choose-net-core-for-docker-containers"></a><span data-ttu-id="a1185-104">何时选择 Docker 容器中的.NET 核心</span><span class="sxs-lookup"><span data-stu-id="a1185-104">When to choose .NET Core for Docker containers</span></span>

<span data-ttu-id="a1185-105">.NET 核心的模块化和轻型性质使特别适合于容器。</span><span class="sxs-lookup"><span data-stu-id="a1185-105">The modularity and lightweight nature of .NET Core makes it perfect for containers.</span></span> <span data-ttu-id="a1185-106">当你部署并启动容器时，其映像是比使用.NET Framework 的.NET 核心与最小。</span><span class="sxs-lookup"><span data-stu-id="a1185-106">When you deploy and start a container, its image is far smaller with .NET Core than with .NET Framework.</span></span> <span data-ttu-id="a1185-107">与此相反，若要为某个容器中使用.NET Framework，你必须将你的映像基于 Windows Server Core 映像，这是大量多于 Windows Nano Server 或用于.NET 核心的 Linux 映像。</span><span class="sxs-lookup"><span data-stu-id="a1185-107">In contrast, to use .NET Framework for a container, you must base your image on the Windows Server Core image, which is a lot heavier than the Windows Nano Server or Linux images that you use for .NET Core.</span></span>

<span data-ttu-id="a1185-108">此外，.NET 核心是跨平台，以便你可以将部署使用 Linux 或 Windows 容器映像的服务器应用程序。</span><span class="sxs-lookup"><span data-stu-id="a1185-108">Additionally, .NET Core is cross-platform, so you can deploy server apps with Linux or Windows container images.</span></span> <span data-ttu-id="a1185-109">但是，如果你使用传统的.NET Framework，你仅可以部署基于 Windows Server Core 的映像。</span><span class="sxs-lookup"><span data-stu-id="a1185-109">However, if you are using the traditional .NET Framework, you can only deploy images based on Windows Server Core.</span></span>

<span data-ttu-id="a1185-110">以下是为何要选择.NET 核心的更多详细的说明。</span><span class="sxs-lookup"><span data-stu-id="a1185-110">The following is a more detailed explanation of why to choose .NET Core.</span></span>

## <a name="developing-and-deploying-cross-platform"></a><span data-ttu-id="a1185-111">开发和部署跨平台</span><span class="sxs-lookup"><span data-stu-id="a1185-111">Developing and deploying cross platform</span></span>

<span data-ttu-id="a1185-112">很明显，如果你的目标是能够可以运行多个平台支持的 Docker （Linux 和 Windows） 正确的选择的应用程序 （web 应用程序或服务） 是.NET 核心，因为.NET Framework 仅支持 Windows。</span><span class="sxs-lookup"><span data-stu-id="a1185-112">Clearly, if your goal is to have an application (web application or service) that can run on multiple platforms supported by Docker (Linux and Windows), the right choice is .NET Core, because .NET Framework only supports Windows.</span></span>

<span data-ttu-id="a1185-113">.NET 核心还支持 macOS，作为开发平台。</span><span class="sxs-lookup"><span data-stu-id="a1185-113">.NET Core also supports macOS as a development platform.</span></span> <span data-ttu-id="a1185-114">但是，在容器部署到 Docker 主机时，该主机必须 （当前） 基于 Linux 或 Windows。</span><span class="sxs-lookup"><span data-stu-id="a1185-114">However, when you deploy containers to a Docker host, that host must (currently) be based on Linux or Windows.</span></span> <span data-ttu-id="a1185-115">例如，在开发环境中，你可以使用在 mac 上运行的 Linux 虚拟机</span><span class="sxs-lookup"><span data-stu-id="a1185-115">For example, in a development environment, you could use a Linux VM running on a Mac.</span></span>

<span data-ttu-id="a1185-116">[Visual Studio](https://www.visualstudio.com/)为 Windows 提供的集成的开发环境 (IDE)，并且支持 Docker 开发。</span><span class="sxs-lookup"><span data-stu-id="a1185-116">[Visual Studio](https://www.visualstudio.com/) provides an integrated development environment (IDE) for Windows and supports Docker development.</span></span> 

<span data-ttu-id="a1185-117">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/)是一个 IDE，Xamarin Studio 中，在 macOS 中运行的变化情况并自 2017 中旬支持 Docker。</span><span class="sxs-lookup"><span data-stu-id="a1185-117">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/) is an IDE, evolution of Xamarin Studio, running in macOS and supports Docker since mid-2017.</span></span>

<span data-ttu-id="a1185-118">你还可以使用[Visual Studio Code](https://code.visualstudio.com/) (VS Code) 上 macOS、 Linux 和 Windows。</span><span class="sxs-lookup"><span data-stu-id="a1185-118">You can also use [Visual Studio Code](https://code.visualstudio.com/) (VS Code) on macOS, Linux, and Windows.</span></span> <span data-ttu-id="a1185-119">VS Code 完全支持.NET 核心，包括 IntelliSense 和调试。</span><span class="sxs-lookup"><span data-stu-id="a1185-119">VS Code fully supports .NET Core, including IntelliSense and debugging.</span></span> <span data-ttu-id="a1185-120">由于 VS Code 是轻量的编辑器，可以使用它来开发具有 Docker CLI 结合使用 Mac 上的容器化应用程序和[.NET 核心命令行界面 (CLI) 工具](https://docs.microsoft.com/dotnet/core/tools/?tabs=netcore2x)。</span><span class="sxs-lookup"><span data-stu-id="a1185-120">Because VS Code is a lightweight editor, you can use it to develop containerized apps on the Mac in conjunction with the Docker CLI and the [.NET Core command-line interface (CLI) tools](https://docs.microsoft.com/dotnet/core/tools/?tabs=netcore2x).</span></span> <span data-ttu-id="a1185-121">你还可以针对.NET Core 的 Sublime Text、 Emacs、 vi，等的开源 OmniSharp 项目，它为.NET 语言提供 IntelliSense 支持的最第三方编辑器。</span><span class="sxs-lookup"><span data-stu-id="a1185-121">You can also target .NET Core with most third-party editors like Sublime Text, Emacs, vi, and the open-source OmniSharp project, which provides IntelliSense support for .NET languages.</span></span> <span data-ttu-id="a1185-122">除了 Ide 和编辑器中，你可用于所有支持的平台的.NET 核心 CLI。</span><span class="sxs-lookup"><span data-stu-id="a1185-122">In addition to the IDEs and editors, you can use the .NET Core CLI for all supported platforms.</span></span>

## <a name="using-containers-for-new-green-field-projects"></a><span data-ttu-id="a1185-123">为新的 （"绿色的字段"） 项目中使用容器</span><span class="sxs-lookup"><span data-stu-id="a1185-123">Using containers for new ("green-field") projects</span></span>

<span data-ttu-id="a1185-124">结合使用微服务体系结构中，通常使用容器，尽管它们还可以用来化 web 应用或遵循任何体系结构模式的服务。</span><span class="sxs-lookup"><span data-stu-id="a1185-124">Containers are commonly used in conjunction with a microservices architecture, although they can also be used to containerize web apps or services that follow any architectural pattern.</span></span> <span data-ttu-id="a1185-125">你可以使用.NET Framework 上 Windows 容器，但模块性并.NET 核心的轻型性质使其适合容器和微服务体系结构。</span><span class="sxs-lookup"><span data-stu-id="a1185-125">You can use .NET Framework on Windows Containers, but the modularity and lightweight nature of .NET Core makes it perfect for containers and microservices architectures.</span></span> <span data-ttu-id="a1185-126">当你创建和部署一个容器时，其映像是比使用.NET Framework 的.NET 核心与最小。</span><span class="sxs-lookup"><span data-stu-id="a1185-126">When you create and deploy a container, its image is far smaller with .NET Core than with .NET Framework.</span></span>

## <a name="creating-and-deploying-microservices-on-containers"></a><span data-ttu-id="a1185-127">创建和部署微服务容器</span><span class="sxs-lookup"><span data-stu-id="a1185-127">Creating and deploying microservices on containers</span></span>

<span data-ttu-id="a1185-128">你无法使用传统的.NET Framework 使用纯进程生成基于微服务 （不含容器） 的应用程序。</span><span class="sxs-lookup"><span data-stu-id="a1185-128">You could use the traditional .NET Framework for building microservices-based applications (without containers) by using plain processes.</span></span> <span data-ttu-id="a1185-129">这样一来，因为.NET Framework 已安装并在进程，之间共享进程浅和快速启动。</span><span class="sxs-lookup"><span data-stu-id="a1185-129">That way, because the .NET Framework is already installed and shared across processes, processes are light and fast to start.</span></span> <span data-ttu-id="a1185-130">但是，如果你使用的容器，传统的.NET Framework 的映像也基于 Windows Server Core，可将它太繁重的微服务上容器方法。</span><span class="sxs-lookup"><span data-stu-id="a1185-130">However, if you are using containers, the image for the traditional .NET Framework is also based on Windows Server Core and that makes it too heavy for a microservices-on-containers approach.</span></span>

<span data-ttu-id="a1185-131">与此相反，.NET 核心是最佳的预发布版本，如果你使用基于容器，面向微服务的系统，因为.NET 核心是轻量。</span><span class="sxs-lookup"><span data-stu-id="a1185-131">In contrast, .NET Core is the best candidate if you are embracing a microservices-oriented system that is based on containers, because .NET Core is lightweight.</span></span> <span data-ttu-id="a1185-132">此外，其相关的容器映像，Linux 映像或 Windows Nano 映像中，是精益和小型使容器 light 和快速启动。</span><span class="sxs-lookup"><span data-stu-id="a1185-132">In addition, its related container images, either the Linux image or the Windows Nano image, are lean and small making containers light and fast to start.</span></span>

<span data-ttu-id="a1185-133">Microservice 要作为越小越好： light 时正常运转，以具有内存占用较小，以具有小限定上下文，以便表示较小的区域问题，从而能够启动和停止快速。</span><span class="sxs-lookup"><span data-stu-id="a1185-133">A microservice is meant to be as small as possible: to be light when spinning up, to have a small footprint, to have a small Bounded Context, to represent a small area of concerns, and to be able to start and stop fast.</span></span> <span data-ttu-id="a1185-134">有关这些要求，你将想要使用小和快速实例容器图像，例如.NET Core 容器映像。</span><span class="sxs-lookup"><span data-stu-id="a1185-134">For those requirements, you will want to use small and fast-to-instantiate container images like the .NET Core container image.</span></span>

<span data-ttu-id="a1185-135">微服务体系结构还可以跨服务边界混合技术。</span><span class="sxs-lookup"><span data-stu-id="a1185-135">A microservices architecture also allows you to mix technologies across a service boundary.</span></span> <span data-ttu-id="a1185-136">这样，在其他微服务或服务使用 Node.js、 Python、 Java、 GoLang 或其他技术开发的一起工作的新微服务的逐步迁移到.NET 核心。</span><span class="sxs-lookup"><span data-stu-id="a1185-136">This enables a gradual migration to .NET Core for new microservices that work in conjunction with other microservices or with services developed with Node.js, Python, Java, GoLang, or other technologies.</span></span>

## <a name="deploying-high-density-in-scalable-systems"></a><span data-ttu-id="a1185-137">在可缩放的系统中部署高的密度</span><span class="sxs-lookup"><span data-stu-id="a1185-137">Deploying high density in scalable systems</span></span>

<span data-ttu-id="a1185-138">当你基于容器的系统需求的最佳可能密度，粒度和性能时，.NET Core 和 ASP.NET Core 将是你的最佳选择。</span><span class="sxs-lookup"><span data-stu-id="a1185-138">When your container-based system needs the best possible density, granularity, and performance, .NET Core and ASP.NET Core are your best options.</span></span> <span data-ttu-id="a1185-139">ASP.NET 核心是比在传统的.NET Framework 中，ASP.NET 最多十次更快，它又产生微服务，如 Java servlet、 转到和 Node.js 其他常用的行业技术。</span><span class="sxs-lookup"><span data-stu-id="a1185-139">ASP.NET Core is up to ten times faster than ASP.NET in the traditional .NET Framework, and it leads other popular industry technologies for microservices, such as Java servlets, Go, and Node.js.</span></span>

<span data-ttu-id="a1185-140">这一点尤为重要微服务体系结构，可能有数百个微服务 （容器） 运行的位置。</span><span class="sxs-lookup"><span data-stu-id="a1185-140">This is especially relevant for microservices architectures, where you could have hundreds of microservices (containers) running.</span></span> <span data-ttu-id="a1185-141">使用 ASP.NET Core 映像 （基于.NET Core 运行时） 在 Linux 或 Windows Nano 上，你可以运行你的系统以较低数字的服务器或 Vm，最终保存在基础结构的成本和承载。</span><span class="sxs-lookup"><span data-stu-id="a1185-141">With ASP.NET Core images (based on the .NET Core runtime) on Linux or Windows Nano, you can run your system with a much lower number of servers or VMs, ultimately saving costs in infrastructure and hosting.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="a1185-142">[以前](常规-guidance.md) [下一步] (net-framework 的容器-scenarios.md)</span><span class="sxs-lookup"><span data-stu-id="a1185-142">[Previous] (general-guidance.md) [Next] (net-framework-container-scenarios.md)</span></span>
