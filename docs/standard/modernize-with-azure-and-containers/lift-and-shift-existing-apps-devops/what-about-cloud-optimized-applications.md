---
title: "云优化应用程序如何呢？"
description: "为容器化的.NET 应用程序的.NET 微服务体系结构 |云优化应用程序如何呢？"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 10/26/2017
ms.prod: .net
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 249da9ecbac90514647f4fdc926928ac7ad4648e
ms.sourcegitcommit: d3cfda0943364aaf6ccd574f55f584576c8a4fee
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/08/2018
---
# <a name="what-about-cloud-optimized-applications"></a><span data-ttu-id="8c499-103">云优化应用程序如何呢？</span><span class="sxs-lookup"><span data-stu-id="8c499-103">What about cloud-optimized applications?</span></span>

<span data-ttu-id="8c499-104">尽管云优化和[云本机](https://www.gartner.com/doc/3738117/comparing-leading-cloudnative-application-platforms)应用程序不是主要关心的本指南中，是很有帮助，以便了解此现代化成熟度，从而将它从云 DevOps 就绪区分开来。</span><span class="sxs-lookup"><span data-stu-id="8c499-104">Although Cloud-Optimized and [cloud-native](https://www.gartner.com/doc/3738117/comparing-leading-cloudnative-application-platforms) applications are not the main focus of this guide, it's helpful to have an understanding of this modernization maturity level, and to distinguish it from Cloud DevOps-Ready.</span></span>

<span data-ttu-id="8c499-105">图 4-3 将置于应用程序现代化成熟度云优化应用：</span><span class="sxs-lookup"><span data-stu-id="8c499-105">Figure 4-3 positions Cloud-Optimized apps in the application modernization maturity levels:</span></span>

![定位云优化应用程序](./media/image3.png)

> <span data-ttu-id="8c499-107">**图 4-3。**</span><span class="sxs-lookup"><span data-stu-id="8c499-107">**Figure 4-3.**</span></span> <span data-ttu-id="8c499-108">定位云优化应用程序</span><span class="sxs-lookup"><span data-stu-id="8c499-108">Positioning Cloud-Optimized applications</span></span>

<span data-ttu-id="8c499-109">云优化现代化成熟度通常需要新的开发投资。</span><span class="sxs-lookup"><span data-stu-id="8c499-109">The Cloud-Optimized modernization maturity level usually requires new development investments.</span></span> <span data-ttu-id="8c499-110">移到云优化级别通常根据业务需求来提升应用程序尽可能多地以降低成本并提高了灵活性，并争取优点。</span><span class="sxs-lookup"><span data-stu-id="8c499-110">Moving to the Cloud-Optimized level typically is driven by business need to modernize applications as much as possible to lower costs and increase agility and compete advantage.</span></span> <span data-ttu-id="8c499-111">最大程度地利用云 PaaS 可以实现这些目标。</span><span class="sxs-lookup"><span data-stu-id="8c499-111">These goals are accomplished by maximizing the use of cloud PaaS.</span></span> <span data-ttu-id="8c499-112">这意味着不仅像 DBaaS、 CaaS 和存储作为一项服务 (STaaS)，但还通过将你自己的应用程序和服务迁移到 PaaS 计算平台 Azure App Service，如使用 PaaS 服务或使用 orchestrators。</span><span class="sxs-lookup"><span data-stu-id="8c499-112">This means not only using PaaS services like DBaaS, CaaS, and storage as a service (STaaS), but also by migrating your own applications and services to a PaaS compute platform like Azure App Service, or using orchestrators.</span></span>

<span data-ttu-id="8c499-113">这种类型的现代化通常需要重构或编写新代码，非常适合云 PaaS 平台 （如对 Azure App Service 部署时）。</span><span class="sxs-lookup"><span data-stu-id="8c499-113">This type of modernization usually requires refactoring or writing new code that is optimized for cloud PaaS platforms (like for Azure App Service).</span></span> <span data-ttu-id="8c499-114">它甚至可能需要构建专为云环境中，尤其是如果你正在将它们移动到基于微服务的云本机应用程序模型。</span><span class="sxs-lookup"><span data-stu-id="8c499-114">It might even require architecting specifically for the cloud environment, especially if you are moving to cloud-native application models that are based on microservices.</span></span> <span data-ttu-id="8c499-115">这是一个区分因素与云 DevOps 就绪，这需要任何重新构建和任何新代码相比的密钥。</span><span class="sxs-lookup"><span data-stu-id="8c499-115">This is a key differentiating factor compared to Cloud DevOps-Ready, which requires no re-architecting and no new code.</span></span>

<span data-ttu-id="8c499-116">在某些更高级的情况下，可能会创建[云本机](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications)应用程序基于微服务体系结构，这可以借助灵活性不断变化，并且扩展到将会很难实现在整体体系结构中的限制部署到本地环境。</span><span class="sxs-lookup"><span data-stu-id="8c499-116">In some more advanced cases, you might create [cloud-native](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications) applications based on microservices architectures, which can evolve with agility and scale to limits that would be difficult to achieve in a monolithic architecture deployed to an on-premises environment.</span></span>

<span data-ttu-id="8c499-117">图 4-4 显示使用云优化模型时可以部署的应用程序的类型。</span><span class="sxs-lookup"><span data-stu-id="8c499-117">Figure 4-4 shows the type of applications that you can deploy when you use the Cloud-Optimized model.</span></span> <span data-ttu-id="8c499-118">你有两个基本选项现代 web 应用程序和云本机应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-118">You have two basic choices-modern web applications and cloud-native applications.</span></span>

> ![在云优化级别的应用类型](./media/image4.png)
>
> <span data-ttu-id="8c499-120">**图 4-4。**</span><span class="sxs-lookup"><span data-stu-id="8c499-120">**Figure 4-4.**</span></span> <span data-ttu-id="8c499-121">在云优化级别的应用类型</span><span class="sxs-lookup"><span data-stu-id="8c499-121">App types at the Cloud-Optimized level</span></span>

<span data-ttu-id="8c499-122">可以通过添加其他服务，如人工智能 (AI)、 机器学习 (ML) 和 IoT 扩展基本现代应用 web 程序和云本机应用。</span><span class="sxs-lookup"><span data-stu-id="8c499-122">You can extend basic modern web apps and cloud-native apps by adding other services, like artificial intelligence (AI), machine learning (ML), and IoT.</span></span> <span data-ttu-id="8c499-123">你可能使用这些服务的任何扩展任何可能的云优化方法。</span><span class="sxs-lookup"><span data-stu-id="8c499-123">You might use any of these services to extend any of the possible Cloud-Optimized approaches.</span></span>

<span data-ttu-id="8c499-124">在云优化级别的应用程序中的重要差别在于在应用程序体系结构。</span><span class="sxs-lookup"><span data-stu-id="8c499-124">The fundamental difference in applications at the Cloud-Optimized level is in the application architecture.</span></span> <span data-ttu-id="8c499-125">[云本机](https://www.gartner.com/doc/3738117/comparing-leading-cloudnative-application-platforms)应用程序是，根据定义，基于微服务的应用。</span><span class="sxs-lookup"><span data-stu-id="8c499-125">[Cloud-native](https://www.gartner.com/doc/3738117/comparing-leading-cloudnative-application-platforms) applications are, by definition, apps that are based on microservices.</span></span> <span data-ttu-id="8c499-126">云本机应用需要特殊的体系结构、 技术和平台，相比整体 web 应用程序或传统的 N 层应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-126">Cloud-native apps require special architectures, technologies, and platforms, compared to a monolithic web application or traditional N-Tier application.</span></span>

<span data-ttu-id="8c499-127">创建新应用程序不使用微服务也有意义。</span><span class="sxs-lookup"><span data-stu-id="8c499-127">Creating new applications that don't use microservices also makes sense.</span></span> <span data-ttu-id="8c499-128">有许多新的和仍现代方案在其中一种微服务基于方法可能会超出你的需求。</span><span class="sxs-lookup"><span data-stu-id="8c499-128">There are many new and still modern scenarios in which a microservices-based approach might exceed your needs.</span></span> <span data-ttu-id="8c499-129">在某些情况下，你可能只是想要创建一个更简单的整体 web 应用程序，或将粗粒度的服务添加到 N 层应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-129">In some cases, you might just want to create a simpler monolithic web application, or add coarse-grained services to an N-Tier app.</span></span> <span data-ttu-id="8c499-130">在这些情况下，你仍可以完全使用云的类似 Azure App Service 所提供的 PaaS 功能。</span><span class="sxs-lookup"><span data-stu-id="8c499-130">In these cases, you can still make full use of cloud PaaS capabilities like the ones offered by Azure App Service.</span></span> <span data-ttu-id="8c499-131">你仍可以限制到减少维护工作。</span><span class="sxs-lookup"><span data-stu-id="8c499-131">You still reduce your maintenance work to the limit.</span></span>

<span data-ttu-id="8c499-132">此外，因为开发新代码在云优化方案中 （为完整的应用程序或部分子系统），当您创建新的代码，你应使用较新版本的.NET ([.NET 核心](../../../core/index.md)和[ASP.NET Core](/aspnet/core/)，尤其是)。</span><span class="sxs-lookup"><span data-stu-id="8c499-132">Also, because you develop new code in Cloud-Optimized scenarios (for a full application or for partial subsystems), when you create new code, you should use the newer versions of .NET ([.NET Core](../../../core/index.md) and [ASP.NET Core](/aspnet/core/), in particular).</span></span> <span data-ttu-id="8c499-133">这是如果因为.NET 核心是一个框架，精益和快速创建微服务和容器尤其如此。</span><span class="sxs-lookup"><span data-stu-id="8c499-133">This is especially true if you create microservices and containers because .NET Core is a lean and fast framework.</span></span> <span data-ttu-id="8c499-134">你会获得小的内存需求量和在容器中，快速开始，你的应用程序将高性能。</span><span class="sxs-lookup"><span data-stu-id="8c499-134">You'll get a small memory footprint and fast start in containers, and your applications will be high-performing.</span></span> <span data-ttu-id="8c499-135">此方法十分适合与需求微服务和容器，并获得跨平台框架能够在 Linux、 Windows Server 和 Mac (Mac 开发环境) 上运行同一应用程序的优点。</span><span class="sxs-lookup"><span data-stu-id="8c499-135">This approach fits perfectly with the requirements of microservices and containers, and you get the benefits of a cross-platform framework-being able to run the same application on Linux, Windows Server, and Mac (Mac for development environments).</span></span>

## <a name="cloud-native-applications-with-cloud-optimized-applications"></a><span data-ttu-id="8c499-136">与云优化应用程序的云本机应用程序</span><span class="sxs-lookup"><span data-stu-id="8c499-136">Cloud-native applications with Cloud-Optimized applications</span></span>

<span data-ttu-id="8c499-137">[云本机](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications)为大型和任务关键型应用程序的更高级或成熟状态。</span><span class="sxs-lookup"><span data-stu-id="8c499-137">[Cloud-native](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications) is a more advanced or mature state for large and mission-critical applications.</span></span> <span data-ttu-id="8c499-138">云本机应用程序通常需要体系结构和设计而不是从头创建的 modernizing 现有应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-138">Cloud-native applications usually require architecture and design that are created from scratch instead of by modernizing existing applications.</span></span> <span data-ttu-id="8c499-139">云本机应用程序和更简单云优化 web 应用部署到 PaaS 的主要区别是用于在云本机方法中的微服务体系结构的建议。</span><span class="sxs-lookup"><span data-stu-id="8c499-139">The key difference between a cloud-native application and a simpler Cloud-Optimized web app deployed to PaaS is the recommendation to use microservices architectures in a cloud-native approach.</span></span> <span data-ttu-id="8c499-140">云优化应用也可以是单一的 web 应用或 N 层应用程序部署到云等 Azure App Service 的 PaaS 服务。</span><span class="sxs-lookup"><span data-stu-id="8c499-140">Cloud-Optimized apps can also be monolithic web apps or N-Tier apps deployed to a cloud PaaS service like Azure App Service.</span></span>

<span data-ttu-id="8c499-141">[十二个因素应用](https://12factor.net/)（密切相关到微服务方法的模式的集合） 也被视为一项要求[云本机](https://www.gartner.com/doc/3738117/comparing-leading-cloudnative-application-platforms)应用程序体系结构。</span><span class="sxs-lookup"><span data-stu-id="8c499-141">The [Twelve-Factor App](https://12factor.net/) (a collection of patterns that are closely related to microservices approaches) also is considered a requirement for [cloud-native](https://www.gartner.com/doc/3738117/comparing-leading-cloudnative-application-platforms) application architectures.</span></span>

<span data-ttu-id="8c499-142">[云本机计算 Foundation (CNCF)](https://www.cncf.io/)是云本机原则主提升程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-142">The [Cloud Native Computing Foundation (CNCF)](https://www.cncf.io/) is a primary promoter of cloud-native principles.</span></span> <span data-ttu-id="8c499-143">Microsoft 是[CNCF 成员](https://azure.microsoft.com/blog/announcing-cncf/)。</span><span class="sxs-lookup"><span data-stu-id="8c499-143">Microsoft is a [member of the CNCF](https://azure.microsoft.com/blog/announcing-cncf/).</span></span>

<span data-ttu-id="8c499-144">有关示例定义和特征的云本机应用程序的详细信息，请参阅 Gartner 文章[如何构建和设计云本机应用程序](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications)。</span><span class="sxs-lookup"><span data-stu-id="8c499-144">For a sample definition and for more information about the characteristics of cloud-native applications, see the Gartner article [How to architect and design cloud-native applications](https://www.gartner.com/doc/3181919/architect-design-cloudnative-applications).</span></span> <span data-ttu-id="8c499-145">有关如何实现云本机应用程序从 Microsoft 的具体指引，请参阅[.NET 微服务： 为容器化的.NET 应用程序的体系结构](https://aka.ms/microservicesebook)。</span><span class="sxs-lookup"><span data-stu-id="8c499-145">For specific guidance from Microsoft about how to implement a cloud-native application, see [.NET microservices: Architecture for containerized .NET applications](https://aka.ms/microservicesebook).</span></span>

<span data-ttu-id="8c499-146">要考虑是否你迁移到完整的应用程序，最重要的因素[云本机](https://www.gartner.com/doc/3738117/comparing-leading-cloudnative-application-platforms)模型是，您必须重新构建到基于微服务的体系结构。</span><span class="sxs-lookup"><span data-stu-id="8c499-146">The most important factor to consider if you migrate a full application to the [cloud-native](https://www.gartner.com/doc/3738117/comparing-leading-cloudnative-application-platforms) model is that you must re-architect to a microservices-based architecture.</span></span> <span data-ttu-id="8c499-147">这清楚地由于涉及的大型重构过程需要大量的开发。</span><span class="sxs-lookup"><span data-stu-id="8c499-147">This clearly requires a significant investment in development because of the large refactoring process involved.</span></span> <span data-ttu-id="8c499-148">选择此选项，通常是任务关键型应用程序需要更高级别的可伸缩性和长期的灵活性。</span><span class="sxs-lookup"><span data-stu-id="8c499-148">This option usually is chosen for mission-critical applications that need new levels of scalability and long-term agility.</span></span> <span data-ttu-id="8c499-149">但是，你可以开始在移至云本机通过添加只需少量的新方案的微服务并最终重构完全作为微服务应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-149">But, you could start moving toward cloud-native by adding microservices for just a few new scenarios, and eventually refactor the application fully as microservices.</span></span> <span data-ttu-id="8c499-150">这是递增的方法是在某些情况下的最佳选项。</span><span class="sxs-lookup"><span data-stu-id="8c499-150">This is an incremental approach that is the best option for some scenarios.</span></span>

## <a name="what-about-microservices"></a><span data-ttu-id="8c499-151">有关微服务的新增功能？</span><span class="sxs-lookup"><span data-stu-id="8c499-151">What about microservices?</span></span> 

<span data-ttu-id="8c499-152">在为你的组织考虑云本机应用程序，了解微服务以及它们如何工作非常重要。</span><span class="sxs-lookup"><span data-stu-id="8c499-152">Understanding microservices and how they work is important when you are considering cloud-native applications for your organization.</span></span>

<span data-ttu-id="8c499-153">微服务体系结构是可用于从零开始或改进现有应用程序创建的应用程序的高级的方法 （在本地或云 DevOps 准备就绪，可以应用程序） 向云本机应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-153">The microservices architecture is an advanced approach that you can use for applications that are created from scratch or when you evolve existing applications (either on-premises or cloud DevOps-Ready apps) toward cloud-native applications.</span></span> <span data-ttu-id="8c499-154">你可以通过将几个微服务添加到现有应用程序若要了解有关新的微服务范例。</span><span class="sxs-lookup"><span data-stu-id="8c499-154">You can start by adding a few microservices to existing applications to learn about the new microservices paradigms.</span></span> <span data-ttu-id="8c499-155">但很显然，你需要的架构师和代码，尤其是对于这种体系结构的方法。</span><span class="sxs-lookup"><span data-stu-id="8c499-155">But clearly, you need to architect and code, especially for this type of architectural approach.</span></span>

<span data-ttu-id="8c499-156">但是，微服务并不是强制的任何新的或现代应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-156">However, microservices are not mandatory for any new or modern application.</span></span> <span data-ttu-id="8c499-157">微服务不是"幻项目符号，"，并且它们不创建每个应用程序的单一的最佳方法。</span><span class="sxs-lookup"><span data-stu-id="8c499-157">Microservices are not a "magic bullet," and they aren't the single, best way to create every application.</span></span> <span data-ttu-id="8c499-158">如何以及何时使用微服务取决于生成所需的应用程序的类型。</span><span class="sxs-lookup"><span data-stu-id="8c499-158">How and when you use microservices depends on the type of application that you need to build.</span></span>

<span data-ttu-id="8c499-159">微服务体系结构已变得分布式和大型或复杂的任务关键型应用程序基于自治服务形式的多个独立子系统的首选的方法。</span><span class="sxs-lookup"><span data-stu-id="8c499-159">The microservices architecture is becoming the preferred approach for distributed and large or complex mission-critical applications that are based on multiple, independent subsystems in the form of autonomous services.</span></span> <span data-ttu-id="8c499-160">在基于微服务的体系结构，应用程序生成为一个服务可以是独立开发、 测试、 版本控制的部署，并且扩展的集合。</span><span class="sxs-lookup"><span data-stu-id="8c499-160">In a microservices-based architecture, an application is built as a collection of services that can be independently developed, tested, versioned, deployed, and scaled.</span></span> <span data-ttu-id="8c499-161">这可能包括任何自治的每个微服务相关的数据库。</span><span class="sxs-lookup"><span data-stu-id="8c499-161">This can include any related, autonomous database per microservice.</span></span>

<span data-ttu-id="8c499-162">了解可以使用.NET 核心的实现的微服务体系结构的详细信息，请参阅可下载 PDF 电子书[.NET 微服务： 为容器化的.NET 应用程序的体系结构](https://aka.ms/microservicesebook)。</span><span class="sxs-lookup"><span data-stu-id="8c499-162">For a detailed look at a microservices architecture that you can implement by using .NET Core, see the downloadable PDF e-book [.NET microservices: Architecture for containerized .NET applications](https://aka.ms/microservicesebook).</span></span> <span data-ttu-id="8c499-163">本指南也是可用[联机](../../microservices-architecture/index.md)。</span><span class="sxs-lookup"><span data-stu-id="8c499-163">The guide also is available [online](../../microservices-architecture/index.md).</span></span>

<span data-ttu-id="8c499-164">但即使在微服务提供功能强大的功能独立于部署、 强子系统边界和技术多样性的方案中的它们也会引发许多新的挑战。</span><span class="sxs-lookup"><span data-stu-id="8c499-164">But even in scenarios in which microservices offer powerful capabilities-independent deployment, strong subsystem boundaries, and technology diversity-they also raise many new challenges.</span></span> <span data-ttu-id="8c499-165">与分布式应用程序开发，例如分片和独立的数据模型; 相关面临的挑战实现弹性微服务; 之间的通信需要考虑最终一致性; 需要和操作的复杂性。</span><span class="sxs-lookup"><span data-stu-id="8c499-165">The challenges are related to distributed application development, such as fragmented and independent data models; achieving resilient communication between microservices; the need for eventual consistency; and operational complexity.</span></span> <span data-ttu-id="8c499-166">微服务引入更高级别的相比传统的整体应用程序的复杂性。</span><span class="sxs-lookup"><span data-stu-id="8c499-166">Microservices introduce a higher level of complexity compared to traditional monolithic applications.</span></span>

<span data-ttu-id="8c499-167">由于微服务体系结构的复杂性，只有特定方案和某些应用程序类型都适用于基于微服务构成的应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-167">Because of the complexity of a microservices architecture, only specific scenarios and certain application types are suitable for microservice-based applications.</span></span> <span data-ttu-id="8c499-168">其中包括大型和复杂的应用程序有多个，不断演变的子系统。</span><span class="sxs-lookup"><span data-stu-id="8c499-168">These include large and complex applications that have multiple, evolving subsystems.</span></span> <span data-ttu-id="8c499-169">在这些情况下，值得在更复杂的软件体系结构，用于增加的长期灵活性和效率更高的应用程序维护投资。</span><span class="sxs-lookup"><span data-stu-id="8c499-169">In these cases, it's worth investing in a more complex software architecture, for increased long-term agility and more efficient application maintenance.</span></span> <span data-ttu-id="8c499-170">但对于不太复杂的方案，这可能是更好的做法继续整体应用程序方法，或者更简单的 N 层接近。</span><span class="sxs-lookup"><span data-stu-id="8c499-170">But for less complex scenarios, it might be better to continue with a monolithic application approach or simpler N-Tier approaches.</span></span>

<span data-ttu-id="8c499-171">为最终请注意，即使的风险是重复这一概念，有关你不应查看在你的应用程序中使用微服务"一体化或 nothing 根本*。*"</span><span class="sxs-lookup"><span data-stu-id="8c499-171">As a final note, even at the risk of being repetitive about this concept, you shouldn't look at using microservices in your applications as "all-in or nothing at all*.*"</span></span> <span data-ttu-id="8c499-172">可以扩展，还可以通过添加新的、 基于微服务的小型方案发展现有的单一应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-172">You can extend and evolve existing monolithic applications by adding new, small scenarios based on microservices.</span></span> <span data-ttu-id="8c499-173">你不必从头以开始使用的微服务体系结构方法开始。</span><span class="sxs-lookup"><span data-stu-id="8c499-173">You don't need to start from scratch to start working with a microservices architecture approach.</span></span> <span data-ttu-id="8c499-174">事实上，我们建议你通过添加新的方案中使用现有的整体或 N 层应用程序演变。</span><span class="sxs-lookup"><span data-stu-id="8c499-174">In fact, we recommend that you evolve from using an existing monolithic or N-Tier application by adding new scenarios.</span></span> <span data-ttu-id="8c499-175">最终，你可以将分解到自治组件或微服务应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-175">Eventually, you can break down the application into autonomous components or microservices.</span></span> <span data-ttu-id="8c499-176">你可以开始不断演变的微服务方向，执行步骤的整体应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-176">You can start evolving your monolithic applications in a microservices direction, step by step.</span></span>

## <a name="when-to-use-azure-app-service-for-modernizing-existing-net-apps"></a><span data-ttu-id="8c499-177">何时为 modernizing 现有的.NET 应用程序使用 Azure App Service</span><span class="sxs-lookup"><span data-stu-id="8c499-177">When to use Azure App Service for modernizing existing .NET apps</span></span>

<span data-ttu-id="8c499-178">当由于 web 应用程序已开发了使用.NET Framework 现代化的云进行优化的成熟度，到的现有 ASP.NET web 应用程序主要依赖项将显示在 Windows 和 Internet 信息服务器 (IIS)，最有可能。</span><span class="sxs-lookup"><span data-stu-id="8c499-178">When you modernize existing ASP.NET web applications to the Cloud-Optimized maturity level, because your web applications were developed by using the .NET Framework, your main dependencies are on Windows and, most likely, Internet Information Server (IIS).</span></span> <span data-ttu-id="8c499-179">你可以使用和部署基于 Windows 和基于 IIS 的应用程序通过直接部署到[Azure App Service](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)或第一台 containerizing 你的应用程序通过使用 Windows 容器。</span><span class="sxs-lookup"><span data-stu-id="8c499-179">You can use and deploy Windows-based and IIS-based applications either by directly deploying to [Azure App Service](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is) or by first containerizing your application by using Windows Containers.</span></span> <span data-ttu-id="8c499-180">如果 containerizing，或者部署应用程序到 Windows 容器承载 （基于 VM 的） 或到 Azure Service Fabric 群集支持的 Windows 容器。</span><span class="sxs-lookup"><span data-stu-id="8c499-180">If containerizing, deploy the applications either to Windows Containers hosts (VM-based) or to an Azure Service Fabric cluster that supports Windows Containers.</span></span>

<span data-ttu-id="8c499-181">当你使用 Windows 容器时，你将获取容器化的所有的优点。</span><span class="sxs-lookup"><span data-stu-id="8c499-181">When you use Windows Containers, you get all the benefits of containerization.</span></span> <span data-ttu-id="8c499-182">提高了灵活性传送和部署你的应用，并减少环境问题 （过渡、 开发/测试、 生产） 的问题。</span><span class="sxs-lookup"><span data-stu-id="8c499-182">You increase agility in shipping and deploying your app, and reduce friction for environment issues (staging, dev/test, production).</span></span> <span data-ttu-id="8c499-183">在下一步的几个部分中，我们进入有关你使用容器带来的好处的详细信息。</span><span class="sxs-lookup"><span data-stu-id="8c499-183">In the next few sections, we go into more detail about the benefits you get from using containers.</span></span>

<span data-ttu-id="8c499-184">截止到撰写本指南中，Azure App Service 不支持 Windows 容器。</span><span class="sxs-lookup"><span data-stu-id="8c499-184">As of the writing of this guide, Azure App Service does not support Windows Containers.</span></span> <span data-ttu-id="8c499-185">它适用于 Linux 支持容器。</span><span class="sxs-lookup"><span data-stu-id="8c499-185">It does support containers for Linux.</span></span> <span data-ttu-id="8c499-186">因此，你下一步的问题可能是，"如何之间做出选择 Azure App Service 和 Windows 容器？"</span><span class="sxs-lookup"><span data-stu-id="8c499-186">So, your next question might be, "How do I choose between Azure App Service and Windows Containers?"</span></span>

<span data-ttu-id="8c499-187">基本上，如果 Azure App Service 适用于你的应用程序，并且不存在的任何服务器或阻止要使用 App Service 的路径的自定义依赖关系，你应迁移到 App Service 现有.NET web 应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-187">Basically, if Azure App Service works for your application and there aren't any server or custom dependencies blocking the path to use App Service, you should migrate your existing .NET web application to App Service.</span></span> <span data-ttu-id="8c499-188">这是维护你的应用程序的最简单、 最有效方法。</span><span class="sxs-lookup"><span data-stu-id="8c499-188">That's the easiest, most effective way to maintain your application.</span></span> <span data-ttu-id="8c499-189">在 Azure 中，你的应用程序还将具有更简单的维护路径因为从 PaaS 的基础结构，如 DBaaS、 CaaS 和 STaaS 优势。</span><span class="sxs-lookup"><span data-stu-id="8c499-189">In Azure, your application also will have a simpler maintenance path because of the benefits from PaaS infrastructure, like DBaaS, CaaS, and STaaS.</span></span>

<span data-ttu-id="8c499-190">但是，如果你的应用程序确实具有服务器或不支持在 Azure App Service 中的自定义依赖关系，你可能需要考虑基于 Windows 容器的选项。</span><span class="sxs-lookup"><span data-stu-id="8c499-190">However, if your application does have server or custom dependencies that are not supported in Azure App Service, you might need to consider options that are based on Windows Containers.</span></span> <span data-ttu-id="8c499-191">服务器或自定义的依赖项的示例包括第三方软件或.msi 文件，需要安装在服务器上，但它不在 Azure App Service 支持。</span><span class="sxs-lookup"><span data-stu-id="8c499-191">Examples of server or custom dependencies include third-party software or an .msi file that needs to be installed on the server, but which is not supported in Azure App Service.</span></span> <span data-ttu-id="8c499-192">另一个示例是在 Azure App Service，不像使用 COM 对全局程序集缓存 (GAC) 中的程序集支持的任何其他服务器配置 / COM + 组件。</span><span class="sxs-lookup"><span data-stu-id="8c499-192">Another example is any other server configuration that's not supported in Azure App Service, like using assemblies in the Global Assembly Cache (GAC) or COM/COM+ components.</span></span> <span data-ttu-id="8c499-193">感谢 Windows 容器映像，你可以包含自定义依赖项的同一个"单位中部署。"</span><span class="sxs-lookup"><span data-stu-id="8c499-193">Thanks to Windows container images, you can include your custom dependencies in the same "unit of deployment."</span></span>

<span data-ttu-id="8c499-194">或者，你无法重构你的应用程序不支持的 Azure App Service 的区域。</span><span class="sxs-lookup"><span data-stu-id="8c499-194">Alternatively, you could refactor the areas of your application that are not supported by Azure App Service.</span></span> <span data-ttu-id="8c499-195">具体取决于工作量重构都需要，你必须仔细评估，是否值得执行此操作。</span><span class="sxs-lookup"><span data-stu-id="8c499-195">Depending on the volume of work refactoring would require, you'd have to carefully evaluate whether that's worth doing.</span></span>

### <a name="benefits-of-moving-to-azure-app-service"></a><span data-ttu-id="8c499-196">将移动到 Azure App Service 的优点</span><span class="sxs-lookup"><span data-stu-id="8c499-196">Benefits of moving to Azure App Service</span></span>

<span data-ttu-id="8c499-197">Azure App Service 是完全托管的 PaaS 产品，可以轻松地生成由业务流程的 web 应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-197">Azure App Service is a fully managed PaaS offering that makes it easy to build web apps that are backed by business processes.</span></span> <span data-ttu-id="8c499-198">当你使用 App Service 时，则将避免与升级和维护 web 应用本地关联的基础结构管理成本。</span><span class="sxs-lookup"><span data-stu-id="8c499-198">When you use App Service, you avoid the infrastructure management costs associated with upgrading and maintaining web apps on-premises.</span></span> <span data-ttu-id="8c499-199">具体而言，你将剪切的硬件和许可成本的 web 应用程序在本地运行。</span><span class="sxs-lookup"><span data-stu-id="8c499-199">Specifically, you cut the hardware and licensing costs of running web apps on-premises.</span></span>

<span data-ttu-id="8c499-200">如果你的 web 应用程序是时间的适用于迁移到 Azure App Service 的主要优势是时间的短移动应用程序所需量。</span><span class="sxs-lookup"><span data-stu-id="8c499-200">If your web application is suitable for migrating to Azure App Service, the main benefit is the short amount of time it takes to move the app.</span></span> <span data-ttu-id="8c499-201">应用程序服务提供非常简单的环境，在其中吧。</span><span class="sxs-lookup"><span data-stu-id="8c499-201">App Service offers a very easy environment in which to get started.</span></span>

<span data-ttu-id="8c499-202">Azure App Service 是大多数 web 应用的最佳选择，因为它是可用于运行 web 应用的 Azure 中最简单的 PaaS。</span><span class="sxs-lookup"><span data-stu-id="8c499-202">Azure App Service is the best choice for most web apps because it's the simplest PaaS in Azure that you can use to run web apps.</span></span> <span data-ttu-id="8c499-203">部署和管理集成到平台、 站点快速缩放以应对高流量负载，和内置的负载平衡和流量管理器提供高可用性。</span><span class="sxs-lookup"><span data-stu-id="8c499-203">Deployment and management are integrated into the platform, sites scale quickly to handle high traffic loads, and the built-in load balancing and traffic manager provide high availability.</span></span>

<span data-ttu-id="8c499-204">即使监视你的 web 应用非常简单，通过 Azure Application Insights。</span><span class="sxs-lookup"><span data-stu-id="8c499-204">Even monitoring your web apps is simple, through Azure Application Insights.</span></span> <span data-ttu-id="8c499-205">Application Insights 免费使用 App Service，附送，而且不需要在你的应用程序中编写任何特殊的代码。</span><span class="sxs-lookup"><span data-stu-id="8c499-205">Application Insights comes free with App Service, and doesn't require writing any special code in your application.</span></span> <span data-ttu-id="8c499-206">只需在 App Service 中运行你的 web 应用，并且你将获取令人信服的监视系统，与任何额外工作。</span><span class="sxs-lookup"><span data-stu-id="8c499-206">Just run your web app in App Service, and you'll get a compelling monitoring system, with no additional work.</span></span>

<span data-ttu-id="8c499-207">使用 App Service，可以直接从 Azure Web 应用程序库 （如 WordPress 或 Umbraco），使用许多开放源代码应用程序或你可以使用的框架和您的选择，如 ASP.NET 工具来创建新的站点。</span><span class="sxs-lookup"><span data-stu-id="8c499-207">With App Service, you can also directly use many open-source apps from the Azure Web Application Gallery (like WordPress or Umbraco), or you can create a new site by using the framework and tools of your choice, like ASP.NET.</span></span> <span data-ttu-id="8c499-208">应用程序服务 web 作业功能，可轻松地为你的 App Service web 应用添加后台作业处理。</span><span class="sxs-lookup"><span data-stu-id="8c499-208">The App Service WebJobs feature makes it easy to add background job processing to your App Service web app.</span></span>

<span data-ttu-id="8c499-209">使用 Azure App Service Web Apps 功能迁移你的 web 应用的主要优点包括：</span><span class="sxs-lookup"><span data-stu-id="8c499-209">Key advantages of migrating your web apps by using the Web Apps feature of Azure App Service include the following:</span></span>

-   <span data-ttu-id="8c499-210">自动缩放以满足忙时的需求，并在静音时间内降低成本。</span><span class="sxs-lookup"><span data-stu-id="8c499-210">Automatic scaling to meet demand during busy times and reduce costs during quiet times.</span></span>

-   <span data-ttu-id="8c499-211">自动站点备份来保护更改和数据。</span><span class="sxs-lookup"><span data-stu-id="8c499-211">Automatic site backups to protect changes and data.</span></span>

-   <span data-ttu-id="8c499-212">高可用性和在 Azure PaaS 平台上的恢复。</span><span class="sxs-lookup"><span data-stu-id="8c499-212">High availability and resilience on the Azure PaaS platform.</span></span>

-   <span data-ttu-id="8c499-213">部署槽的开发和过渡环境，和测试多个站点设计。</span><span class="sxs-lookup"><span data-stu-id="8c499-213">Deployment slots for development and staging environments, and for testing multiple site designs.</span></span>

-   <span data-ttu-id="8c499-214">负载平衡和分布式拒绝服务 (DDoS) 保护。</span><span class="sxs-lookup"><span data-stu-id="8c499-214">Load balancing and Distributed Denial of Service (DDoS) protection.</span></span>

-   <span data-ttu-id="8c499-215">若要将用户定向到最近地理部署的流量管理。</span><span class="sxs-lookup"><span data-stu-id="8c499-215">Traffic management to direct users to the closest geographic deployment.</span></span>

<span data-ttu-id="8c499-216">尽管应用程序服务可能是新的 web 应用的最佳选择，但是，对于现有应用程序，App Service 可能是最佳选择仅当在 App Service 支持你的应用程序依赖关系。</span><span class="sxs-lookup"><span data-stu-id="8c499-216">Although App Service might be the best choice for new web apps, however, for existing applications, App Service might be the best choice only if your application dependencies are supported in App Service.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="8c499-217">其他资源</span><span class="sxs-lookup"><span data-stu-id="8c499-217">Additional resources</span></span>

-   <span data-ttu-id="8c499-218">**对 Azure App Service 的兼容性分析**</span><span class="sxs-lookup"><span data-stu-id="8c499-218">**Compatibility analysis for Azure App Service**</span></span>  
[<span data-ttu-id="8c499-219">https://www.migratetoazure.net/Resources</span><span class="sxs-lookup"><span data-stu-id="8c499-219">https://www.migratetoazure.net/Resources</span></span>](https://www.migratetoazure.net/Resources)


### <a name="benefits-of-moving-to-windows-containers"></a><span data-ttu-id="8c499-220">将移动到 Windows 容器的优点</span><span class="sxs-lookup"><span data-stu-id="8c499-220">Benefits of moving to Windows Containers</span></span>

<span data-ttu-id="8c499-221">使用 Windows 容器的主要优势是，获得更加可靠和改进部署体验，相比非容器化应用程序。</span><span class="sxs-lookup"><span data-stu-id="8c499-221">The main benefit of using Windows Containers is that you gain a more reliable and improved deployment experience, compared to non-containerized apps.</span></span> <span data-ttu-id="8c499-222">此外，拥有有效地改进与容器应用程序可使你的应用程序供许多其他平台和支持 Windows 容器的云。</span><span class="sxs-lookup"><span data-stu-id="8c499-222">In addition, having your application modernized with containers effectively makes your application ready for many other platforms and clouds that support Windows Containers.</span></span> <span data-ttu-id="8c499-223">以下各节中更详细地介绍移动到 Windows 容器的好处。</span><span class="sxs-lookup"><span data-stu-id="8c499-223">The benefits of moving to Windows Containers are covered in more detail in the next sections.</span></span>

<span data-ttu-id="8c499-224">支持 Windows 容器 （在正式发布，截至中旬 2017年） 的 Azure 中的主计算环境是 Azure Service Fabric 和基本 Windows 容器主机 (Windows Server 2016 Vm)。</span><span class="sxs-lookup"><span data-stu-id="8c499-224">The primary compute environments in Azure (in general availability, as of mid-2017) that support Windows Containers are Azure Service Fabric and basic Windows Containers hosts (Windows Server 2016 VMs).</span></span> <span data-ttu-id="8c499-225">这些环境是本指南中涉及的主要的基础结构方案。</span><span class="sxs-lookup"><span data-stu-id="8c499-225">These environments are the main infrastructure scenarios covered in this guide.</span></span>

<span data-ttu-id="8c499-226">你还可以部署 Windows 容器到其他 orchestrators，如 Kubernetes、 Docker Swarm，或 DC/OS。</span><span class="sxs-lookup"><span data-stu-id="8c499-226">You also can deploy Windows Containers to other orchestrators, like Kubernetes, Docker Swarm, or DC/OS.</span></span> <span data-ttu-id="8c499-227">当前 （尽早在 2017 年 1），这些平台处于预览状态 Azure 容器服务中使用 Windows 容器。</span><span class="sxs-lookup"><span data-stu-id="8c499-227">Currently (early fall 2017), these platforms are in preview in Azure Container Service for using Windows Containers.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="8c499-228">[上一页](microsoft-technologies-in-cloud-devops-ready-applications.md)
[下一页](how-to-deploy-existing-net-apps-to-azure-app-service.md)</span><span class="sxs-lookup"><span data-stu-id="8c499-228">[Previous](microsoft-technologies-in-cloud-devops-ready-applications.md)
[Next](how-to-deploy-existing-net-apps-to-azure-app-service.md)</span></span>
